'use strict';var $jscomp$arrayIteratorImpl=function(array){var index=0;return function(){return index<array.length?{done:!1,value:array[index++]}:{done:!0}}},$jscomp$defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(target,property,descriptor){if(target==Array.prototype||target==Object.prototype)return target;target[property]=descriptor.value;return target},$jscomp$getGlobal=function(passedInThis){for(var possibleGlobals=["object"==typeof globalThis&&globalThis,
passedInThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],i=0;i<possibleGlobals.length;++i){var maybeGlobal=possibleGlobals[i];if(maybeGlobal&&maybeGlobal.Math==Math)return maybeGlobal}throw Error("Cannot find global object");},$jscomp$global=$jscomp$getGlobal(this),$jscomp$polyfill=function(target,polyfill){if(polyfill)a:{for(var obj=$jscomp$global,split=target.split("."),i=0;i<split.length-1;i++){var key=split[i];if(!(key in obj))break a;obj=obj[key]}var property=
split[split.length-1],orig=obj[property],impl=polyfill(orig);impl!=orig&&null!=impl&&$jscomp$defineProperty(obj,property,{configurable:!0,writable:!0,value:impl})}};
$jscomp$polyfill("Symbol",function(orig){if(orig)return orig;var SymbolClass=function(id,opt_description){this.$jscomp$symbol$id_=id;$jscomp$defineProperty(this,"description",{configurable:!0,writable:!0,value:opt_description})};SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};var SYMBOL_PREFIX="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",counter=0,symbolPolyfill=function(opt_description){if(this instanceof symbolPolyfill)throw new TypeError("Symbol is not a constructor");
return new SymbolClass(SYMBOL_PREFIX+(opt_description||"")+"_"+counter++,opt_description)};return symbolPolyfill},"es6","es3");
$jscomp$polyfill("Symbol.iterator",function(orig){if(orig)return orig;for(var symbolIterator=Symbol("Symbol.iterator"),arrayLikes="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<arrayLikes.length;i++){var ArrayLikeCtor=$jscomp$global[arrayLikes[i]];"function"===typeof ArrayLikeCtor&&"function"!=typeof ArrayLikeCtor.prototype[symbolIterator]&&$jscomp$defineProperty(ArrayLikeCtor.prototype,symbolIterator,{configurable:!0,
writable:!0,value:function(){return $jscomp$iteratorPrototype($jscomp$arrayIteratorImpl(this))}})}return symbolIterator},"es6","es3");
var $jscomp$iteratorPrototype=function(next){var iterator={next:next};iterator[Symbol.iterator]=function(){return this};return iterator},$jscomp$makeIterator=function(iterable){var iteratorFunction="undefined"!=typeof Symbol&&Symbol.iterator&&iterable[Symbol.iterator];return iteratorFunction?iteratorFunction.call(iterable):{next:$jscomp$arrayIteratorImpl(iterable)}},$jscomp$arrayFromIterator=function(iterator){for(var i,arr=[];!(i=iterator.next()).done;)arr.push(i.value);return arr},$jscomp$arrayFromIterable=
function(iterable){return iterable instanceof Array?iterable:$jscomp$arrayFromIterator($jscomp$makeIterator(iterable))},$jscomp$owns=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)},$jscomp$assign="function"==typeof Object.assign?Object.assign:function(target,var_args){for(var i=1;i<arguments.length;i++){var source=arguments[i];if(source)for(var key in source)$jscomp$owns(source,key)&&(target[key]=source[key])}return target};
$jscomp$polyfill("Object.assign",function(orig){return orig||$jscomp$assign},"es6","es3");var $jscomp$objectCreate="function"==typeof Object.create?Object.create:function(prototype){var ctor=function(){};ctor.prototype=prototype;return new ctor},JSCompiler_temp$jscomp$260;
if("function"==typeof Object.setPrototypeOf)JSCompiler_temp$jscomp$260=Object.setPrototypeOf;else{var JSCompiler_inline_result$jscomp$261;a:{var x$jscomp$inline_329={a:!0},y$jscomp$inline_330={};try{y$jscomp$inline_330.__proto__=x$jscomp$inline_329;JSCompiler_inline_result$jscomp$261=y$jscomp$inline_330.a;break a}catch(e){}JSCompiler_inline_result$jscomp$261=!1}JSCompiler_temp$jscomp$260=JSCompiler_inline_result$jscomp$261?function(target,proto){target.__proto__=proto;if(target.__proto__!==proto)throw new TypeError(target+
" is not extensible");return target}:null}
var $jscomp$setPrototypeOf=JSCompiler_temp$jscomp$260,$jscomp$inherits=function(childCtor,parentCtor){childCtor.prototype=$jscomp$objectCreate(parentCtor.prototype);childCtor.prototype.constructor=childCtor;if($jscomp$setPrototypeOf)$jscomp$setPrototypeOf(childCtor,parentCtor);else for(var p in parentCtor)if("prototype"!=p)if(Object.defineProperties){var descriptor=Object.getOwnPropertyDescriptor(parentCtor,p);descriptor&&Object.defineProperty(childCtor,p,descriptor)}else childCtor[p]=parentCtor[p];
childCtor.superClass_=parentCtor.prototype},$jscomp$getRestArguments=function(){for(var startIndex=Number(this),restArgs=[],i=startIndex;i<arguments.length;i++)restArgs[i-startIndex]=arguments[i];return restArgs};
$jscomp$polyfill("Promise",function(NativePromise){function AsyncExecutor(){this.batch_=null}function resolvingPromise(opt_value){return opt_value instanceof PolyfillPromise?opt_value:new PolyfillPromise(function(resolve){resolve(opt_value)})}if(NativePromise)return NativePromise;AsyncExecutor.prototype.asyncExecute=function(f){if(null==this.batch_){this.batch_=[];var self=this;this.asyncExecuteFunction(function(){self.executeBatch_()})}this.batch_.push(f)};var nativeSetTimeout=$jscomp$global.setTimeout;
AsyncExecutor.prototype.asyncExecuteFunction=function(f){nativeSetTimeout(f,0)};AsyncExecutor.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var executingBatch=this.batch_;this.batch_=[];for(var i=0;i<executingBatch.length;++i){var f=executingBatch[i];executingBatch[i]=null;try{f()}catch(error){this.asyncThrow_(error)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(exception){this.asyncExecuteFunction(function(){throw exception;})};var PolyfillPromise=function(executor){this.state_=
0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var resolveAndReject=this.createResolveAndReject_();try{executor(resolveAndReject.resolve,resolveAndReject.reject)}catch(e){resolveAndReject.reject(e)}};PolyfillPromise.prototype.createResolveAndReject_=function(){function firstCallWins(method){return function(x){alreadyCalled||(alreadyCalled=!0,method.call(thisPromise,x))}}var thisPromise=this,alreadyCalled=!1;return{resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};
PolyfillPromise.prototype.resolveTo_=function(value){if(value===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(value instanceof PolyfillPromise)this.settleSameAsPromise_(value);else{a:switch(typeof value){case "object":var JSCompiler_inline_result=null!=value;break a;case "function":JSCompiler_inline_result=!0;break a;default:JSCompiler_inline_result=!1}JSCompiler_inline_result?this.resolveToNonPromiseObj_(value):this.fulfill_(value)}};PolyfillPromise.prototype.resolveToNonPromiseObj_=
function(obj){var thenMethod=void 0;try{thenMethod=obj.then}catch(error){this.reject_(error);return}"function"==typeof thenMethod?this.settleSameAsThenable_(thenMethod,obj):this.fulfill_(obj)};PolyfillPromise.prototype.reject_=function(reason){this.settle_(2,reason)};PolyfillPromise.prototype.fulfill_=function(value){this.settle_(1,value)};PolyfillPromise.prototype.settle_=function(settledState,valueOrReason){if(0!=this.state_)throw Error("Cannot settle("+settledState+", "+valueOrReason+"): Promise already settled in state"+
this.state_);this.state_=settledState;this.result_=valueOrReason;2===this.state_&&this.scheduleUnhandledRejectionCheck_();this.executeOnSettledCallbacks_()};PolyfillPromise.prototype.scheduleUnhandledRejectionCheck_=function(){var self=this;nativeSetTimeout(function(){if(self.notifyUnhandledRejection_()){var nativeConsole=$jscomp$global.console;"undefined"!==typeof nativeConsole&&nativeConsole.error(self.result_)}},1)};PolyfillPromise.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;
var NativeCustomEvent=$jscomp$global.CustomEvent,NativeEvent=$jscomp$global.Event,nativeDispatchEvent=$jscomp$global.dispatchEvent;if("undefined"===typeof nativeDispatchEvent)return!0;if("function"===typeof NativeCustomEvent)var event=new NativeCustomEvent("unhandledrejection",{cancelable:!0});else"function"===typeof NativeEvent?event=new NativeEvent("unhandledrejection",{cancelable:!0}):(event=$jscomp$global.document.createEvent("CustomEvent"),event.initCustomEvent("unhandledrejection",!1,!0,event));
event.promise=this;event.reason=this.result_;return nativeDispatchEvent(event)};PolyfillPromise.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var i=0;i<this.onSettledCallbacks_.length;++i)asyncExecutor.asyncExecute(this.onSettledCallbacks_[i]);this.onSettledCallbacks_=null}};var asyncExecutor=new AsyncExecutor;PolyfillPromise.prototype.settleSameAsPromise_=function(promise){var methods=this.createResolveAndReject_();promise.callWhenSettled_(methods.resolve,
methods.reject)};PolyfillPromise.prototype.settleSameAsThenable_=function(thenMethod,thenable){var methods=this.createResolveAndReject_();try{thenMethod.call(thenable,methods.resolve,methods.reject)}catch(error){methods.reject(error)}};PolyfillPromise.prototype.then=function(onFulfilled,onRejected){function createCallback(paramF,defaultF){return"function"==typeof paramF?function(x){try{resolveChild(paramF(x))}catch(error){rejectChild(error)}}:defaultF}var resolveChild,rejectChild,childPromise=new PolyfillPromise(function(resolve,
reject){resolveChild=resolve;rejectChild=reject});this.callWhenSettled_(createCallback(onFulfilled,resolveChild),createCallback(onRejected,rejectChild));return childPromise};PolyfillPromise.prototype.catch=function(onRejected){return this.then(void 0,onRejected)};PolyfillPromise.prototype.callWhenSettled_=function(onFulfilled,onRejected){function callback(){switch(thisPromise.state_){case 1:onFulfilled(thisPromise.result_);break;case 2:onRejected(thisPromise.result_);break;default:throw Error("Unexpected state: "+
thisPromise.state_);}}var thisPromise=this;null==this.onSettledCallbacks_?asyncExecutor.asyncExecute(callback):this.onSettledCallbacks_.push(callback);this.isRejectionHandled_=!0};PolyfillPromise.resolve=resolvingPromise;PolyfillPromise.reject=function(opt_reason){return new PolyfillPromise(function(resolve,reject){reject(opt_reason)})};PolyfillPromise.race=function(thenablesOrValues){return new PolyfillPromise(function(resolve,reject){for(var iterator=$jscomp$makeIterator(thenablesOrValues),iterRec=
iterator.next();!iterRec.done;iterRec=iterator.next())resolvingPromise(iterRec.value).callWhenSettled_(resolve,reject)})};PolyfillPromise.all=function(thenablesOrValues){var iterator=$jscomp$makeIterator(thenablesOrValues),iterRec=iterator.next();return iterRec.done?resolvingPromise([]):new PolyfillPromise(function(resolveAll,rejectAll){function onFulfilled(i){return function(ithResult){resultsArray[i]=ithResult;unresolvedCount--;0==unresolvedCount&&resolveAll(resultsArray)}}var resultsArray=[],unresolvedCount=
0;do resultsArray.push(void 0),unresolvedCount++,resolvingPromise(iterRec.value).callWhenSettled_(onFulfilled(resultsArray.length-1),rejectAll),iterRec=iterator.next();while(!iterRec.done)})};return PolyfillPromise},"es6","es3");
$jscomp$polyfill("WeakMap",function(NativeWeakMap){function WeakMapMembership(){}function isValidKey(key){var type=typeof key;return"object"===type&&null!==key||"function"===type}function insert(target){if(!$jscomp$owns(target,prop)){var obj=new WeakMapMembership;$jscomp$defineProperty(target,prop,{value:obj})}}function patch(name){var prev=Object[name];prev&&(Object[name]=function(target){if(target instanceof WeakMapMembership)return target;Object.isExtensible(target)&&insert(target);return prev(target)})}
if(function(){if(!NativeWeakMap||!Object.seal)return!1;try{var x=Object.seal({}),y=Object.seal({}),map=new NativeWeakMap([[x,2],[y,3]]);if(2!=map.get(x)||3!=map.get(y))return!1;map.delete(x);map.set(y,4);return!map.has(x)&&4==map.get(y)}catch(err){return!1}}())return NativeWeakMap;var prop="$jscomp_hidden_"+Math.random();patch("freeze");patch("preventExtensions");patch("seal");var index=0,PolyfillWeakMap=function(opt_iterable){this.id_=(index+=Math.random()+1).toString();if(opt_iterable)for(var iter=
$jscomp$makeIterator(opt_iterable),entry;!(entry=iter.next()).done;){var item=entry.value;this.set(item[0],item[1])}};PolyfillWeakMap.prototype.set=function(key,value){if(!isValidKey(key))throw Error("Invalid WeakMap key");insert(key);if(!$jscomp$owns(key,prop))throw Error("WeakMap key fail: "+key);key[prop][this.id_]=value;return this};PolyfillWeakMap.prototype.get=function(key){return isValidKey(key)&&$jscomp$owns(key,prop)?key[prop][this.id_]:void 0};PolyfillWeakMap.prototype.has=function(key){return isValidKey(key)&&
$jscomp$owns(key,prop)&&$jscomp$owns(key[prop],this.id_)};PolyfillWeakMap.prototype.delete=function(key){return isValidKey(key)&&$jscomp$owns(key,prop)&&$jscomp$owns(key[prop],this.id_)?delete key[prop][this.id_]:!1};return PolyfillWeakMap},"es6","es3");
$jscomp$polyfill("Map",function(NativeMap){if(function(){if(!NativeMap||"function"!=typeof NativeMap||!NativeMap.prototype.entries||"function"!=typeof Object.seal)return!1;try{var key=Object.seal({x:4}),map=new NativeMap($jscomp$makeIterator([[key,"s"]]));if("s"!=map.get(key)||1!=map.size||map.get({x:4})||map.set({x:4},"t")!=map||2!=map.size)return!1;var iter=map.entries(),item=iter.next();if(item.done||item.value[0]!=key||"s"!=item.value[1])return!1;item=iter.next();return item.done||4!=item.value[0].x||
"t"!=item.value[1]||!iter.next().done?!1:!0}catch(err){return!1}}())return NativeMap;var idMap=new WeakMap,PolyfillMap=function(opt_iterable){this.data_={};this.head_=createHead();this.size=0;if(opt_iterable)for(var iter=$jscomp$makeIterator(opt_iterable),entry;!(entry=iter.next()).done;){var item=entry.value;this.set(item[0],item[1])}};PolyfillMap.prototype.set=function(key,value){key=0===key?0:key;var r=maybeGetEntry(this,key);r.list||(r.list=this.data_[r.id]=[]);r.entry?r.entry.value=value:(r.entry=
{next:this.head_,previous:this.head_.previous,head:this.head_,key:key,value:value},r.list.push(r.entry),this.head_.previous.next=r.entry,this.head_.previous=r.entry,this.size++);return this};PolyfillMap.prototype.delete=function(key){var r=maybeGetEntry(this,key);return r.entry&&r.list?(r.list.splice(r.index,1),r.list.length||delete this.data_[r.id],r.entry.previous.next=r.entry.next,r.entry.next.previous=r.entry.previous,r.entry.head=null,this.size--,!0):!1};PolyfillMap.prototype.clear=function(){this.data_=
{};this.head_=this.head_.previous=createHead();this.size=0};PolyfillMap.prototype.has=function(key){return!!maybeGetEntry(this,key).entry};PolyfillMap.prototype.get=function(key){var entry=maybeGetEntry(this,key).entry;return entry&&entry.value};PolyfillMap.prototype.entries=function(){return makeIterator(this,function(entry){return[entry.key,entry.value]})};PolyfillMap.prototype.keys=function(){return makeIterator(this,function(entry){return entry.key})};PolyfillMap.prototype.values=function(){return makeIterator(this,
function(entry){return entry.value})};PolyfillMap.prototype.forEach=function(callback,opt_thisArg){for(var iter=this.entries(),item;!(item=iter.next()).done;){var entry=item.value;callback.call(opt_thisArg,entry[1],entry[0],this)}};PolyfillMap.prototype[Symbol.iterator]=PolyfillMap.prototype.entries;var maybeGetEntry=function(map,key){var type=key&&typeof key;if("object"==type||"function"==type)if(idMap.has(key))var id=idMap.get(key);else{var id$jscomp$0=""+ ++mapIndex;idMap.set(key,id$jscomp$0);
id=id$jscomp$0}else id="p_"+key;var list=map.data_[id];if(list&&$jscomp$owns(map.data_,id))for(var index=0;index<list.length;index++){var entry=list[index];if(key!==key&&entry.key!==entry.key||key===entry.key)return{id:id,list:list,index:index,entry:entry}}return{id:id,list:list,index:-1,entry:void 0}},makeIterator=function(map,func){var entry=map.head_;return $jscomp$iteratorPrototype(function(){if(entry){for(;entry.head!=map.head_;)entry=entry.previous;for(;entry.next!=entry.head;)return entry=
entry.next,{done:!1,value:func(entry)};entry=null}return{done:!0,value:void 0}})},createHead=function(){var head={};return head.previous=head.next=head.head=head},mapIndex=0;return PolyfillMap},"es6","es3");
var $jscomp$checkStringArgs=function(thisArg,arg,func){if(null==thisArg)throw new TypeError("The 'this' value for String.prototype."+func+" must not be null or undefined");if(arg instanceof RegExp)throw new TypeError("First argument to String.prototype."+func+" must not be a regular expression");return thisArg+""};
$jscomp$polyfill("String.prototype.endsWith",function(orig){return orig?orig:function(searchString,opt_position){var string=$jscomp$checkStringArgs(this,searchString,"endsWith");searchString+="";void 0===opt_position&&(opt_position=string.length);for(var i=Math.max(0,Math.min(opt_position|0,string.length)),j=searchString.length;0<j&&0<i;)if(string[--i]!=searchString[--j])return!1;return 0>=j}},"es6","es3");
var $jscomp$findInternal=function(array,callback,thisArg){array instanceof String&&(array=String(array));for(var len=array.length,i=0;i<len;i++){var value=array[i];if(callback.call(thisArg,value,i,array))return{i:i,v:value}}return{i:-1,v:void 0}};$jscomp$polyfill("Array.prototype.find",function(orig){return orig?orig:function(callback,opt_thisArg){return $jscomp$findInternal(this,callback,opt_thisArg).v}},"es6","es3");
var $jscomp$iteratorFromArray=function(array,transform){array instanceof String&&(array+="");var i=0,done=!1,iter={next:function(){if(!done&&i<array.length){var index=i++;return{value:transform(index,array[index]),done:!1}}done=!0;return{done:!0,value:void 0}}};iter[Symbol.iterator]=function(){return iter};return iter};$jscomp$polyfill("Array.prototype.values",function(orig){return orig?orig:function(){return $jscomp$iteratorFromArray(this,function(k,v){return v})}},"es8","es3");
$jscomp$polyfill("Array.prototype.keys",function(orig){return orig?orig:function(){return $jscomp$iteratorFromArray(this,function(i){return i})}},"es6","es3");
$jscomp$polyfill("Set",function(NativeSet){if(function(){if(!NativeSet||"function"!=typeof NativeSet||!NativeSet.prototype.entries||"function"!=typeof Object.seal)return!1;try{var value=Object.seal({x:4}),set=new NativeSet($jscomp$makeIterator([value]));if(!set.has(value)||1!=set.size||set.add(value)!=set||1!=set.size||set.add({x:4})!=set||2!=set.size)return!1;var iter=set.entries(),item=iter.next();if(item.done||item.value[0]!=value||item.value[1]!=value)return!1;item=iter.next();return item.done||
item.value[0]==value||4!=item.value[0].x||item.value[1]!=item.value[0]?!1:iter.next().done}catch(err){return!1}}())return NativeSet;var PolyfillSet=function(opt_iterable){this.map_=new Map;if(opt_iterable)for(var iter=$jscomp$makeIterator(opt_iterable),entry;!(entry=iter.next()).done;)this.add(entry.value);this.size=this.map_.size};PolyfillSet.prototype.add=function(value){value=0===value?0:value;this.map_.set(value,value);this.size=this.map_.size;return this};PolyfillSet.prototype.delete=function(value){var result=
this.map_.delete(value);this.size=this.map_.size;return result};PolyfillSet.prototype.clear=function(){this.map_.clear();this.size=0};PolyfillSet.prototype.has=function(value){return this.map_.has(value)};PolyfillSet.prototype.entries=function(){return this.map_.entries()};PolyfillSet.prototype.values=function(){return this.map_.values()};PolyfillSet.prototype.keys=PolyfillSet.prototype.values;PolyfillSet.prototype[Symbol.iterator]=PolyfillSet.prototype.values;PolyfillSet.prototype.forEach=function(callback,
opt_thisArg){var set=this;this.map_.forEach(function(value){return callback.call(opt_thisArg,value,value,set)})};return PolyfillSet},"es6","es3");
$jscomp$polyfill("Array.from",function(orig){return orig?orig:function(arrayLike,opt_mapFn,opt_thisArg){opt_mapFn=null!=opt_mapFn?opt_mapFn:function(x){return x};var result=[],iteratorFunction="undefined"!=typeof Symbol&&Symbol.iterator&&arrayLike[Symbol.iterator];if("function"==typeof iteratorFunction){arrayLike=iteratorFunction.call(arrayLike);for(var next,k=0;!(next=arrayLike.next()).done;)result.push(opt_mapFn.call(opt_thisArg,next.value,k++))}else for(var len=arrayLike.length,i=0;i<len;i++)result.push(opt_mapFn.call(opt_thisArg,
arrayLike[i],i));return result}},"es6","es3");$jscomp$polyfill("Object.entries",function(orig){return orig?orig:function(obj){var result=[],key;for(key in obj)$jscomp$owns(obj,key)&&result.push([key,obj[key]]);return result}},"es8","es3");
$jscomp$polyfill("Promise.prototype.finally",function(orig){return orig?orig:function(onFinally){return this.then(function(value){return Promise.resolve(onFinally()).then(function(){return value})},function(reason){return Promise.resolve(onFinally()).then(function(){throw reason;})})}},"es9","es3");$jscomp$polyfill("Array.prototype.entries",function(orig){return orig?orig:function(){return $jscomp$iteratorFromArray(this,function(i,v){return[i,v]})}},"es6","es3");
$jscomp$polyfill("Object.is",function(orig){return orig?orig:function(left,right){return left===right?0!==left||1/left===1/right:left!==left&&right!==right}},"es6","es3");
$jscomp$polyfill("Array.prototype.includes",function(orig){return orig?orig:function(searchElement,opt_fromIndex){var array=this;array instanceof String&&(array=String(array));var len=array.length,i=opt_fromIndex||0;for(0>i&&(i=Math.max(i+len,0));i<len;i++){var element=array[i];if(element===searchElement||Object.is(element,searchElement))return!0}return!1}},"es7","es3");
$jscomp$polyfill("String.prototype.includes",function(orig){return orig?orig:function(searchString,opt_position){return-1!==$jscomp$checkStringArgs(this,searchString,"includes").indexOf(searchString,opt_position||0)}},"es6","es3");
$jscomp$polyfill("String.prototype.startsWith",function(orig){return orig?orig:function(searchString,opt_position){var string=$jscomp$checkStringArgs(this,searchString,"startsWith");searchString+="";for(var strLen=string.length,searchLen=searchString.length,i=Math.max(0,Math.min(opt_position|0,string.length)),j=0;j<searchLen&&i<strLen;)if(string[i++]!=searchString[j++])return!1;return j>=searchLen}},"es6","es3");
$jscomp$polyfill("Array.prototype.findIndex",function(orig){return orig?orig:function(callback,opt_thisArg){return $jscomp$findInternal(this,callback,opt_thisArg).i}},"es6","es3");
$jscomp$polyfill("Array.prototype.flat",function(orig){return orig?orig:function(depth){depth=void 0===depth?1:depth;for(var flattened=[],i=0;i<this.length;i++){var element=this[i];if(Array.isArray(element)&&0<depth){var inner=Array.prototype.flat.call(element,depth-1);flattened.push.apply(flattened,inner)}else flattened.push(element)}return flattened}},"es9","es5");$jscomp$polyfill("Math.sign",function(orig){return orig?orig:function(x){x=Number(x);return 0===x||isNaN(x)?x:0<x?1:-1}},"es6","es3");
$jscomp$polyfill("Number.isNaN",function(orig){return orig?orig:function(x){return"number"===typeof x&&isNaN(x)}},"es6","es3");$jscomp$polyfill("Array.prototype.flatMap",function(orig){return orig?orig:function(callback,thisArg){for(var mapped=[],i=0;i<this.length;i++){var result=callback.call(thisArg,this[i],i,this);Array.isArray(result)?mapped.push.apply(mapped,result):mapped.push(result)}return mapped}},"es9","es5");
$jscomp$polyfill("Object.values",function(orig){return orig?orig:function(obj){var result=[],key;for(key in obj)$jscomp$owns(obj,key)&&result.push(obj[key]);return result}},"es8","es3");window.NG_BOOTSTRAP_IS_COMPILED=!1;/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var goog$global=this||self,goog$exportPath_=function(name,object,overwriteImplicit,objectToExportTo){var parts=name.split("."),cur=objectToExportTo||goog$global;parts[0]in cur||"undefined"==typeof cur.execScript||cur.execScript("var "+parts[0]);for(var part;parts.length&&(part=parts.shift());)if(parts.length||void 0===object)cur=cur[part]&&cur[part]!==Object.prototype[part]?cur[part]:cur[part]={};else if(!overwriteImplicit&&goog$isObject(object)&&goog$isObject(cur[part]))for(var prop in object)object.hasOwnProperty(prop)&&
(cur[part][prop]=object[prop]);else cur[part]=object},goog$typeOf=function(value){var s=typeof value;return"object"!=s?s:value?Array.isArray(value)?"array":s:"null"},goog$isObject=function(val){var type=typeof val;return"object"==type&&null!=val||"function"==type},goog$bindNative_=function(fn,selfObj,var_args){return fn.call.apply(fn.bind,arguments)},goog$bindJs_=function(fn,selfObj,var_args){if(!fn)throw Error();if(2<arguments.length){var boundArgs=Array.prototype.slice.call(arguments,2);return function(){var newArgs=
Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(newArgs,boundArgs);return fn.apply(selfObj,newArgs)}}return function(){return fn.apply(selfObj,arguments)}},goog$bind=function(fn,selfObj,var_args){goog$bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog$bindNative_:goog$bindJs_;return goog$bind.apply(null,arguments)},goog$partial=function(fn,var_args){var args=Array.prototype.slice.call(arguments,1);return function(){var newArgs=args.slice();
newArgs.push.apply(newArgs,arguments);return fn.apply(this,newArgs)}},goog$inherits=function(childCtor,parentCtor){function tempCtor(){}tempCtor.prototype=parentCtor.prototype;childCtor.superClass_=parentCtor.prototype;childCtor.prototype=new tempCtor;childCtor.prototype.constructor=childCtor;childCtor.base=function(me,methodName,var_args){for(var args=Array(arguments.length-2),i=2;i<arguments.length;i++)args[i-2]=arguments[i];return parentCtor.prototype[methodName].apply(me,args)}},goog$identity_=
function(s){return s};var module$contents$goog$array_indexOf=Array.prototype.indexOf?function(arr,obj,opt_fromIndex){return Array.prototype.indexOf.call(arr,obj,opt_fromIndex)}:function(arr,obj,opt_fromIndex){var fromIndex=null==opt_fromIndex?0:0>opt_fromIndex?Math.max(0,arr.length+opt_fromIndex):opt_fromIndex;if("string"===typeof arr)return"string"!==typeof obj||1!=obj.length?-1:arr.indexOf(obj,fromIndex);for(var i=fromIndex;i<arr.length;i++)if(i in arr&&arr[i]===obj)return i;return-1};
function module$contents$goog$array_clear(arr){if(!Array.isArray(arr))for(var i=arr.length-1;0<=i;i--)delete arr[i];arr.length=0}function module$contents$goog$array_remove(arr,obj){var i=module$contents$goog$array_indexOf(arr,obj),rv;(rv=0<=i)&&Array.prototype.splice.call(arr,i,1);return rv};function module$contents$goog$object_some(obj,f,opt_obj){for(var key in obj)if(f.call(opt_obj,obj[key],key,obj))return!0;return!1}function module$contents$goog$object_isEmpty(obj){for(var key in obj)return!1;return!0}function module$contents$goog$object_transpose(obj){var transposed={},key;for(key in obj)transposed[obj[key]]=key;return transposed}var module$contents$goog$object_PROTOTYPE_FIELDS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function module$contents$goog$object_extend(target,var_args){for(var key,source,i=1;i<arguments.length;i++){source=arguments[i];for(key in source)target[key]=source[key];for(var j=0;j<module$contents$goog$object_PROTOTYPE_FIELDS.length;j++)key=module$contents$goog$object_PROTOTYPE_FIELDS[j],Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}}
function module$contents$goog$object_createSet(var_args){var argLength=arguments.length;if(1==argLength&&Array.isArray(arguments[0]))return module$contents$goog$object_createSet.apply(null,arguments[0]);for(var rv={},i=0;i<argLength;i++)rv[arguments[i]]=!0;return rv};var goog$html$trustedtypes$cachedPolicy_;var module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeScript_SafeScript=function(value,token){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=token===module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE?value:"";this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeScript_SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};
var module$contents$goog$html$SafeScript_SafeScript$unwrapTrustedScript=function(safeScript){if(safeScript instanceof module$contents$goog$html$SafeScript_SafeScript&&safeScript.constructor===module$contents$goog$html$SafeScript_SafeScript)return safeScript.privateDoNotAccessOrElseSafeScriptWrappedValue_;goog$typeOf(safeScript);return"type_error:SafeScript"};module$contents$goog$html$SafeScript_SafeScript.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};var goog$html$TrustedResourceUrl=function(value,token){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=token===goog$html$TrustedResourceUrl$CONSTRUCTOR_TOKEN_PRIVATE_?value:""};goog$html$TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0;goog$html$TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()};goog$html$TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;
goog$html$TrustedResourceUrl.prototype.getDirection=function(){return 1};
goog$html$TrustedResourceUrl.prototype.cloneWithParams=function(searchParams,opt_hashParams){var url=goog$html$TrustedResourceUrl$unwrapTrustedScriptURL(this).toString(),parts=goog$html$TrustedResourceUrl$URL_PARAM_PARSER_.exec(url),urlHash=parts[3]||"",url$jscomp$0=parts[1]+goog$html$TrustedResourceUrl$stringifyParams_("?",parts[2]||"",searchParams)+goog$html$TrustedResourceUrl$stringifyParams_("#",urlHash,opt_hashParams),JSCompiler_inline_result;if(void 0===goog$html$trustedtypes$cachedPolicy_){var policy=
null,policyFactory=goog$global.trustedTypes;if(policyFactory&&policyFactory.createPolicy)try{policy=policyFactory.createPolicy("goog#html",{createHTML:goog$identity_,createScript:goog$identity_,createScriptURL:goog$identity_})}catch(e){goog$global.console&&goog$global.console.error(e.message)}goog$html$trustedtypes$cachedPolicy_=policy}var value=(JSCompiler_inline_result=goog$html$trustedtypes$cachedPolicy_)?JSCompiler_inline_result.createScriptURL(url$jscomp$0):url$jscomp$0;return new goog$html$TrustedResourceUrl(value,
goog$html$TrustedResourceUrl$CONSTRUCTOR_TOKEN_PRIVATE_)};goog$html$TrustedResourceUrl.prototype.toString=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+""};
var goog$html$TrustedResourceUrl$unwrapTrustedScriptURL=function(trustedResourceUrl){if(trustedResourceUrl instanceof goog$html$TrustedResourceUrl&&trustedResourceUrl.constructor===goog$html$TrustedResourceUrl)return trustedResourceUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;goog$typeOf(trustedResourceUrl);return"type_error:TrustedResourceUrl"},goog$html$TrustedResourceUrl$URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog$html$TrustedResourceUrl$CONSTRUCTOR_TOKEN_PRIVATE_={},
goog$html$TrustedResourceUrl$stringifyParams_=function(prefix,currentString,params){if(null==params)return currentString;if("string"===typeof params)return params?prefix+encodeURIComponent(params):"";for(var key in params)if(Object.prototype.hasOwnProperty.call(params,key))for(var value=params[key],outputValues=Array.isArray(value)?value:[value],i=0;i<outputValues.length;i++){var outputValue=outputValues[i];null!=outputValue&&(currentString||(currentString=prefix),currentString+=(currentString.length>
prefix.length?"&":"")+encodeURIComponent(key)+"="+encodeURIComponent(String(outputValue)))}return currentString};var goog$html$SafeUrl=function(value,token){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=token===goog$html$SafeUrl$CONSTRUCTOR_TOKEN_PRIVATE_?value:""};goog$html$SafeUrl.prototype.implementsGoogStringTypedString=!0;goog$html$SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};goog$html$SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog$html$SafeUrl.prototype.getDirection=function(){return 1};
goog$html$SafeUrl.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};var goog$html$SafeUrl$unwrap=function(safeUrl){if(safeUrl instanceof goog$html$SafeUrl&&safeUrl.constructor===goog$html$SafeUrl)return safeUrl.privateDoNotAccessOrElseSafeUrlWrappedValue_;goog$typeOf(safeUrl);return"type_error:SafeUrl"},goog$html$SafeUrl$CONSTRUCTOR_TOKEN_PRIVATE_={};var module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeStyle_SafeStyle=function(value,token){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=token===module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE?value:"";this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeStyle_SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};
module$contents$goog$html$SafeStyle_SafeStyle.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_.toString()};var module$contents$goog$html$SafeStyle_SafeStyle$unwrap=function(safeStyle){if(safeStyle instanceof module$contents$goog$html$SafeStyle_SafeStyle&&safeStyle.constructor===module$contents$goog$html$SafeStyle_SafeStyle)return safeStyle.privateDoNotAccessOrElseSafeStyleWrappedValue_;goog$typeOf(safeStyle);return"type_error:SafeStyle"};function module$contents$goog$labs$userAgent$util_getNativeUserAgentString(){var navigator=goog$global.navigator;if(navigator){var userAgent=navigator.userAgent;if(userAgent)return userAgent}return""}function module$contents$goog$labs$userAgent$util_matchUserAgent(str){return-1!=module$contents$goog$labs$userAgent$util_getNativeUserAgentString().indexOf(str)};var module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeHtml_SafeHtml=function(value,dir,token){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=token===module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE?value:"";this.dir_=dir;this.implementsGoogStringTypedString=this.implementsGoogI18nBidiDirectionalString=!0};module$contents$goog$html$SafeHtml_SafeHtml.prototype.getDirection=function(){return this.dir_};
module$contents$goog$html$SafeHtml_SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};module$contents$goog$html$SafeHtml_SafeHtml.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};
var module$contents$goog$html$SafeHtml_SafeHtml$unwrapTrustedHTML=function(safeHtml){if(safeHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml&&safeHtml.constructor===module$contents$goog$html$SafeHtml_SafeHtml)return safeHtml.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog$typeOf(safeHtml);return"type_error:SafeHtml"};goog$exportPath_("ng.safehtml.googSceHelper.isGoogHtmlType",function(value){return value&&value.implementsGoogStringTypedString?!0:!1},!0,void 0);goog$exportPath_("ng.safehtml.googSceHelper.isCOMPILED",function(){return!0},!0,void 0);
goog$exportPath_("ng.safehtml.googSceHelper.unwrapAny",function(value){if(value instanceof goog$html$TrustedResourceUrl)return goog$html$TrustedResourceUrl$unwrapTrustedScriptURL(value).toString();if(value instanceof module$contents$goog$html$SafeHtml_SafeHtml)return module$contents$goog$html$SafeHtml_SafeHtml$unwrapTrustedHTML(value).toString();if(value instanceof goog$html$SafeUrl)return goog$html$SafeUrl$unwrap(value);if(value instanceof module$contents$goog$html$SafeStyle_SafeStyle)return module$contents$goog$html$SafeStyle_SafeStyle$unwrap(value);
if(value instanceof module$contents$goog$html$SafeScript_SafeScript)return module$contents$goog$html$SafeScript_SafeScript$unwrapTrustedScript(value).toString();throw Error();},!0,void 0);
goog$exportPath_("ng.safehtml.googSceHelper.unwrapGivenContext",function(type,maybeTrusted){if("html"==type)return module$contents$goog$html$SafeHtml_SafeHtml$unwrapTrustedHTML(maybeTrusted).toString();if("resourceUrl"==type||"templateUrl"==type)return goog$html$TrustedResourceUrl$unwrapTrustedScriptURL(maybeTrusted).toString();if("url"==type)return maybeTrusted instanceof goog$html$TrustedResourceUrl?goog$html$TrustedResourceUrl$unwrapTrustedScriptURL(maybeTrusted).toString():goog$html$SafeUrl$unwrap(maybeTrusted);
if("css"==type)return module$contents$goog$html$SafeStyle_SafeStyle$unwrap(maybeTrusted);if("js"==type)return module$contents$goog$html$SafeScript_SafeScript$unwrapTrustedScript(maybeTrusted).toString();throw Error();},!0,void 0);var module$exports$google3$analytics$common$material$palettes$GOOGLE_BLUE={50:"e8f0fe",100:"d2e3fc",200:"aecbfa",300:"8ab4f8",400:"669df6",500:"4285f4",600:"1a73e8",700:"1967d2",800:"185abc",900:"174ea6"};var container_tag$VendorTemplateActivityDetails$Type={UNKNOWN_TYPE:0,SINGLETON:1,LIST:2,ORDERED_LIST:3,INLINE:4};var module$exports$google3$third_party$javascript$typings$angular$index=window.angular;var module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_directive_BubbleController=function($attrs,$element,$log,$q,$mdPanel,panelService){this.$attrs=$attrs;this.$element=$element;this.$log=$log;this.$q=$q;this.$mdPanel=$mdPanel;this.panelService=panelService;this.panelContents=this.panel=null};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_directive_BubbleController.prototype.$onInit=function(){var $jscomp$this=this;this.$element.attr("role","button");this.$element.on("mousedown",function($event){$event.stopPropagation()});this.$element.on("click",function($event){$event.preventDefault();$event.stopPropagation();$jscomp$this.initializePanel().then(function(){$jscomp$this.panel.detach().then(function(){return $jscomp$this.panel.open()})})})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_directive_BubbleController.prototype.$onDestroy=function(){this.panel&&(this.panel.panelEl&&this.panel.panelEl.off("**"),this.$element.off("**"),this.panelService.destroyMdPanel(this.panel))};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_directive_BubbleController.prototype.initializePanel=function(){var $jscomp$this=this;if(this.panel)return this.$q.resolve();var animation=this.$mdPanel.newPanelAnimation().openFrom(this.$element.get(0)).closeTo(this.$element.get(0)).withAnimation(this.$mdPanel.animation.FADE).duration(200),position=this.$mdPanel.newPanelPosition().relativeTo(this.$element).addPanelPosition(this.isLeftAligned?this.$mdPanel.xPosition.ALIGN_START:
this.$mdPanel.xPosition.ALIGN_END,this.$mdPanel.yPosition.BELOW),config={animation:animation,attachTo:module$exports$google3$third_party$javascript$typings$angular$index.element(document.body),clickOutsideToClose:!0,contentElement:this.panelContents,panelClass:"ctui-bubble",position:position};this.panel=this.panelService.createMdPanel(config);this.panel.registerInterceptor("onClose",function(){return $jscomp$this.panel.hide().catch(module$exports$google3$third_party$javascript$typings$angular$index.noop)});
return this.panel.attach().then(function(popover){var panelEl=popover.panelEl;panelEl.on("click",function(){popover.hide()});panelEl.attr("role","menu")})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_directive_BubbleController.prototype.initializeContents=function(){var contents=this.$element.find(".bubble-content");1!==contents.length&&this.$log.error(Error("Found "+contents.length+" child elements with the bubble-content class."));contents.detach();this.panelContents=contents;var extraClass=this.$attrs.bubbleClass;extraClass&&this.panelContents.addClass(extraClass)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_directive_BubbleController.prototype.$onDestroy=module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_directive_BubbleController.prototype.$onDestroy;module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_directive_BubbleController.$inject="$attrs $element $log $q $mdPanel panelService".split(" ");var module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_icon_menu_component_BubbleIconMenuController=function(){};module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_icon_menu_component_BubbleIconMenuController.prototype.$onInit=function(){this.icon=this.icon||"icon-more-vert"};
var module$exports$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_icon_menu_component$bubbleIconMenuComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_icon_menu_component_BubbleIconMenuController,controllerAs:"ctrl",bindings:{icon:"@?"},transclude:!0,template:'\n    <i class="icon" data-ng-class="[ctrl.icon]" data-ctui-bubble>\n      <div class="bubble-content" data-ng-transclude></div>\n    </i>'};var module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController=function($compile,$element,$mdPanel,$log,$q,$timeout,$transclude,$window,panelService){this.$compile=$compile;this.$element=$element;this.$mdPanel=$mdPanel;this.$log=$log;this.$q=$q;this.$timeout=$timeout;this.$transclude=$transclude;this.$window=$window;this.panelService=panelService;this.timeoutPromise=null};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.$onInit=function(){var $jscomp$this=this;this.iconClass=this.iconClass||"gtm-popover-icon";this.$element.addClass(this.iconClass);this.$element.on("mouseenter",function(){$jscomp$this.getPanel().then(function(){$jscomp$this.clearHideTimer();return $jscomp$this.popoverPanel.open()}).then(function(){$jscomp$this.popoverPanel.updatePosition($jscomp$this.buildPanelPosition())})});
this.$element.on("mouseleave",function(){return $jscomp$this.startHideTimer()});this.resizeHandler=_.debounce(function(){module$exports$google3$third_party$javascript$typings$angular$index.isDefined($jscomp$this.popoverPanel)&&$jscomp$this.popoverPanel.updatePosition($jscomp$this.buildPanelPosition())},10);module$exports$google3$third_party$javascript$typings$angular$index.element(this.$window).on("resize",this.resizeHandler)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.$onChanges=function(changesObj){changesObj.iconClass&&(changesObj.iconClass.isFirstChange()||this.$element.removeClass(changesObj.iconClass.previousValue),this.$element.addClass(changesObj.iconClass.currentValue))};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.$onDestroy=function(){this.popoverPanel&&(this.popoverPanel.panelEl&&this.popoverPanel.panelEl.off("**"),this.$element.off("**"),this.clearHideTimer(),this.panelService.destroyMdPanel(this.popoverPanel));module$exports$google3$third_party$javascript$typings$angular$index.element(this.$window).off("resize",this.resizeHandler)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.buildPanelPosition=function(){var X=this.$mdPanel.xPosition,Y=this.$mdPanel.yPosition;return this.$mdPanel.newPanelPosition().relativeTo(this.$element).addPanelPosition(X.OFFSET_END,Y.BELOW).addPanelPosition(X.OFFSET_END,Y.ABOVE).addPanelPosition(X.OFFSET_END,Y.ALIGN_BOTTOMS).addPanelPosition(X.OFFSET_END,Y.CENTER).addPanelPosition(X.OFFSET_END,Y.ALIGN_TOPS).addPanelPosition(X.CENTER,
Y.ABOVE).addPanelPosition(X.ALIGN_START,Y.ABOVE).addPanelPosition(X.OFFSET_START,Y.ABOVE).addPanelPosition(X.CENTER,Y.BELOW).addPanelPosition(X.ALIGN_START,Y.BELOW).addPanelPosition(X.OFFSET_START,Y.BELOW).addPanelPosition(X.OFFSET_END,Y.BELOW)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.getPanel=function(){var $jscomp$this=this;if(this.popoverPanel)return this.$q.when(void 0);var container;this.$transclude(function(clonedContent,transcludeScope){container=$jscomp$this.$compile("<div></div>")(transcludeScope);container.append($jscomp$this.$compile(clonedContent)(transcludeScope))});this.popoverPanel=this.panelService.createMdPanel({attachTo:module$exports$google3$third_party$javascript$typings$angular$index.element(document.body),
contentElement:container,panelClass:"gtm-popover",position:this.$mdPanel.newPanelPosition().absolute().left("-9999px"),propagateContainerEvents:!0});return this.popoverPanel.attach().then(function(){var panelEl=$jscomp$this.popoverPanel.panelEl;panelEl.on("mouseenter",function(){return $jscomp$this.clearHideTimer()});panelEl.on("mouseleave",function(){return $jscomp$this.startHideTimer()});panelEl.attr("role","tooltip")})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.startHideTimer=function(){var $jscomp$this=this;this.timeoutPromise||(this.timeoutPromise=this.$timeout(100),this.timeoutPromise.then(function(){return $jscomp$this.popoverPanel.hide()}).catch(module$exports$google3$third_party$javascript$typings$angular$index.noop).finally(function(){return $jscomp$this.timeoutPromise=null}))};
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.clearHideTimer=function(){this.timeoutPromise&&(this.$timeout.cancel(this.timeoutPromise)||this.$log.error(Error("Failed to cancel!")),this.timeoutPromise=null)};module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.$onDestroy=module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.$onDestroy;
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.$onChanges=module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.$onChanges;module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.prototype.$onInit;
module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController.$inject="$compile $element $mdPanel $log $q $timeout $transclude $window panelService".split(" ");var module$exports$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component$popoverComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component_PopoverController,bindings:{iconClass:"@?"},transclude:!0};var module$exports$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.bubble",[]).component("ctuiBubbleIconMenu",module$exports$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_icon_menu_component$bubbleIconMenuComponent).component("gtmPopover",module$exports$google3$java$com$google$analytics$containertag$ui$common$bubble$popover_component$popoverComponent).directive("ctuiBubble",
function(){return{bindToController:{isLeftAligned:"<alignLeft"},controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble_directive_BubbleController,restrict:"A",scope:!0,link:function($scope,$element,attrs,ctrl){ctrl.initializeContents();module$exports$google3$third_party$javascript$typings$angular$index.isDefined(attrs.attachOnLink)&&ctrl.initializePanel()}}});var module$contents$google3$java$com$google$analytics$containertag$ui$common$copytext$copy_text_directive_CopyTextController=function($compile,$element,$scope,$window,toastService){this.$compile=$compile;this.$element=$element;this.$scope=$scope;this.$window=$window;this.toastService=toastService};
module$contents$google3$java$com$google$analytics$containertag$ui$common$copytext$copy_text_directive_CopyTextController.prototype.$onInit=function(){var $jscomp$this=this,copyButton=this.$compile('\n        <i class="ogt-content-copy-button"\n           title="Copy"\n           role="button"></i>')(this.$scope);copyButton.on("click",function(){$jscomp$this.copyToClipboard();$jscomp$this.$scope.$apply()});this.$element.append(copyButton)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$copytext$copy_text_directive_CopyTextController.prototype.copyToClipboard=function(){var selection=this.$window.getSelection();selection.removeAllRanges();var range=document.createRange();range.selectNode(this.$element[0]);selection.addRange(range);document.execCommand("copy");selection.removeAllRanges();this.toastService.show("Text copied to clipboard.")};
module$contents$google3$java$com$google$analytics$containertag$ui$common$copytext$copy_text_directive_CopyTextController.$inject=["$compile","$element","$scope","$window","toastService"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$copytext$copy_text_module$copyTextModule=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.copytext",[]).directive("copyText",function(){return{restrict:"A",controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$copytext$copy_text_directive_CopyTextController,scope:!0}});var module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogController=function(mdPanelRef,panelDeferred){this.mdPanelRef=mdPanelRef;this.panelDeferred=panelDeferred};module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogController.prototype.confirm=function(result){var $jscomp$this=this;this.mdPanelRef.close().then(function(){$jscomp$this.mdPanelRef.destroy();$jscomp$this.panelDeferred.resolve(result)})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogController.prototype.cancel=function(){var $jscomp$this=this;this.mdPanelRef.close().then(function(){$jscomp$this.mdPanelRef.destroy();$jscomp$this.panelDeferred.reject()})};module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogController.$inject=["mdPanelRef","panelDeferred"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogService=function($q,$mdPanel){this.$q=$q;this.$mdPanel=$mdPanel;this.dialogs=[]};
module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogService.prototype.showDialog=function(config){var $jscomp$this=this,panelDeferred=this.$q.defer(),parent=document.body,$jscomp$nullish$tmp0,$jscomp$nullish$tmp1,$jscomp$nullish$tmp2,mdConfig={attachTo:module$exports$google3$third_party$javascript$typings$angular$index.element(parent),clickOutsideToClose:null!=($jscomp$nullish$tmp0=config.clickOutsideToClose)?$jscomp$nullish$tmp0:!0,disableParentScroll:!1,escapeToClose:null!=
($jscomp$nullish$tmp1=config.escapeToClose)?$jscomp$nullish$tmp1:!0,hasBackdrop:!0,onCloseSuccess:function(panelRef,reason){if(reason===$jscomp$this.$mdPanel.closeReasons.CLICK_OUTSIDE||reason===$jscomp$this.$mdPanel.closeReasons.ESCAPE)panelRef.destroy(),panelDeferred.reject();$jscomp$this.dialogs.pop();$jscomp$this.dialogs.length&&$jscomp$this.dialogs[$jscomp$this.dialogs.length-1].panelRef.show()},panelClass:"ctui-dialog "+(null!=($jscomp$nullish$tmp2=config.panelClass)?$jscomp$nullish$tmp2:""),
position:this.$mdPanel.newPanelPosition().absolute().centerHorizontally().top("128px"),zIndex:80,controller:config.controller||module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogController,controllerAs:"ctrl",locals:module$exports$google3$third_party$javascript$typings$angular$index.extend({panelDeferred:panelDeferred},config.context),template:config.template||"",templateUrl:config.templateUrl||""},offset=document.documentElement.scrollTop;parent.classList.add("body--ctui-dialog-visible");
parent.style.setProperty("top","-"+offset+"px");var newPanelRef=this.$mdPanel.create(mdConfig);this.$q.all(this.dialogs.map(function($jscomp$destructuring$var14){return $jscomp$destructuring$var14.panelRef.hide()})).then(function(){newPanelRef.open()});this.dialogs.push({panelRef:newPanelRef,panelDeferred:panelDeferred});return panelDeferred.promise.finally(function(){parent.classList.remove("body--ctui-dialog-visible");parent.style.removeProperty("top");document.documentElement.scrollTop=offset})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogService.prototype.closeAllDialogs=function(){for(var promise=this.$q.when(),$jscomp$loop$239={},i=0;i<this.dialogs.length;$jscomp$loop$239={$jscomp$loop$prop$dialog$241:$jscomp$loop$239.$jscomp$loop$prop$dialog$241},i++)$jscomp$loop$239.$jscomp$loop$prop$dialog$241=this.dialogs[i],promise=promise.then(function($jscomp$loop$239){return function(){return $jscomp$loop$239.$jscomp$loop$prop$dialog$241.panelRef.close()}}($jscomp$loop$239)).then(function($jscomp$loop$239){return function(){$jscomp$loop$239.$jscomp$loop$prop$dialog$241.panelRef.destroy();
$jscomp$loop$239.$jscomp$loop$prop$dialog$241.panelDeferred.reject()}}($jscomp$loop$239));this.dialogs.length=0;return promise};module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogService.$inject=["$q","$mdPanel"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog_module$dialogModule=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.dialog",[]).service("dialogService",module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogService);var module$exports$google3$java$com$google$analytics$containertag$ui$common$emptyplaceholder$emptyplaceholder_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.emptyplaceholder",[]).directive("gtmEmptyPlaceholder",function(){return{transclude:!0,scope:{icon:"@"},template:'<div class="empty-placeholder">\n                 <div class="image" ng-class="icon"></div>\n                 <ng-transclude></ng-transclude>\n               </div>'}});var module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_constants$RESET_NOTIFICATION_TYPES=new Set([1,2]);var module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_messages$ERROR_TABLE=new Map([["required","The value is missing"],["name",'The name cannot start with an "_" or contain a reserved character (!, @, #, $, <, etc)'],["regex","Must be a valid RegEx"],["url","Must be a valid URL"],["tagServerUrl","The URL must start with https:// and must not end with a /"],["taggingServerUrls","There should be no duplicate URLs and all paths must match."],["integer","Must be an integer"],
["min","Value too small"],["max","Value too large"],["number","Must be a valid number"],["cssSelector","Must be a valid CSS selector"],["predicate","Invalid filter specified"],["intOrMacro","Must be a positive integer or a variable"],["percentOrMacro","Must be a valid percentage (0-100) or a variable"],["percentageListOrMacro","Must be a comma-separated list of positive integers (0-100) or a variable"],["cssSelectorOrMacro","Must be a valid CSS selector or a variable"],["macro","Must be a variable name"]]);function module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_formErrorFieldDirective($parse,errorHandlerService){return{require:["?form","?ngModel"],link:function(scope,element,attrs,ctrls){if(ctrls){var $jscomp$destructuring$var16=$jscomp$makeIterator(ctrls),formController__tsickle_destructured_1=$jscomp$destructuring$var16.next().value,ngModelController__tsickle_destructured_2=$jscomp$destructuring$var16.next().value;if(formController__tsickle_destructured_1||
ngModelController__tsickle_destructured_2){var nameGetter=function(){if(formController__tsickle_destructured_1)return function(){return"form_error_message"};if(ngModelController__tsickle_destructured_2.$name)return function(){return ngModelController__tsickle_destructured_2.$name};var expression=attrs.gtmFormErrorField,getter=$parse(expression);return function(){try{var $jscomp$nullish$tmp4;return null!=($jscomp$nullish$tmp4=getter(scope))?$jscomp$nullish$tmp4:expression}catch(e){return expression}}}(),
unregister=errorHandlerService.registerField(nameGetter,null!=formController__tsickle_destructured_1?formController__tsickle_destructured_1:ngModelController__tsickle_destructured_2);scope.$on("$destroy",function(){unregister()})}}}}}module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_formErrorFieldDirective.$inject=["$parse","errorHandlerService"];
var module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController=function($element,$scope,$timeout,$transclude,errorHandlerService){var $jscomp$this=this;this.$element=$element;this.$scope=$scope;this.$timeout=$timeout;this.errorHandlerService=errorHandlerService;this.registrationAttemptCountDown=10;this.isVisible=!0;this.lastValidationId=1;$transclude(function(children){if(children)for(var i=0;i<children.length;i++){var child=children[i],
el=$(child),$jscomp$optchain$tmpm462368848$0=void 0;if((null==($jscomp$optchain$tmpm462368848$0=child.tagName)?0:$jscomp$optchain$tmpm462368848$0.toLowerCase().includes("form-error-label-msg"))||null!=el.attr("data-gtm-form-error-label-msg")){$jscomp$this.childCustomMessages||($jscomp$this.childCustomMessages=new Map);var errorType=el.attr("data-error-type"),errorMsg=el.text();null!=errorType&&null!=errorMsg&&$jscomp$this.childCustomMessages.set(errorType,errorMsg)}}})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.prototype.$onInit=function(){var $jscomp$this=this;this.hideErrorMessage();this.registerNgModel();this.unregisterErrorNotifier=this.errorHandlerService.addListener(function(){return $jscomp$this.getFieldName()},function(notification){if(module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_constants$RESET_NOTIFICATION_TYPES.has(notification.notificationType))$jscomp$this.hideErrorMessage();
else{var $jscomp$nullish$tmp6,$jscomp$nullish$tmp7,errorMessage=null!=($jscomp$nullish$tmp7=null==notification?void 0:notification.errorMessage)?$jscomp$nullish$tmp7:$jscomp$this.getErrorMessage(null!=($jscomp$nullish$tmp6=null==notification?void 0:notification.errorType)?$jscomp$nullish$tmp6:"unknown");$jscomp$this.displayErrorMessage(null==notification?void 0:notification.errorType,errorMessage)}})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.prototype.$onDestroy=function(){var $jscomp$optchain$tmpm462368848$5;null==($jscomp$optchain$tmpm462368848$5=this.unregisterErrorNotifier)||$jscomp$optchain$tmpm462368848$5.call(this)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.prototype.getFieldName=function(){var $jscomp$nullish$tmp8;return null!=($jscomp$nullish$tmp8=this.fieldName)?$jscomp$nullish$tmp8:"form_error_message"};
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.prototype.getErrorMessage=function(errorType){if("server"===errorType&&this.lastServerErrorMessage)return this.lastServerErrorMessage;var $jscomp$optchain$tmpm462368848$6;if(null==($jscomp$optchain$tmpm462368848$6=this.childCustomMessages)?0:$jscomp$optchain$tmpm462368848$6.has(errorType))return this.childCustomMessages.get(errorType);var $jscomp$optchain$tmpm462368848$7;if(null==
($jscomp$optchain$tmpm462368848$7=this.customMessages)?0:$jscomp$optchain$tmpm462368848$7.has(errorType))return this.customMessages.get(errorType);var $jscomp$nullish$tmp9;return null!=($jscomp$nullish$tmp9=module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_messages$ERROR_TABLE.get(errorType))?$jscomp$nullish$tmp9:"Invalid input"};
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.prototype.displayErrorMessage=function(errorType,errorMessage){errorMessage||(errorMessage=this.getErrorMessage(errorType));"server"===errorType&&(this.lastServerErrorMessage=errorMessage);this.$scope.errorMessage=errorMessage;this.$element[0].style.display="block";this.isVisible=!0};
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.prototype.hideErrorMessage=function(){this.isVisible&&(this.$scope.errorMessage=void 0,this.$element[0].style.display="none",this.isVisible=!1)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.prototype.registerNgModel=function(){var $jscomp$this=this;this.formController&&this.fieldName&&((this.modelController=this.formController[this.fieldName])?this.monkeyPatchModel(this.modelController):0<this.registrationAttemptCountDown&&(this.registrationAttemptCountDown--,this.$timeout(function(){$jscomp$this.registerNgModel()})))};
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.prototype.monkeyPatchModel=function(modelController){var $jscomp$this=this;modelController.originalRunValidators=modelController.$$runValidators;modelController.$$runValidators=function(modelValue,viewValue,doneCallback){modelController.originalRunValidators(modelValue,viewValue,function(isAllValid){doneCallback(isAllValid);$jscomp$this.$timeout(function(){$jscomp$this.onValidation(++$jscomp$this.lastValidationId)})})}};
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.prototype.onValidation=function(validationId){if(this.modelController&&validationId===this.lastValidationId)if(this.modelController.$pristine||this.modelController.$valid)this.hideErrorMessage();else for(var errorPriority=new Set(["server","required"].concat($jscomp$arrayFromIterable(Object.keys(this.modelController.$error)))),$jscomp$iter$93=$jscomp$makeIterator(errorPriority),
$jscomp$key$key=$jscomp$iter$93.next();!$jscomp$key$key.done;$jscomp$key$key=$jscomp$iter$93.next()){var key=$jscomp$key$key.value;if(this.modelController.$error[key]){this.displayErrorMessage(key);break}}};module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController.$inject=["$element","$scope","$timeout","$transclude","errorHandlerService"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier=function(onDestroy){this.onDestroy=onDestroy;this.isDestroyed=!1;this.listeners=[]};module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier.prototype.fire=function(value){if(!this.isDestroyed)for(var i=0;i<this.listeners.length;i++)try{this.listeners[i](value)}catch(e){console.log("Event listener failed",e)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier.prototype.getScopedNotifier=function(onDestroy){var notifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier(onDestroy);this.addListener(function(value){notifier.fire(value)});return notifier};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier.prototype.addListener=function(listener){var $jscomp$this=this;if(this.isDestroyed)return function(){};this.listeners.push(listener);return function(){$jscomp$this.removeListener(listener)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier.prototype.destroy=function(){if(!this.isDestroyed){this.listeners=[];if(this.onDestroy)this.onDestroy();this.isDestroyed=!0}};module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier.prototype.removeListener=function(listener){this.isDestroyed||module$contents$goog$array_remove(this.listeners,listener)};
var module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$StatefulNotifier=function(onDestroy){module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier.call(this,onDestroy);this.hasCachedValue=!1};$jscomp$inherits(module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$StatefulNotifier,module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier);
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$StatefulNotifier.prototype.addListener=function(listener){if(this.isDestroyed)return function(){};var removeListener=module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier.prototype.addListener.call(this,listener);this.hasCachedValue&&listener(this.cachedValue);return removeListener};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$StatefulNotifier.prototype.fire=function(value){this.isDestroyed||(module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier.prototype.fire.call(this,value),this.cachedValue=value,this.hasCachedValue=!0)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$StatefulNotifier.prototype.getScopedNotifier=function(onDestroy){var notifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$StatefulNotifier(onDestroy);this.addListener(function(value){notifier.fire(value)});return notifier};function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isObject(val){return null!==val&&"object"===typeof val}function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isDefined(val){return"undefined"!==typeof val};function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_splitPath(path){return path.replace(/[\[\]]/gi,".").replace(/\.$/,"").replace(/\.\./,".").split(".")}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_getValueByKeys(obj){var varArgs=$jscomp$getRestArguments.apply(1,arguments);if(null==obj||!varArgs.length)return obj;for(var keys=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_getKeysFromVarArgs(varArgs),i=0;i<keys.length&&(obj=obj[keys[i]],null!=obj);i++);return obj}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(obj,keys,defaultValue){if(null==obj)return defaultValue;var $jscomp$optchain$tmpm227922740$0;if(null==($jscomp$optchain$tmpm227922740$0=keys)||!$jscomp$optchain$tmpm227922740$0.length)return null==defaultValue?obj:defaultValue;"string"===typeof keys&&(keys=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_splitPath(keys));var value=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_getValueByKeys(obj,
keys);return void 0!==value?value:defaultValue}function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_setValueByKeys(value,obj){if(null!=obj){for(var keys=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_getKeysFromVarArgs($jscomp$getRestArguments.apply(2,arguments)),i=0;i<keys.length-1;i++){var currentKey=keys[i];null==obj[currentKey]&&(obj[currentKey]={});obj=obj[currentKey]}obj[keys[keys.length-1]]=value}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_set(obj,keys,value){"string"===typeof keys&&(keys=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_splitPath(keys));module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_setValueByKeys(value,obj,keys)}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_isEmpty(value){if(Array.isArray(value))return!value.length;if(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isObject(value)){var keys=Object.keys(value);if(!keys.length)return!0;for(var i=0;i<keys.length;i++){var key=keys[i];if(!/^\$\$/.test(key)&&!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_isEmpty(value[key]))return!1}return!0}return!value}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_getKeysFromVarArgs(varArgs){return Array.isArray(varArgs[0])?varArgs[0]:varArgs};var module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service_HTTP_ERROR_MESSAGE_MAP=new Map([[400,"Invalid input. You may have stale data; refresh the page and try again."],[403,"You have insufficient permissions"],[500,"A service error has occurred. Please try again later."]]);
function module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service_getFieldName(fnProvider){return"function"===typeof fnProvider?fnProvider():fnProvider}var module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorCatcherBuilder=function(errorHandlerService){this.errorHandlerService=errorHandlerService;this.handlers=[]};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorCatcherBuilder.prototype.addHandler=function(matcher,handler){this.handlers.push({matcher:matcher,handler:handler});return this};module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorCatcherBuilder.prototype.onActionError=function(errorCode,handler){this.addHandler(function(error){return error.actionErrorCode===errorCode},handler);return this};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorCatcherBuilder.prototype.onError=function(errorCode,handler){this.addHandler(function(error){return error.errorCode===errorCode},handler);return this};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorCatcherBuilder.prototype.onSubError=function(subErrorCode,handler){this.addHandler(function(error){return error.subErrorCode===subErrorCode},handler);return this};module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorCatcherBuilder.prototype.setDefault=function(handler){this.defaultHandler=handler;return this};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorCatcherBuilder.prototype.build=function(){var $jscomp$this=this;return function(error){$jscomp$this.errorHandlerService.handleError(error,$jscomp$this)}};
var module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService=function($injector,$log,$q,$window){this.$injector=$injector;this.$log=$log;this.$q=$q;this.$window=$window;this.errors=[];this.fields={};this.errorNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.getField=function(name){return this.fields[name]};module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.getToastService=function(){this.toastService||(this.toastService=this.$injector.get("toastService"));return this.toastService};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.registerField=function(fieldName,ngModel){var $jscomp$this=this;if(void 0===ngModel.$viewChangeListeners)return function(){};ngModel.$viewChangeListeners.push(function(){ngModel.$error.server&&$jscomp$this.sendNotification({notificationType:1,fieldName:module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service_getFieldName(fieldName),
errorType:"server"})});return this.internalAddListener(fieldName,function(notification){module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_constants$RESET_NOTIFICATION_TYPES.has(notification.notificationType)?ngModel.$setValidity(notification.errorType,!0):(ngModel.$setDirty(),ngModel.$setValidity(null==notification?void 0:notification.errorType,!1))})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.removeField=function(name){delete this.fields[name]};module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.addListener=function(fieldName,callback){return this.internalAddListener(fieldName,callback)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.internalAddListener=function(fieldName,callback){return this.errorNotifier.addListener(function(notification){!notification||module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service_getFieldName(fieldName)!==notification.fieldName&&2!==notification.notificationType||callback(notification)})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.displayError=function(name,errorType,errorMessage){var notification={notificationType:0,fieldName:name,errorMessage:errorMessage,errorType:void 0===errorType?"server":errorType};this.sendNotification(notification);this.errors.push(notification)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.reset=function(){for(var $jscomp$iter$94=$jscomp$makeIterator(this.errors),$jscomp$key$notification=$jscomp$iter$94.next();!$jscomp$key$notification.done;$jscomp$key$notification=$jscomp$iter$94.next()){var notification=$jscomp$key$notification.value;this.sendNotification({notificationType:2,fieldName:notification.fieldName,errorType:notification.errorType})}this.errors=
[]};module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.clearServerErrors=function(){this.sendNotification({notificationType:2,fieldName:"clear_all_the_fields",errorType:"server"});this.errors=[]};module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.sendNotification=function(notification){this.errorNotifier.fire(notification)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.interceptor=function(){var $jscomp$this=this;return function(response){var $jscomp$optchain$tmp1105943371$1;if(null==($jscomp$optchain$tmp1105943371$1=response.config)||!$jscomp$optchain$tmp1105943371$1.url.startsWith("/api"))return response;var json=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_getValueByKeys(response,"data",
"default")||module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_getValueByKeys(response,"data");if(module$exports$google3$third_party$javascript$typings$angular$index.isUndefined(json))return response;$jscomp$this.reset();if(module$exports$google3$third_party$javascript$typings$angular$index.isUndefined(json.errorCode)&&module$exports$google3$third_party$javascript$typings$angular$index.isUndefined(json.actionErrorCode))return response;for(var $jscomp$nullish$tmp10,
$jscomp$iter$95=$jscomp$makeIterator(null!=($jscomp$nullish$tmp10=json.fieldError)?$jscomp$nullish$tmp10:[]),$jscomp$key$error=$jscomp$iter$95.next();!$jscomp$key$error.done;$jscomp$key$error=$jscomp$iter$95.next()){var error=$jscomp$key$error.value,$jscomp$nullish$tmp11=void 0,$jscomp$nullish$tmp12=void 0,$jscomp$nullish$tmp13=void 0;$jscomp$this.displayError(null!=($jscomp$nullish$tmp11=error.fieldName)?$jscomp$nullish$tmp11:"",null!=($jscomp$nullish$tmp12=error.errorType)?$jscomp$nullish$tmp12:
"",null!=($jscomp$nullish$tmp13=error.message)?$jscomp$nullish$tmp13:"")}return $jscomp$this.$q.reject(json)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.handleFieldErrors=function(error){if(!module$exports$google3$third_party$javascript$typings$angular$index.isUndefined(error.errorCode)||!module$exports$google3$third_party$javascript$typings$angular$index.isUndefined(error.actionErrorCode))for(var $jscomp$nullish$tmp14,$jscomp$iter$96=$jscomp$makeIterator(null!=($jscomp$nullish$tmp14=error.fieldError)?$jscomp$nullish$tmp14:
[]),$jscomp$key$fieldError=$jscomp$iter$96.next();!$jscomp$key$fieldError.done;$jscomp$key$fieldError=$jscomp$iter$96.next()){var fieldError=$jscomp$key$fieldError.value,$jscomp$nullish$tmp15=void 0,$jscomp$nullish$tmp16=void 0,$jscomp$nullish$tmp17=void 0;this.displayError(null!=($jscomp$nullish$tmp15=fieldError.fieldName)?$jscomp$nullish$tmp15:"",null!=($jscomp$nullish$tmp16=fieldError.errorType)?$jscomp$nullish$tmp16:"",null!=($jscomp$nullish$tmp17=fieldError.message)?$jscomp$nullish$tmp17:"")}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.onError=function(error){var $jscomp$nullish$tmp18,errorStatus=null!=($jscomp$nullish$tmp18=error.status)?$jscomp$nullish$tmp18:-1;module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service_HTTP_ERROR_MESSAGE_MAP.has(errorStatus)&&this.$log.error(Error("onError called with an unhandled error status: "+(-1===errorStatus?"unknown":
errorStatus)));var $jscomp$nullish$tmp19,errorMessage=null!=($jscomp$nullish$tmp19=module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service_HTTP_ERROR_MESSAGE_MAP.get(errorStatus))?$jscomp$nullish$tmp19:"A service error has occurred. Please try again later.";this.displayError("form_error_message","server",errorMessage);this.getToastService().show(errorMessage)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.handleError=function(error,customErrorHandler){if(null!=error){error.errorMessage&&this.displayError("form_error_message","server",error.errorMessage);for(var $jscomp$nullish$tmp20,handlers=null!=($jscomp$nullish$tmp20=null==customErrorHandler?void 0:customErrorHandler.handlers)?$jscomp$nullish$tmp20:[],i=0;i<handlers.length;i++)if(handlers[i].matcher(error)){handlers[i].handler(error);
return}(null==customErrorHandler?0:customErrorHandler.defaultHandler)?customErrorHandler.defaultHandler(error):this.getToastService().show(error.errorMessage)}};module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.showPageLoadError=function(){var $jscomp$this=this;this.getToastService().show({actionText:"Refresh",id:"page-load-error-toast",message:"An error occurred while loading the page",type:"persistent"}).then(function(){$jscomp$this.$window.document.location.reload(!0)})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.catchGenericError=function(){var $jscomp$this=this;return function(error){$jscomp$this.handleError(error)}};module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.prototype.errorCatcherBuilder=function(){return new module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorCatcherBuilder(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService.$inject=["$injector","$log","$q","$window"];function module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_interceptor_createRetryKey(response){var config=response.config;return config.method+"-"+config.url}var module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_interceptor_NETWORK_ERROR_TOAST={id:"network-error-toast",message:"Server is temporarily unavailable.",type:"persistent"};
function module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_interceptor_errorInterceptor($injector,$q,$timeout,errorHandlerService){var toastService,retriedRequests=new Set;return{response:function(response){retriedRequests.delete(module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_interceptor_createRetryKey(response));return errorHandlerService.interceptor()(response)},responseError:function(error){var status=Number(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(error,
"status"));if(-1===status||0===status){var retryKey=module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_interceptor_createRetryKey(error);if(retriedRequests.has(retryKey))return toastService||(toastService=$injector.get("toastService")),toastService.show(module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_interceptor_NETWORK_ERROR_TOAST).catch(function(){}),$q.reject(error);retriedRequests.add(retryKey);$timeout(function(){retriedRequests.delete(retryKey)},
6E4,!1);var config=error.config,retryConfig={method:config.method,url:config.url,headers:config.headers,data:config.data};return $injector.get("$http")(retryConfig)}if("GET"!==module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(error,"config.method"))errorHandlerService.onError(error);return $q.reject(error)}}}
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_interceptor_errorInterceptor.$inject=["$injector","$q","$timeout","errorHandlerService"];function module$contents$google3$java$com$google$analytics$containertag$ui$common$error$xsrf_error_interceptor_createRetryKey(response){var config=response.config;return config.method+"-"+config.url}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$error$xsrf_error_interceptor_xsrfErrorInterceptor($cookies,$injector,$q,$timeout){var retriedRequests=new Set;return{response:function(response){retriedRequests.delete(module$contents$google3$java$com$google$analytics$containertag$ui$common$error$xsrf_error_interceptor_createRetryKey(response));return response},responseError:function(error){if("xsrf"!==module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(error,
"data.er.protoMessageId",""))return $q.reject(error);var retryKey=module$contents$google3$java$com$google$analytics$containertag$ui$common$error$xsrf_error_interceptor_createRetryKey(error);if(retriedRequests.has(retryKey))return $q.reject(error);var rawData=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(error,"data.er.data","[]"),parsedData=JSON.parse(rawData);if(!parsedData[1])return $q.reject(error);$cookies.put("GTM-XSRF-TOKEN",parsedData[1]);$timeout(function(){retriedRequests.delete(retryKey)},
6E4,!1);retriedRequests.add(retryKey);var config=error.config,retryConfig={method:config.method,url:config.url,headers:config.headers,data:config.data};return $injector.get("$http")(retryConfig)}}}module$contents$google3$java$com$google$analytics$containertag$ui$common$error$xsrf_error_interceptor_xsrfErrorInterceptor.$inject=["$cookies","$injector","$q","$timeout"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_module$errorModule=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.error",[]).directive("gtmFormErrorField",module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_formErrorFieldDirective).directive("gtmFormErrorLabel",function(){return{restrict:"AE",scope:{fieldName:"@",customMessages:"<"},template:'<div ng-bind-html="errorMessage" class="gtm-error-message"></div>',
require:{formController:"?^form"},controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_directives_ErrorLabelController,bindToController:!0,transclude:!0}}).service("errorHandlerService",module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_handler_service$ErrorHandlerService).factory("errorHandlerInterceptor",module$contents$google3$java$com$google$analytics$containertag$ui$common$error$error_interceptor_errorInterceptor).factory("xsrfErrorInterceptor",
module$contents$google3$java$com$google$analytics$containertag$ui$common$error$xsrf_error_interceptor_xsrfErrorInterceptor);var module$contents$google3$java$com$google$analytics$containertag$ui$common$events$background_click_service_guidCount=0,module$exports$google3$java$com$google$analytics$containertag$ui$common$events$background_click_service$BackgroundClickService=function($document,$timeout,$rootScope,$window){var $jscomp$this=this;this.$document=$document;this.$timeout=$timeout;this.handlersStack=[];this.handlers=new Map;$window.onclick=function(event){for(var clickHandled=!1,$jscomp$iter$97=$jscomp$makeIterator($jscomp$this.handlers),
$jscomp$key$=$jscomp$iter$97.next();!$jscomp$key$.done;$jscomp$key$=$jscomp$iter$97.next()){var $jscomp$destructuring$var18=$jscomp$makeIterator($jscomp$key$.value);$jscomp$destructuring$var18.next();var callback=$jscomp$destructuring$var18.next().value;callback(event);clickHandled=!0}clickHandled&&$rootScope.$applyAsync()}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$background_click_service$BackgroundClickService.prototype.push=function(){this.handlersStack.push(this.handlers);this.handlers=new Map};module$exports$google3$java$com$google$analytics$containertag$ui$common$events$background_click_service$BackgroundClickService.prototype.pop=function(){0<this.handlersStack.length&&(this.handlers=this.handlersStack.pop())};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$background_click_service$BackgroundClickService.prototype.registerListener=function(elementOrSelector,callback,excludeSelectors){var $jscomp$this=this,handlers,guid="background"+module$contents$google3$java$com$google$analytics$containertag$ui$common$events$background_click_service_guidCount++;excludeSelectors&&module$exports$google3$third_party$javascript$typings$angular$index.isString(excludeSelectors)&&(excludeSelectors=
[excludeSelectors]);this.$timeout(function(){handlers=$jscomp$this.handlers;handlers.set(guid,function(event){var elements=$(elementOrSelector),eventTarget=event.target;if($jscomp$this.$document[0].contains(eventTarget)){for(var i=0;i<elements.length;i++)if(elements[i].contains(eventTarget))return;if(excludeSelectors)for(var i$210=0;i$210<excludeSelectors.length;i$210++)for(var excludedElements=$(excludeSelectors[i$210]),j=0;j<excludedElements.length;j++)if(excludedElements[j].contains(eventTarget))return;
callback(event)}})});return function(){handlers&&handlers.delete(guid)}};module$exports$google3$java$com$google$analytics$containertag$ui$common$events$background_click_service$BackgroundClickService.$inject=["$document","$timeout","$rootScope","$window"];function module$contents$goog$dispose_dispose(obj){obj&&"function"==typeof obj.dispose&&obj.dispose()};var goog$Disposable=function(){this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};goog$Disposable.prototype.disposed_=!1;goog$Disposable.prototype.isDisposed=function(){return this.disposed_};goog$Disposable.prototype.getDisposed=goog$Disposable.prototype.isDisposed;goog$Disposable.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};
goog$Disposable.prototype.registerDisposable=function(disposable){this.addOnDisposeCallback(goog$partial(module$contents$goog$dispose_dispose,disposable))};goog$Disposable.prototype.addOnDisposeCallback=function(callback,opt_scope){this.disposed_?void 0!==opt_scope?callback.call(opt_scope):callback():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(void 0!==opt_scope?goog$bind(callback,opt_scope):callback))};goog$Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var goog$events$Event=function(type,opt_target){this.type=type;this.currentTarget=this.target=opt_target;this.defaultPrevented=this.propagationStopped_=!1};goog$events$Event.prototype.hasPropagationStopped=function(){return this.propagationStopped_};goog$events$Event.prototype.stopPropagation=function(){this.propagationStopped_=!0};goog$events$Event.prototype.preventDefault=function(){this.defaultPrevented=!0};var goog$events$BrowserFeature$PASSIVE_EVENTS=function(){if(!goog$global.addEventListener||!Object.defineProperty)return!1;var passive=!1,options=Object.defineProperty({},"passive",{get:function(){passive=!0}});try{goog$global.addEventListener("test",function(){},options),goog$global.removeEventListener("test",function(){},options)}catch(e){}return passive}();function module$contents$goog$labs$userAgent$platform_isIphone(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPhone")&&!module$contents$goog$labs$userAgent$util_matchUserAgent("iPod")&&!module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")};var goog$reflect$sinkValue=function(x){goog$reflect$sinkValue[" "](x);return x};goog$reflect$sinkValue[" "]=function(){};module$contents$goog$labs$userAgent$util_matchUserAgent("Opera");module$contents$goog$labs$userAgent$util_matchUserAgent("Trident")||module$contents$goog$labs$userAgent$util_matchUserAgent("MSIE");module$contents$goog$labs$userAgent$util_matchUserAgent("Edge");
var goog$userAgent$GECKO=module$contents$goog$labs$userAgent$util_matchUserAgent("Gecko")&&!(-1!=module$contents$goog$labs$userAgent$util_getNativeUserAgentString().toLowerCase().indexOf("webkit")&&!module$contents$goog$labs$userAgent$util_matchUserAgent("Edge"))&&!(module$contents$goog$labs$userAgent$util_matchUserAgent("Trident")||module$contents$goog$labs$userAgent$util_matchUserAgent("MSIE"))&&!module$contents$goog$labs$userAgent$util_matchUserAgent("Edge"),goog$userAgent$WEBKIT=-1!=module$contents$goog$labs$userAgent$util_getNativeUserAgentString().toLowerCase().indexOf("webkit")&&
!module$contents$goog$labs$userAgent$util_matchUserAgent("Edge");goog$userAgent$WEBKIT&&module$contents$goog$labs$userAgent$util_matchUserAgent("Mobile");var goog$userAgent$MAC=module$contents$goog$labs$userAgent$util_matchUserAgent("Macintosh"),goog$userAgent$WINDOWS=module$contents$goog$labs$userAgent$util_matchUserAgent("Windows");module$contents$goog$labs$userAgent$util_matchUserAgent("Linux")||module$contents$goog$labs$userAgent$util_matchUserAgent("CrOS");
var navigator$jscomp$inline_384=goog$global.navigator||null;navigator$jscomp$inline_384&&(navigator$jscomp$inline_384.appVersion||"").indexOf("X11");module$contents$goog$labs$userAgent$util_matchUserAgent("Android");module$contents$goog$labs$userAgent$platform_isIphone();module$contents$goog$labs$userAgent$util_matchUserAgent("iPad");module$contents$goog$labs$userAgent$util_matchUserAgent("iPod");
module$contents$goog$labs$userAgent$platform_isIphone()||module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")||module$contents$goog$labs$userAgent$util_matchUserAgent("iPod");module$contents$goog$labs$userAgent$util_getNativeUserAgentString().toLowerCase().indexOf("kaios");var goog$events$BrowserEvent=function(opt_e,opt_currentTarget){goog$events$Event.call(this,opt_e?opt_e.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.pointerId=0;this.pointerType="";this.event_=null;opt_e&&this.init(opt_e,opt_currentTarget)};
goog$inherits(goog$events$BrowserEvent,goog$events$Event);var goog$events$BrowserEvent$IE_POINTER_TYPE_MAP={2:"touch",3:"pen",4:"mouse"};
goog$events$BrowserEvent.prototype.init=function(e$jscomp$0,opt_currentTarget){var type=this.type=e$jscomp$0.type,relevantTouch=e$jscomp$0.changedTouches&&e$jscomp$0.changedTouches.length?e$jscomp$0.changedTouches[0]:null;this.target=e$jscomp$0.target||e$jscomp$0.srcElement;this.currentTarget=opt_currentTarget;var relatedTarget=e$jscomp$0.relatedTarget;if(relatedTarget){if(goog$userAgent$GECKO){a:{try{goog$reflect$sinkValue(relatedTarget.nodeName);var JSCompiler_inline_result=!0;break a}catch(e){}JSCompiler_inline_result=
!1}JSCompiler_inline_result||(relatedTarget=null)}}else"mouseover"==type?relatedTarget=e$jscomp$0.fromElement:"mouseout"==type&&(relatedTarget=e$jscomp$0.toElement);this.relatedTarget=relatedTarget;relevantTouch?(this.clientX=void 0!==relevantTouch.clientX?relevantTouch.clientX:relevantTouch.pageX,this.clientY=void 0!==relevantTouch.clientY?relevantTouch.clientY:relevantTouch.pageY,this.screenX=relevantTouch.screenX||0,this.screenY=relevantTouch.screenY||0):(this.offsetX=goog$userAgent$WEBKIT||void 0!==
e$jscomp$0.offsetX?e$jscomp$0.offsetX:e$jscomp$0.layerX,this.offsetY=goog$userAgent$WEBKIT||void 0!==e$jscomp$0.offsetY?e$jscomp$0.offsetY:e$jscomp$0.layerY,this.clientX=void 0!==e$jscomp$0.clientX?e$jscomp$0.clientX:e$jscomp$0.pageX,this.clientY=void 0!==e$jscomp$0.clientY?e$jscomp$0.clientY:e$jscomp$0.pageY,this.screenX=e$jscomp$0.screenX||0,this.screenY=e$jscomp$0.screenY||0);this.button=e$jscomp$0.button;this.keyCode=e$jscomp$0.keyCode||0;this.key=e$jscomp$0.key||"";this.charCode=e$jscomp$0.charCode||
("keypress"==type?e$jscomp$0.keyCode:0);this.ctrlKey=e$jscomp$0.ctrlKey;this.altKey=e$jscomp$0.altKey;this.shiftKey=e$jscomp$0.shiftKey;this.metaKey=e$jscomp$0.metaKey;this.platformModifierKey=goog$userAgent$MAC?e$jscomp$0.metaKey:e$jscomp$0.ctrlKey;this.pointerId=e$jscomp$0.pointerId||0;this.pointerType="string"===typeof e$jscomp$0.pointerType?e$jscomp$0.pointerType:goog$events$BrowserEvent$IE_POINTER_TYPE_MAP[e$jscomp$0.pointerType]||"";this.state=e$jscomp$0.state;this.event_=e$jscomp$0;e$jscomp$0.defaultPrevented&&
goog$events$BrowserEvent.superClass_.preventDefault.call(this)};goog$events$BrowserEvent.prototype.isButton=function(button){return this.event_.button==button};goog$events$BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(0)&&!(goog$userAgent$MAC&&this.ctrlKey)};goog$events$BrowserEvent.prototype.stopPropagation=function(){goog$events$BrowserEvent.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
goog$events$BrowserEvent.prototype.preventDefault=function(){goog$events$BrowserEvent.superClass_.preventDefault.call(this);var be=this.event_;be.preventDefault?be.preventDefault():be.returnValue=!1};goog$events$BrowserEvent.prototype.getBrowserEvent=function(){return this.event_};var goog$events$Listenable$IMPLEMENTED_BY_PROP="closure_listenable_"+(1E6*Math.random()|0);var goog$events$ListenableKey$counter_=0;var goog$events$Listener=function(listener,proxy,src,type,capture,opt_handler){this.listener=listener;this.proxy=proxy;this.src=src;this.type=type;this.capture=!!capture;this.handler=opt_handler;this.key=++goog$events$ListenableKey$counter_;this.removed=this.callOnce=!1};goog$events$Listener.prototype.markAsRemoved=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};var goog$events$ListenerMap=function(src){this.src=src;this.listeners={};this.typeCount_=0};goog$events$ListenerMap.prototype.getTypeCount=function(){return this.typeCount_};goog$events$ListenerMap.prototype.getListenerCount=function(){var count=0,type;for(type in this.listeners)count+=this.listeners[type].length;return count};
goog$events$ListenerMap.prototype.add=function(type,listener,callOnce,opt_useCapture,opt_listenerScope){var typeStr=type.toString(),listenerArray=this.listeners[typeStr];listenerArray||(listenerArray=this.listeners[typeStr]=[],this.typeCount_++);var index=goog$events$ListenerMap$findListenerIndex_(listenerArray,listener,opt_useCapture,opt_listenerScope);if(-1<index){var listenerObj=listenerArray[index];callOnce||(listenerObj.callOnce=!1)}else listenerObj=new goog$events$Listener(listener,null,this.src,
typeStr,!!opt_useCapture,opt_listenerScope),listenerObj.callOnce=callOnce,listenerArray.push(listenerObj);return listenerObj};
goog$events$ListenerMap.prototype.remove=function(type,listener,opt_useCapture,opt_listenerScope){var typeStr=type.toString();if(!(typeStr in this.listeners))return!1;var listenerArray=this.listeners[typeStr],index=goog$events$ListenerMap$findListenerIndex_(listenerArray,listener,opt_useCapture,opt_listenerScope);return-1<index?(listenerArray[index].markAsRemoved(),Array.prototype.splice.call(listenerArray,index,1),0==listenerArray.length&&(delete this.listeners[typeStr],this.typeCount_--),!0):!1};
goog$events$ListenerMap.prototype.removeByKey=function(listener){var type=listener.type;if(!(type in this.listeners))return!1;var removed=module$contents$goog$array_remove(this.listeners[type],listener);removed&&(listener.markAsRemoved(),0==this.listeners[type].length&&(delete this.listeners[type],this.typeCount_--));return removed};
goog$events$ListenerMap.prototype.removeAll=function(opt_type){var typeStr=opt_type&&opt_type.toString(),count=0,type;for(type in this.listeners)if(!typeStr||type==typeStr){for(var listenerArray=this.listeners[type],i=0;i<listenerArray.length;i++)++count,listenerArray[i].markAsRemoved();delete this.listeners[type];this.typeCount_--}return count};
goog$events$ListenerMap.prototype.getListeners=function(type,capture){var listenerArray=this.listeners[type.toString()],rv=[];if(listenerArray)for(var i=0;i<listenerArray.length;++i){var listenerObj=listenerArray[i];listenerObj.capture==capture&&rv.push(listenerObj)}return rv};
goog$events$ListenerMap.prototype.getListener=function(type,listener,capture,opt_listenerScope){var listenerArray=this.listeners[type.toString()],i=-1;listenerArray&&(i=goog$events$ListenerMap$findListenerIndex_(listenerArray,listener,capture,opt_listenerScope));return-1<i?listenerArray[i]:null};
goog$events$ListenerMap.prototype.hasListener=function(opt_type,opt_capture){var hasType=void 0!==opt_type,typeStr=hasType?opt_type.toString():"",hasCapture=void 0!==opt_capture;return module$contents$goog$object_some(this.listeners,function(listenerArray){for(var i=0;i<listenerArray.length;++i)if(!(hasType&&listenerArray[i].type!=typeStr||hasCapture&&listenerArray[i].capture!=opt_capture))return!0;return!1})};
var goog$events$ListenerMap$findListenerIndex_=function(listenerArray,listener,opt_useCapture,opt_listenerScope){for(var i=0;i<listenerArray.length;++i){var listenerObj=listenerArray[i];if(!listenerObj.removed&&listenerObj.listener==listener&&listenerObj.capture==!!opt_useCapture&&listenerObj.handler==opt_listenerScope)return i}return-1};var goog$events$LISTENER_MAP_PROP_="closure_lm_"+(1E6*Math.random()|0),goog$events$onStringMap_={},goog$events$listenerCountEstimate_=0,goog$events$listen=function(src,type,listener,opt_options,opt_handler){if(opt_options&&opt_options.once)return goog$events$listenOnce(src,type,listener,opt_options,opt_handler);if(Array.isArray(type)){for(var i=0;i<type.length;i++)goog$events$listen(src,type[i],listener,opt_options,opt_handler);return null}listener=goog$events$wrapListener(listener);return src&&src[goog$events$Listenable$IMPLEMENTED_BY_PROP]?
src.listen(type,listener,goog$isObject(opt_options)?!!opt_options.capture:!!opt_options,opt_handler):goog$events$listen_(src,type,listener,!1,opt_options,opt_handler)},goog$events$listen_=function(src,type,listener,callOnce,opt_options,opt_handler){if(!type)throw Error("Invalid event type");var capture=goog$isObject(opt_options)?!!opt_options.capture:!!opt_options,listenerMap=goog$events$getListenerMap_(src);listenerMap||(src[goog$events$LISTENER_MAP_PROP_]=listenerMap=new goog$events$ListenerMap(src));
var listenerObj=listenerMap.add(type,listener,callOnce,capture,opt_handler);if(listenerObj.proxy)return listenerObj;var proxy=goog$events$getProxy();listenerObj.proxy=proxy;proxy.src=src;proxy.listener=listenerObj;if(src.addEventListener)goog$events$BrowserFeature$PASSIVE_EVENTS||(opt_options=capture),void 0===opt_options&&(opt_options=!1),src.addEventListener(type.toString(),proxy,opt_options);else if(src.attachEvent)src.attachEvent(goog$events$getOnString_(type.toString()),proxy);else if(src.addListener&&
src.removeListener)src.addListener(proxy);else throw Error("addEventListener and attachEvent are unavailable.");goog$events$listenerCountEstimate_++;return listenerObj},goog$events$getProxy=function(){var proxyCallbackFunction=goog$events$handleBrowserEvent_,f=function(eventObject){return proxyCallbackFunction.call(f.src,f.listener,eventObject)};return f},goog$events$listenOnce=function(src,type,listener,opt_options,opt_handler){if(Array.isArray(type)){for(var i=0;i<type.length;i++)goog$events$listenOnce(src,
type[i],listener,opt_options,opt_handler);return null}listener=goog$events$wrapListener(listener);return src&&src[goog$events$Listenable$IMPLEMENTED_BY_PROP]?src.listenOnce(type,listener,goog$isObject(opt_options)?!!opt_options.capture:!!opt_options,opt_handler):goog$events$listen_(src,type,listener,!0,opt_options,opt_handler)},goog$events$unlisten=function(src,type,listener,opt_options,opt_handler){if(Array.isArray(type)){for(var i=0;i<type.length;i++)goog$events$unlisten(src,type[i],listener,opt_options,
opt_handler);return null}var capture=goog$isObject(opt_options)?!!opt_options.capture:!!opt_options;listener=goog$events$wrapListener(listener);if(src&&src[goog$events$Listenable$IMPLEMENTED_BY_PROP])return src.unlisten(type,listener,capture,opt_handler);if(!src)return!1;var listenerMap=goog$events$getListenerMap_(src);if(listenerMap){var listenerObj=listenerMap.getListener(type,listener,capture,opt_handler);if(listenerObj)return goog$events$unlistenByKey(listenerObj)}return!1},goog$events$unlistenByKey=
function(key){if("number"===typeof key||!key||key.removed)return!1;var src=key.src;if(src&&src[goog$events$Listenable$IMPLEMENTED_BY_PROP])return src.unlistenByKey(key);var type=key.type,proxy=key.proxy;src.removeEventListener?src.removeEventListener(type,proxy,key.capture):src.detachEvent?src.detachEvent(goog$events$getOnString_(type),proxy):src.addListener&&src.removeListener&&src.removeListener(proxy);goog$events$listenerCountEstimate_--;var listenerMap=goog$events$getListenerMap_(src);listenerMap?
(listenerMap.removeByKey(key),0==listenerMap.getTypeCount()&&(listenerMap.src=null,src[goog$events$LISTENER_MAP_PROP_]=null)):key.markAsRemoved();return!0},goog$events$getOnString_=function(type){return type in goog$events$onStringMap_?goog$events$onStringMap_[type]:goog$events$onStringMap_[type]="on"+type},goog$events$handleBrowserEvent_=function(listener,opt_evt){if(listener.removed)var JSCompiler_temp=!0;else{var eventObject=new goog$events$BrowserEvent(opt_evt,this),listenerFn=listener.listener,
listenerHandler=listener.handler||listener.src;listener.callOnce&&goog$events$unlistenByKey(listener);JSCompiler_temp=listenerFn.call(listenerHandler,eventObject)}return JSCompiler_temp},goog$events$getListenerMap_=function(src){var listenerMap=src[goog$events$LISTENER_MAP_PROP_];return listenerMap instanceof goog$events$ListenerMap?listenerMap:null},goog$events$LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1E9*Math.random()>>>0),goog$events$wrapListener=function(listener){if("function"===typeof listener)return listener;
listener[goog$events$LISTENER_WRAPPER_PROP_]||(listener[goog$events$LISTENER_WRAPPER_PROP_]=function(e){return listener.handleEvent(e)});return listener[goog$events$LISTENER_WRAPPER_PROP_]};var goog$events$EventTarget=function(){goog$Disposable.call(this);this.eventTargetListeners_=new goog$events$ListenerMap(this);this.actualEventTarget_=this;this.parentEventTarget_=null};goog$inherits(goog$events$EventTarget,goog$Disposable);goog$events$EventTarget.prototype[goog$events$Listenable$IMPLEMENTED_BY_PROP]=!0;goog$events$EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_};
goog$events$EventTarget.prototype.setParentEventTarget=function(parent){this.parentEventTarget_=parent};goog$events$EventTarget.prototype.addEventListener=function(type,handler,opt_capture,opt_handlerScope){goog$events$listen(this,type,handler,opt_capture,opt_handlerScope)};goog$events$EventTarget.prototype.removeEventListener=function(type,handler,opt_capture,opt_handlerScope){goog$events$unlisten(this,type,handler,opt_capture,opt_handlerScope)};
goog$events$EventTarget.prototype.dispatchEvent=function(e$jscomp$0){var ancestorsTree,ancestor=this.getParentEventTarget();if(ancestor)for(ancestorsTree=[];ancestor;ancestor=ancestor.getParentEventTarget())ancestorsTree.push(ancestor);var target=this.actualEventTarget_,e=e$jscomp$0,opt_ancestorsTree=ancestorsTree,type=e.type||e;if("string"===typeof e)e=new goog$events$Event(e,target);else if(e instanceof goog$events$Event)e.target=e.target||target;else{var oldEvent=e;e=new goog$events$Event(type,
target);module$contents$goog$object_extend(e,oldEvent)}var rv=!0;if(opt_ancestorsTree)for(var i=opt_ancestorsTree.length-1;!e.hasPropagationStopped()&&0<=i;i--){var currentTarget=e.currentTarget=opt_ancestorsTree[i];rv=currentTarget.fireListeners(type,!0,e)&&rv}e.hasPropagationStopped()||(currentTarget=e.currentTarget=target,rv=currentTarget.fireListeners(type,!0,e)&&rv,e.hasPropagationStopped()||(rv=currentTarget.fireListeners(type,!1,e)&&rv));if(opt_ancestorsTree)for(i=0;!e.hasPropagationStopped()&&
i<opt_ancestorsTree.length;i++)currentTarget=e.currentTarget=opt_ancestorsTree[i],rv=currentTarget.fireListeners(type,!1,e)&&rv;return rv};goog$events$EventTarget.prototype.disposeInternal=function(){goog$events$EventTarget.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};goog$events$EventTarget.prototype.listen=function(type,listener,opt_useCapture,opt_listenerScope){return this.eventTargetListeners_.add(String(type),listener,!1,opt_useCapture,opt_listenerScope)};
goog$events$EventTarget.prototype.listenOnce=function(type,listener,opt_useCapture,opt_listenerScope){return this.eventTargetListeners_.add(String(type),listener,!0,opt_useCapture,opt_listenerScope)};goog$events$EventTarget.prototype.unlisten=function(type,listener,opt_useCapture,opt_listenerScope){return this.eventTargetListeners_.remove(String(type),listener,opt_useCapture,opt_listenerScope)};goog$events$EventTarget.prototype.unlistenByKey=function(key){return this.eventTargetListeners_.removeByKey(key)};
goog$events$EventTarget.prototype.removeAllListeners=function(opt_type){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(opt_type):0};
goog$events$EventTarget.prototype.fireListeners=function(type,capture,eventObject){var listenerArray=this.eventTargetListeners_.listeners[String(type)];if(!listenerArray)return!0;listenerArray=listenerArray.concat();for(var rv=!0,i=0;i<listenerArray.length;++i){var listener=listenerArray[i];if(listener&&!listener.removed&&listener.capture==capture){var listenerFn=listener.listener,listenerHandler=listener.handler||listener.src;listener.callOnce&&this.unlistenByKey(listener);rv=!1!==listenerFn.call(listenerHandler,
eventObject)&&rv}}return rv&&!eventObject.defaultPrevented};goog$events$EventTarget.prototype.getListeners=function(type,capture){return this.eventTargetListeners_.getListeners(String(type),capture)};goog$events$EventTarget.prototype.getListener=function(type,listener,capture,opt_listenerScope){return this.eventTargetListeners_.getListener(String(type),listener,capture,opt_listenerScope)};
goog$events$EventTarget.prototype.hasListener=function(opt_type,opt_capture){return this.eventTargetListeners_.hasListener(void 0!==opt_type?String(opt_type):void 0,opt_capture)};goog$events$EventTarget.prototype.setTargetForTesting=function(target){this.actualEventTarget_=target};goog$events$EventTarget.prototype.assertInitialized_=function(){};var goog$events$KeyCodes$normalizeKeyCode=function(keyCode){if(goog$userAgent$GECKO)var JSCompiler_temp=goog$events$KeyCodes$normalizeGeckoKeyCode(keyCode);else{if(goog$userAgent$MAC&&goog$userAgent$WEBKIT)a:switch(keyCode){case 93:var JSCompiler_temp$jscomp$0=91;break a;default:JSCompiler_temp$jscomp$0=keyCode}else JSCompiler_temp$jscomp$0=keyCode;JSCompiler_temp=JSCompiler_temp$jscomp$0}return JSCompiler_temp},goog$events$KeyCodes$normalizeGeckoKeyCode=function(keyCode){switch(keyCode){case 61:return 187;
case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return keyCode}};var goog$events$KeyNames={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",
89:"y",90:"z",93:"context",96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"`",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};var goog$ui$KeyboardEventData=function(keyCode,key,shiftKey,altKey,ctrlKey,metaKey,target,rootTarget,preventDefaultFn,stopPropagationFn){this.keyCode_=keyCode;this.key_=key;this.shiftKey_=shiftKey;this.altKey_=altKey;this.ctrlKey_=ctrlKey;this.metaKey_=metaKey;this.target_=target;this.rootTarget_=rootTarget;this.preventDefaultFn_=preventDefaultFn;this.stopPropagationFn_=stopPropagationFn};goog$ui$KeyboardEventData.prototype.getKeyCode=function(){return this.keyCode_};
goog$ui$KeyboardEventData.prototype.getKey=function(){return this.key_};goog$ui$KeyboardEventData.prototype.getShiftKey=function(){return this.shiftKey_};goog$ui$KeyboardEventData.prototype.getAltKey=function(){return this.altKey_};goog$ui$KeyboardEventData.prototype.getCtrlKey=function(){return this.ctrlKey_};goog$ui$KeyboardEventData.prototype.getMetaKey=function(){return this.metaKey_};goog$ui$KeyboardEventData.prototype.getTarget=function(){return this.target_};
goog$ui$KeyboardEventData.prototype.getRootTarget=function(){return this.rootTarget_};goog$ui$KeyboardEventData.prototype.getPreventDefaultFn=function(){return this.preventDefaultFn_};goog$ui$KeyboardEventData.prototype.getStopPropagationFn=function(){return this.stopPropagationFn_};
var goog$ui$KeyboardEventData$fromBrowserEvent=function(event){var e=event.getBrowserEvent(),path=e&&"composed"in e&&e&&"composedPath"in e&&e.composed&&e.composedPath(),rootTarget=path&&0<path.length?path[0]:event.target;return(new goog$ui$KeyboardEventData$Builder).keyCode(event.keyCode||0).key(event.key||"").shiftKey(!!event.shiftKey).altKey(!!event.altKey).ctrlKey(!!event.ctrlKey).metaKey(!!event.metaKey).target(event.target).rootTarget(rootTarget).preventDefaultFn(function(){return event.preventDefault()}).stopPropagationFn(function(){return event.stopPropagation()}).build()},
goog$ui$KeyboardEventData$Builder=function(){this.keyCode_=null;this.key_="";this.stopPropagationFn_=this.preventDefaultFn_=this.rootTarget_=this.target_=this.metaKey_=this.ctrlKey_=this.altKey_=this.shiftKey_=null};goog$ui$KeyboardEventData$Builder.prototype.keyCode=function(keyCode){this.keyCode_=keyCode;return this};goog$ui$KeyboardEventData$Builder.prototype.key=function(key){this.key_=key;return this};
goog$ui$KeyboardEventData$Builder.prototype.shiftKey=function(shiftKey){this.shiftKey_=shiftKey;return this};goog$ui$KeyboardEventData$Builder.prototype.altKey=function(altKey){this.altKey_=altKey;return this};goog$ui$KeyboardEventData$Builder.prototype.ctrlKey=function(ctrlKey){this.ctrlKey_=ctrlKey;return this};goog$ui$KeyboardEventData$Builder.prototype.metaKey=function(metaKey){this.metaKey_=metaKey;return this};
goog$ui$KeyboardEventData$Builder.prototype.target=function(target){this.target_=target;return this};goog$ui$KeyboardEventData$Builder.prototype.rootTarget=function(rootTarget){this.rootTarget_=rootTarget;return this};goog$ui$KeyboardEventData$Builder.prototype.preventDefaultFn=function(preventDefaultFn){this.preventDefaultFn_=preventDefaultFn;return this};goog$ui$KeyboardEventData$Builder.prototype.stopPropagationFn=function(stopPropagationFn){this.stopPropagationFn_=stopPropagationFn;return this};
goog$ui$KeyboardEventData$Builder.prototype.build=function(){return new goog$ui$KeyboardEventData(this.keyCode_,this.key_,this.shiftKey_,this.altKey_,this.ctrlKey_,this.metaKey_,this.target_,this.rootTarget_,this.preventDefaultFn_,this.stopPropagationFn_)};var goog$ui$KeyboardShortcutEvent=function(type,identifier,target){goog$events$Event.call(this,type,target);this.identifier=identifier};goog$inherits(goog$ui$KeyboardShortcutEvent,goog$events$Event);var goog$ui$KeyboardShortcutHandler=function(keyTarget){goog$events$EventTarget.call(this);this.currentTree_=this.shortcuts_={};this.lastStrokeTime_=0;this.globalKeys_=module$contents$goog$object_createSet(goog$ui$KeyboardShortcutHandler$DEFAULT_GLOBAL_KEYS_);this.textInputs_=module$contents$goog$object_createSet(goog$ui$KeyboardShortcutHandler$DEFAULT_TEXT_INPUTS_);this.alwaysPreventDefault_=!0;this.allShortcutsAreGlobal_=this.alwaysStopPropagation_=!1;this.modifierShortcutsAreGlobal_=!0;this.allowSpaceKeyOnButtons_=
!1;this.activeShortcutKeyForGecko_=null;this.initializeKeyListener(keyTarget)},goog$ui$KeyboardShortcutHandler$nameToKeyCodeCache_;goog$inherits(goog$ui$KeyboardShortcutHandler,goog$events$EventTarget);
var goog$ui$KeyboardShortcutHandler$SequenceNode_=function(opt_shortcut){this.shortcut=opt_shortcut||null;this.next=opt_shortcut?null:{}},goog$ui$KeyboardShortcutHandler$DEFAULT_GLOBAL_KEYS_=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],goog$ui$KeyboardShortcutHandler$DEFAULT_TEXT_INPUTS_="color date datetime datetime-local email month number password search tel text time url week".split(" ");
goog$ui$KeyboardShortcutHandler.prototype.setAlwaysPreventDefault=function(alwaysPreventDefault){this.alwaysPreventDefault_=alwaysPreventDefault};goog$ui$KeyboardShortcutHandler.prototype.getAlwaysPreventDefault=function(){return this.alwaysPreventDefault_};goog$ui$KeyboardShortcutHandler.prototype.setAlwaysStopPropagation=function(alwaysStopPropagation){this.alwaysStopPropagation_=alwaysStopPropagation};goog$ui$KeyboardShortcutHandler.prototype.getAlwaysStopPropagation=function(){return this.alwaysStopPropagation_};
goog$ui$KeyboardShortcutHandler.prototype.setAllShortcutsAreGlobal=function(allShortcutsGlobal){this.allShortcutsAreGlobal_=allShortcutsGlobal};goog$ui$KeyboardShortcutHandler.prototype.getAllShortcutsAreGlobal=function(){return this.allShortcutsAreGlobal_};goog$ui$KeyboardShortcutHandler.prototype.setModifierShortcutsAreGlobal=function(modifierShortcutsGlobal){this.modifierShortcutsAreGlobal_=modifierShortcutsGlobal};goog$ui$KeyboardShortcutHandler.prototype.getModifierShortcutsAreGlobal=function(){return this.modifierShortcutsAreGlobal_};
goog$ui$KeyboardShortcutHandler.prototype.setAllowSpaceKeyOnButtons=function(allowSpaceKeyOnButtons){this.allowSpaceKeyOnButtons_=allowSpaceKeyOnButtons};goog$ui$KeyboardShortcutHandler.prototype.registerShortcut=function(identifier,var_args){goog$ui$KeyboardShortcutHandler$setShortcut_(this.shortcuts_,this.interpretStrokes_(1,arguments),identifier)};
goog$ui$KeyboardShortcutHandler.prototype.unregisterShortcut=function(var_args){goog$ui$KeyboardShortcutHandler$unsetShortcut_(this.shortcuts_,this.interpretStrokes_(0,arguments))};goog$ui$KeyboardShortcutHandler.prototype.isShortcutRegistered=function(var_args){return this.checkShortcut_(this.shortcuts_,this.interpretStrokes_(0,arguments))};
goog$ui$KeyboardShortcutHandler.prototype.interpretStrokes_=function(initialIndex,args){if("string"===typeof args[initialIndex])var strokes=goog$ui$KeyboardShortcutHandler$parseStringShortcut(args[initialIndex]).map(function(stroke){return goog$ui$KeyboardShortcutHandler$makeStroke_(stroke.key||"",stroke.keyCode,stroke.modifiers)});else{var strokesArgs=args,i=initialIndex;Array.isArray(args[initialIndex])&&(strokesArgs=args[initialIndex],i=0);for(strokes=[];i<strokesArgs.length;i+=2)strokes.push(goog$ui$KeyboardShortcutHandler$makeStroke_("",
strokesArgs[i],strokesArgs[i+1]))}return strokes};goog$ui$KeyboardShortcutHandler.prototype.unregisterAll=function(){this.shortcuts_={}};goog$ui$KeyboardShortcutHandler.prototype.setGlobalKeys=function(keys){this.globalKeys_=module$contents$goog$object_createSet(keys)};goog$ui$KeyboardShortcutHandler.prototype.getGlobalKeys=function(){var obj=this.globalKeys_,res=[],i=0,key;for(key in obj)res[i++]=key;return res};
goog$ui$KeyboardShortcutHandler.prototype.disposeInternal=function(){goog$ui$KeyboardShortcutHandler.superClass_.disposeInternal.call(this);this.unregisterAll();this.clearKeyListener()};goog$ui$KeyboardShortcutHandler.prototype.getEventType=function(identifier){return"shortcut_"+identifier};
var goog$ui$KeyboardShortcutHandler$parseStringShortcut=function(s){s=s.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();for(var groups=s.split(" "),strokes=[],group,i=0;group=groups[i];i++){for(var keys=group.split("+"),keyName=null,keyCode=null,modifiers=0,key,j=0;key=keys[j];j++){switch(key){case "shift":modifiers|=1;continue;case "ctrl":modifiers|=2;continue;case "alt":modifiers|=4;continue;case "meta":modifiers|=8;continue}var key$jscomp$0=void 0,name=key;if(!goog$ui$KeyboardShortcutHandler$nameToKeyCodeCache_){var map=
{};for(key$jscomp$0 in goog$events$KeyNames)map[goog$events$KeyNames[key$jscomp$0]]=goog$events$KeyCodes$normalizeKeyCode(parseInt(key$jscomp$0,10));goog$ui$KeyboardShortcutHandler$nameToKeyCodeCache_=map}keyCode=goog$ui$KeyboardShortcutHandler$nameToKeyCodeCache_[name];keyName=key;break}strokes.push({key:keyName,keyCode:keyCode,modifiers:modifiers})}return strokes};
goog$ui$KeyboardShortcutHandler.prototype.initializeKeyListener=function(keyTarget){this.keyTarget_=keyTarget;goog$events$listen(this.keyTarget_,"keydown",this.handleBrowserKeyDown_,void 0,this);goog$events$listen(this.keyTarget_,"synthetic-keydown",this.handleSyntheticKeyDown_,void 0,this);goog$userAgent$WINDOWS&&(goog$events$listen(this.keyTarget_,"keypress",this.handleWindowsBrowserKeyPress_,void 0,this),goog$events$listen(this.keyTarget_,"synthetic-keypress",this.handleWindowsSyntheticKeyPress_,
void 0,this));goog$events$listen(this.keyTarget_,"keyup",this.handleBrowserKeyUp_,void 0,this);goog$events$listen(this.keyTarget_,"synthetic-keyup",this.handleSyntheticKeyUp_,void 0,this)};goog$ui$KeyboardShortcutHandler.prototype.handleBrowserKeyUp_=function(e){this.handleKeyUp_(goog$ui$KeyboardEventData$fromBrowserEvent(e))};goog$ui$KeyboardShortcutHandler.prototype.handleSyntheticKeyUp_=function(e){this.handleKeyUp_(e.getData())};
goog$ui$KeyboardShortcutHandler.prototype.handleKeyUp_=function(data){goog$userAgent$GECKO&&this.handleGeckoKeyUp_(data);goog$userAgent$WINDOWS&&this.handleWindowsKeyUp_(data)};goog$ui$KeyboardShortcutHandler.prototype.handleGeckoKeyUp_=function(data){32==this.activeShortcutKeyForGecko_&&32==data.getKeyCode()&&data.getPreventDefaultFn()();this.activeShortcutKeyForGecko_=null};
goog$ui$KeyboardShortcutHandler.prototype.isPossiblePrintableKey_=function(data){return goog$userAgent$WINDOWS&&data.getCtrlKey()&&data.getAltKey()};goog$ui$KeyboardShortcutHandler.prototype.handleWindowsBrowserKeyPress_=function(e){this.handleWindowsKeyPress_(goog$ui$KeyboardEventData$fromBrowserEvent(e))};goog$ui$KeyboardShortcutHandler.prototype.handleWindowsSyntheticKeyPress_=function(e){this.handleWindowsKeyPress_(e.getData())};
goog$ui$KeyboardShortcutHandler.prototype.handleWindowsKeyPress_=function(data){32<data.getKeyCode()&&this.isPossiblePrintableKey_(data)&&(this.isPrintableKey_=!0)};goog$ui$KeyboardShortcutHandler.prototype.handleWindowsKeyUp_=function(data){!this.isPrintableKey_&&this.isPossiblePrintableKey_(data)&&this.handleKeyDown_(data,!0)};
goog$ui$KeyboardShortcutHandler.prototype.clearKeyListener=function(){goog$events$unlisten(this.keyTarget_,"keydown",this.handleBrowserKeyDown_,!1,this);goog$events$unlisten(this.keyTarget_,"synthetic-keydown",this.handleSyntheticKeyDown_,!1,this);goog$userAgent$WINDOWS&&(goog$events$unlisten(this.keyTarget_,"keypress",this.handleWindowsBrowserKeyPress_,!1,this),goog$events$unlisten(this.keyTarget_,"synthetic-keypress",this.handleWindowsSyntheticKeyPress_,!1,this));goog$events$unlisten(this.keyTarget_,
"keyup",this.handleBrowserKeyUp_,!1,this);goog$events$unlisten(this.keyTarget_,"synthetic-keyup",this.handleSyntheticKeyUp_,!1,this);this.keyTarget_=null};
var goog$ui$KeyboardShortcutHandler$setShortcut_=function(tree,strokes,identifier){var stroke=strokes.shift();stroke.forEach(function(s){var node=tree[s];if(node&&(0==strokes.length||node.shortcut))throw Error("Keyboard shortcut conflicts with existing shortcut: "+node.shortcut);});strokes.length?stroke.forEach(function(s){var key=s.toString(),value=new goog$ui$KeyboardShortcutHandler$SequenceNode_;var node=key in tree?tree[key]:tree[key]=value;var strokesCopy=strokes.slice(0);goog$ui$KeyboardShortcutHandler$setShortcut_(node.next,
strokesCopy,identifier)}):stroke.forEach(function(s){tree[s]=new goog$ui$KeyboardShortcutHandler$SequenceNode_(identifier)})},goog$ui$KeyboardShortcutHandler$unsetShortcut_=function(tree,strokes){strokes.shift().forEach(function(s){var node=tree[s];if(node)if(0==strokes.length)node.shortcut&&delete tree[s];else if(node.next){var strokesCopy=strokes.slice(0);goog$ui$KeyboardShortcutHandler$unsetShortcut_(node.next,strokesCopy);module$contents$goog$object_isEmpty(node.next)&&delete tree[s]}})};
goog$ui$KeyboardShortcutHandler.prototype.getNode_=function(tree,stroke){for(var i=0;i<stroke.length;i++){var node=tree[stroke[i]];if(node)return node}};goog$ui$KeyboardShortcutHandler.prototype.checkShortcut_=function(tree,strokes){for(;0<strokes.length&&tree;){var stroke=strokes.shift(),node=this.getNode_(tree,stroke);if(node){if(0==strokes.length&&node.shortcut)return!0;var strokesCopy=strokes.slice(0);if(this.checkShortcut_(node.next,strokesCopy))return!0}}return!1};
var goog$ui$KeyboardShortcutHandler$makeStroke_=function(keyName,keyCode,modifiers){var mods=modifiers||0,strokes=["c_"+keyCode+"_"+mods];""!=keyName&&strokes.push("n_"+keyName+"_"+mods);return strokes};goog$ui$KeyboardShortcutHandler.prototype.handleBrowserKeyDown_=function(event){this.handleKeyDown_(goog$ui$KeyboardEventData$fromBrowserEvent(event))};goog$ui$KeyboardShortcutHandler.prototype.handleSyntheticKeyDown_=function(event){this.handleKeyDown_(event.getData())};
goog$ui$KeyboardShortcutHandler.prototype.handleKeyDown_=function(data,opt_handlePossiblePrintableKeys){if(this.isValidShortcut_(data))if(!opt_handlePossiblePrintableKeys&&this.isPossiblePrintableKey_(data))this.isPrintableKey_=!1;else{var keyCode=goog$events$KeyCodes$normalizeKeyCode(data.getKeyCode()),keyName=data.getKey(),stroke=goog$ui$KeyboardShortcutHandler$makeStroke_(keyName,keyCode,(data.getShiftKey()?1:0)|(data.getCtrlKey()?2:0)|(data.getAltKey()?4:0)|(data.getMetaKey()?8:0)),node=this.getNode_(this.currentTree_,
stroke);node&&!this.hasSequenceTimedOut_()||this.setCurrentTree_(this.shortcuts_);(node=this.getNode_(this.currentTree_,stroke))&&node.next&&this.setCurrentTree_(node.next);if(node)if(node.next)data.getPreventDefaultFn()();else{this.setCurrentTree_(this.shortcuts_);this.alwaysPreventDefault_&&data.getPreventDefaultFn()();this.alwaysStopPropagation_&&data.getStopPropagationFn()();var shortcut=node.shortcut,retVal=this.dispatchEvent(new goog$ui$KeyboardShortcutEvent("shortcut",shortcut,data.getTarget()));
(retVal&=this.dispatchEvent(new goog$ui$KeyboardShortcutEvent("shortcut_"+shortcut,shortcut,data.getTarget())))||data.getPreventDefaultFn()();goog$userAgent$GECKO&&(this.activeShortcutKeyForGecko_=keyCode)}}};
goog$ui$KeyboardShortcutHandler.prototype.isValidShortcut_=function(data){var keyCode=data.getKeyCode();if(""!=data.getKey()){var keyName=data.getKey();if("Control"==keyName||"Shift"==keyName||"Meta"==keyName||"AltGraph"==keyName)return!1}else if(16==keyCode||17==keyCode||18==keyCode)return!1;var el=data.getRootTarget(),isFormElement="TEXTAREA"==el.tagName||"INPUT"==el.tagName||"BUTTON"==el.tagName||"SELECT"==el.tagName,isContentEditable=!isFormElement&&(el.isContentEditable||el.ownerDocument&&"on"==
el.ownerDocument.designMode);return!isFormElement&&!isContentEditable||this.globalKeys_[keyCode]||this.allShortcutsAreGlobal_?!0:isContentEditable?!1:this.modifierShortcutsAreGlobal_&&(data.getAltKey()||data.getCtrlKey()||data.getMetaKey())?!0:"INPUT"==el.tagName&&this.textInputs_[el.type]?13==keyCode:"INPUT"==el.tagName||"BUTTON"==el.tagName?this.allowSpaceKeyOnButtons_?!0:32!=keyCode:!1};goog$ui$KeyboardShortcutHandler.prototype.hasSequenceTimedOut_=function(){return 1500<=Date.now()-this.lastStrokeTime_};
goog$ui$KeyboardShortcutHandler.prototype.setCurrentTree_=function(tree){this.currentTree_=tree;this.lastStrokeTime_=Date.now()};var module$contents$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service_guidCount=0,module$exports$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service$HotkeyService=function($document){var $jscomp$this=this;this.registeredShortcutsStack=[];this.currentRegisteredShortcuts=new Map;this.cycleShortcutIndex=0;this.resetCycleVars=_.debounce(function(){$jscomp$this.cycleShortcutIndex=0;$jscomp$this.cycleShortcutIdentifier=void 0},500);this.shortcutHandler=
new goog$ui$KeyboardShortcutHandler($document[0]);goog$events$listen(this.shortcutHandler,"shortcut",function(e){$jscomp$this.invokeShortcutCallback(e)})};module$exports$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service$HotkeyService.prototype.push=function(){this.unregisterAllCurrentShortcuts();this.registeredShortcutsStack.push(this.currentRegisteredShortcuts);this.currentRegisteredShortcuts=new Map};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service$HotkeyService.prototype.pop=function(){if(!(0>this.registeredShortcutsStack.length)){this.unregisterAllCurrentShortcuts();this.currentRegisteredShortcuts=this.registeredShortcutsStack.pop();for(var $jscomp$iter$98=$jscomp$makeIterator(this.currentRegisteredShortcuts),$jscomp$key$=$jscomp$iter$98.next();!$jscomp$key$.done;$jscomp$key$=$jscomp$iter$98.next()){var $jscomp$destructuring$var20=$jscomp$makeIterator($jscomp$key$.value),
identifier__tsickle_destructured_1=$jscomp$destructuring$var20.next().value,shortcuts__tsickle_destructured_2=$jscomp$destructuring$var20.next().value,identifier=identifier__tsickle_destructured_1,value=shortcuts__tsickle_destructured_2[0];value&&(this.shortcutHandler.isShortcutRegistered(value.key)&&this.shortcutHandler.unregisterShortcut(value.key),this.setupShortcut(identifier,value))}}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service$HotkeyService.prototype.registerListener=function(key,callback,allowDuplicates){var guid=module$contents$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service_guidCount++,identifier=""+key,currentHandlerMap=this.currentRegisteredShortcuts;(void 0===allowDuplicates?0:allowDuplicates)||currentHandlerMap.set(identifier,[]);var currentCallbacks=currentHandlerMap.get(identifier);currentCallbacks||
(currentHandlerMap.set(identifier,[]),currentCallbacks=currentHandlerMap.get(identifier));var handler={callback:callback,guid:guid,key:key};currentCallbacks.push(handler);this.shortcutHandler.isShortcutRegistered(handler.key)||this.setupShortcut(identifier,handler);return function(){var allShortcuts=currentHandlerMap.get(identifier),$jscomp$nullish$tmp21,index=null!=($jscomp$nullish$tmp21=null==allShortcuts?void 0:allShortcuts.findIndex(function(h){return h===handler}))?$jscomp$nullish$tmp21:-1;0>
index||allShortcuts.splice(index,1)}};module$exports$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service$HotkeyService.prototype.setupShortcut=function(identifier,handler){this.shortcutHandler.registerShortcut(identifier,handler.key)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service$HotkeyService.prototype.unregisterAllCurrentShortcuts=function(){for(var $jscomp$iter$99=$jscomp$makeIterator(this.currentRegisteredShortcuts),$jscomp$key$=$jscomp$iter$99.next();!$jscomp$key$.done;$jscomp$key$=$jscomp$iter$99.next()){var $jscomp$destructuring$var22=$jscomp$makeIterator($jscomp$key$.value);$jscomp$destructuring$var22.next();var value=$jscomp$destructuring$var22.next().value[0];value&&this.shortcutHandler.unregisterShortcut(value.key)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service$HotkeyService.prototype.invokeShortcutCallback=function(event){this.cycleShortcutIdentifier!==event.identifier&&(this.cycleShortcutIdentifier=event.identifier,this.cycleShortcutIndex=0);var shortcuts=this.currentRegisteredShortcuts.get(event.identifier),shortcut=null==shortcuts?void 0:shortcuts[this.cycleShortcutIndex];shortcut?(this.resetCycleVars(),this.cycleShortcutIndex=(this.cycleShortcutIndex+1)%shortcuts.length,
shortcut.callback(event)):this.cycleShortcutIndex=0};module$exports$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service$HotkeyService.$inject=["$document"];function module$contents$google3$java$com$google$analytics$containertag$ui$common$events$request_animation_frame_service_requestAnimationFrame($window,$timeout){var browserRequestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame||$window.mozRequestAnimationFrame||$window.oRequestAnimationFrame||$window.msRequestAnimationFrame;return browserRequestAnimationFrame?function(callback){return browserRequestAnimationFrame(callback)}:function(callback){return $timeout(callback,
0,!1)}}module$contents$google3$java$com$google$analytics$containertag$ui$common$events$request_animation_frame_service_requestAnimationFrame.$inject=["$window","$timeout"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$events$events_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.events.event_module",[]).service("gtmBackgroundClickService",module$exports$google3$java$com$google$analytics$containertag$ui$common$events$background_click_service$BackgroundClickService).service("ctuiHotkeyService",module$exports$google3$java$com$google$analytics$containertag$ui$common$events$hotkey_service$HotkeyService).service("requestAnimationFrame",
module$contents$google3$java$com$google$analytics$containertag$ui$common$events$request_animation_frame_service_requestAnimationFrame);var module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController=function($attrs,$rootScope,$scope,$timeout,guidedFlowService,sheetService){this.$attrs=$attrs;this.$rootScope=$rootScope;this.$scope=$scope;this.$timeout=$timeout;this.guidedFlowService=guidedFlowService;this.sheetService=sheetService;this.currentStep=-1;this.steps=[];this.disposers=[];this.triggerWindowResize=_.debounce(function(){window.dispatchEvent(new Event("resize"))},
600)};module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.$onInit=function(){this.guidedFlow=this.guidedFlowService.getGuidedFlow(this.$attrs.guidedFlowId);this.initAndStart(this.guidedFlow)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.initAndStart=function(guidedFlow){var $jscomp$this=this,$jscomp$optchain$tmpm1683368387$0;this.waitForPredicate(null==($jscomp$optchain$tmpm1683368387$0=guidedFlow.steps[0])?void 0:$jscomp$optchain$tmpm1683368387$0.startPredicate,function(){for(var i=0;i<guidedFlow.steps.length;i++)$jscomp$this.populateStepDetails(guidedFlow,i);$jscomp$this.currentStep=0})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.populateStepDetails=function(guidedFlow,stepIndex){var step=guidedFlow.steps[stepIndex],stepDetails={step:step,stepIndex:stepIndex,containerSelector:step.containerSelector};this.steps[stepIndex]=stepDetails;this.tryPopulateContainerDetails(stepDetails)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.onGuidedFlowEnded=function(){var $jscomp$this=this,$jscomp$optchain$tmpm1683368387$1,$jscomp$optchain$tmpm1683368387$3;null==($jscomp$optchain$tmpm1683368387$1=this.guidedFlow)||null==($jscomp$optchain$tmpm1683368387$3=$jscomp$optchain$tmpm1683368387$1.onGuidedFlowEnded)||$jscomp$optchain$tmpm1683368387$3.call($jscomp$optchain$tmpm1683368387$1);this.$timeout(function(){$jscomp$this.guidedFlowService.cancelGuidedFlow($jscomp$this.guidedFlow.id)})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.getSliderOffset=function(stepDetails){if(this.currentStep!==stepDetails.stepIndex||null==stepDetails||!stepDetails.slider)return 0;var offset=-(stepDetails.slider.horizontalOffset||0);offset!==stepDetails.cachedSliderOffset&&(stepDetails.cachedSliderOffset=offset,this.triggerWindowResize());return offset};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.getContent=function(step){return step.title?'<div class="blg-title">'+step.title+"</div>"+step.message:step.message};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.onStepShow=function(bubbleScope,stepDetails){var $jscomp$optchain$tmpm1683368387$5,stepsTotal=(null==($jscomp$optchain$tmpm1683368387$5=this.guidedFlow)?void 0:$jscomp$optchain$tmpm1683368387$5.steps.length)||0;bubbleScope.guidedFlowStepCounter=1<stepsTotal?stepDetails.stepIndex+1+"/"+stepsTotal:"";var $jscomp$optchain$tmpm1683368387$6,$jscomp$optchain$tmpm1683368387$7;
null==($jscomp$optchain$tmpm1683368387$7=($jscomp$optchain$tmpm1683368387$6=stepDetails.step).onShow)||$jscomp$optchain$tmpm1683368387$7.call($jscomp$optchain$tmpm1683368387$6)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.onStepProceed=function(stepDetails){var $jscomp$this=this,nextIndex=stepDetails.stepIndex+1,$jscomp$optchain$tmpm1683368387$8,nextStep=null==($jscomp$optchain$tmpm1683368387$8=this.steps[nextIndex])?void 0:$jscomp$optchain$tmpm1683368387$8.step;if(nextStep)if(void 0===nextStep.startPredicate||nextStep.startPredicate()){var $jscomp$optchain$tmpm1683368387$9;(null==
($jscomp$optchain$tmpm1683368387$9=this.steps[nextIndex])?0:$jscomp$optchain$tmpm1683368387$9.containerSelector)||this.restartStep(nextIndex);var $jscomp$optchain$tmpm1683368387$10,$jscomp$optchain$tmpm1683368387$11;null==($jscomp$optchain$tmpm1683368387$11=($jscomp$optchain$tmpm1683368387$10=stepDetails.step).onProceed)||$jscomp$optchain$tmpm1683368387$11.call($jscomp$optchain$tmpm1683368387$10)}else this.waitForPredicate(nextStep.startPredicate,function(){$jscomp$this.restartStep(nextIndex);var $jscomp$optchain$tmpm1683368387$12,
$jscomp$optchain$tmpm1683368387$13;null==($jscomp$optchain$tmpm1683368387$13=($jscomp$optchain$tmpm1683368387$12=stepDetails.step).onProceed)||$jscomp$optchain$tmpm1683368387$13.call($jscomp$optchain$tmpm1683368387$12)})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.tryPopulateContainerDetails=function(stepDetails){var targetElement=document.querySelector(stepDetails.step.targetSelector);if(targetElement){var sheetScrollpane=targetElement.closest(".sheet-scrollpane");if(stepDetails.step.containerSelector)var containerSelector=stepDetails.step.containerSelector;else if(sheetScrollpane){var stepClass="tour-"+this.guidedFlow.id+
"-"+stepDetails.stepIndex;containerSelector="."+stepClass;sheetScrollpane.classList.add(stepClass);this.disposers.push(function(){sheetScrollpane.classList.remove(stepClass)})}else containerSelector="body";stepDetails.containerSelector=containerSelector;sheetScrollpane&&(stepDetails.slider=this.sheetService.getTopSheet()||void 0)}};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.restartStep=function(startIndex){var $jscomp$this=this;this.$scope.$apply(function(){$jscomp$this.currentStep=-1;$jscomp$this.populateStepDetails($jscomp$this.guidedFlow,startIndex)});this.currentStep=startIndex};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.waitForPredicate=function(predicate,callback){var $jscomp$this=this;if(void 0===predicate||predicate())callback();else{var disposer=this.$rootScope.$watch(_.debounce(function(){predicate()&&($jscomp$this.$timeout(function(){callback()}),disposer())},200));this.disposers.push(disposer)}};
module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController.prototype.$onDestroy=function(){for(var $jscomp$iter$100=$jscomp$makeIterator(this.disposers),$jscomp$key$disposer=$jscomp$iter$100.next();!$jscomp$key$disposer.done;$jscomp$key$disposer=$jscomp$iter$100.next()){var disposer=$jscomp$key$disposer.value;disposer()}};
var module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component$guidedFlowComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component_GuidedFlowController,controllerAs:"ctrl",templateUrl:"/ctui/guidedflow/guided_flow_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_service$GuidedFlowService=function($compile,$rootScope){this.$compile=$compile;this.$rootScope=$rootScope;this.guidedFlows=new Map;this.isTemplateInstalled=!1};
module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_service$GuidedFlowService.prototype.startFlow=function(guidedFlow){if(guidedFlow.steps.length){this.installCustomBubbleTemplate();var state={guidedFlow:guidedFlow};this.guidedFlows.set(guidedFlow.id,state);this.insertGuidedFlowComponent(state)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_service$GuidedFlowService.prototype.cancelFlowsIfAny=function(){if(this.guidedFlows.size)for(var $jscomp$iter$101=$jscomp$makeIterator(this.guidedFlows.keys()),$jscomp$key$key=$jscomp$iter$101.next();!$jscomp$key$key.done;$jscomp$key$key=$jscomp$iter$101.next())this.cancelGuidedFlow($jscomp$key$key.value)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_service$GuidedFlowService.prototype.getGuidedFlow=function(guidedFlowId){var $jscomp$optchain$tmp903536005$0;return null==($jscomp$optchain$tmp903536005$0=this.guidedFlows.get(guidedFlowId))?void 0:$jscomp$optchain$tmp903536005$0.guidedFlow};
module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_service$GuidedFlowService.prototype.cancelGuidedFlow=function(guidedFlowId){var $jscomp$optchain$tmp903536005$1,$jscomp$optchain$tmp903536005$2,$jscomp$optchain$tmp903536005$4;null==($jscomp$optchain$tmp903536005$1=this.guidedFlows.get(guidedFlowId))||null==($jscomp$optchain$tmp903536005$2=$jscomp$optchain$tmp903536005$1.scope)||null==($jscomp$optchain$tmp903536005$4=$jscomp$optchain$tmp903536005$2.$destroy)||
$jscomp$optchain$tmp903536005$4.call($jscomp$optchain$tmp903536005$2);var $jscomp$optchain$tmp903536005$5,$jscomp$optchain$tmp903536005$6;null==($jscomp$optchain$tmp903536005$5=this.guidedFlows.get(guidedFlowId))||null==($jscomp$optchain$tmp903536005$6=$jscomp$optchain$tmp903536005$5.element)||$jscomp$optchain$tmp903536005$6.remove();this.guidedFlows.delete(guidedFlowId)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_service$GuidedFlowService.prototype.insertGuidedFlowComponent=function(state){var guidedFlowComponent=module$exports$google3$third_party$javascript$typings$angular$index.element('<guided-flow guided-flow-id="'+state.guidedFlow.id+'"></guided-flow>');state.element=guidedFlowComponent;state.scope=this.$rootScope.$new();this.$compile(guidedFlowComponent)(state.scope);module$exports$google3$third_party$javascript$typings$angular$index.element(window.document.body).append(guidedFlowComponent)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_service$GuidedFlowService.prototype.installCustomBubbleTemplate=function(){if(!this.isTemplateInstalled){var definitions=module$exports$google3$third_party$javascript$typings$angular$index.element("<guided-flow-bubble-template></guided-flow-bubble-template>");this.$compile(definitions)(this.$rootScope.$new());module$exports$google3$third_party$javascript$typings$angular$index.element(window.document.body).append(definitions);
this.isTemplateInstalled=!0}};module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_service$GuidedFlowService.$inject=["$compile","$rootScope"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_module$guidedFlowModule=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.guidedflow",["ngSanitize","angular-tour"]).constant("tourConfig",{placement:"top",animation:!1,nextLabel:"Next",scrollSpeed:500,margin:1,backDrop:!1,useSourceScope:!0,containerElement:"body"}).component("guidedFlowBubbleTemplate",{templateUrl:"/ctui/guidedflow/guided_flow_bubble_template.html"}).component("guidedFlow",
module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_component$guidedFlowComponent).service("guidedFlowService",module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_service$GuidedFlowService);var ctui$templates=angular.module("ctui.templates",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(forceCachedTemplates,forceUncachedTemplates){return function(){return!forceUncachedTemplates&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function($templateCache,html2JsTemplatesCached){function escapeQuotes(html){return html.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}html2JsTemplatesCached()&&
($templateCache.put("/ctui/cmsonboarding/cms_instructions.html",'<div class="cms-instructions"> <div class="blg-body"> 2. Copy your tracking id </div> <div class="blg-spacer2"></div> <div class="tagging-details__tag-id" data-copy-text>{{ctrl.tagId}}</div> <div class="blg-spacer2"></div> <div class="blg-body"> 3. Sign into your website builder account and follow the steps below: </div> <div> <a href="https://support.google.com/google-ads/answer/{{ctrl.supportId}}" target="_blank" class="link--action gtm-learn-more-link"> Learn More </a> </div> </div> '),
$templateCache.put("/ctui/guidedflow/guided_flow_bubble_template.html",' <script id="tour/tour.tpl.html" type="text/ng-template"> <div class="tour-bubble"> <span class="tour-bubble__arrow tour-bubble__arrow--{{ttPlacement}}" data-ng-hide="centered"> </span> <div class="tour-bubble__close-icon icon icon-close icon--button" role="button" data-ng-click="closeTour()" title="Close tour" tabindex="0"> </div> <div class="tour-bubble__content" data-ng-bind-html="ttContent"></div> <div class="tour-bubble__controls"> <span class="tour-bubble__counter"> {{guidedFlowStepCounter}} </span> <button class="tour-bubble__btn btn btn--text" data-ng-click="proceed()" data-ng-bind="ttNextLabel"></button> </div> </div> \x3c/script> '),
$templateCache.put("/ctui/guidedflow/guided_flow_component.html",' <tour data-step="ctrl.currentStep" data-post-tour="ctrl.onGuidedFlowEnded()"> <virtual-step data-ng-repeat="stepDetails in ctrl.steps" data-tourtip-step="{{stepDetails.stepIndex}}" data-tourtip="{{ctrl.getContent(stepDetails.step)}}" data-tourtip-next-label="{{stepDetails.step.nextButton}}" data-tourtip-placement="{{stepDetails.step.placement}}" data-tourtip-offset-horizontal="{{ctrl.getSliderOffset(stepDetails) + (stepDetails.step.offsetHorizontal || 0)}}" data-tourtip-offset-vertical="{{stepDetails.step.offsetVertical}}" data-tourtip-margin="{{stepDetails.step.margin || 1}}" data-tourtip-element="{{stepDetails.step.targetSelector}}" data-tourtip-container-element="{{stepDetails.containerSelector}}" data-use-source-scope="true" data-on-show="ctrl.onStepShow(this, stepDetails)" data-on-proceed="ctrl.onStepProceed(stepDetails)"> </virtual-step> </tour> '),
$templateCache.put("/ctui/input/chip_input_component.html",['<div class="ctui-chip-input" role="grid" tabindex="-1" data-ng-click="ctrl.onContainerClicked()" data-ng-keydown="ctrl.onKeydown($event)"> <div role="row"> <div data-ng-repeat="chip in ctrl.chipList track by chip.id" data-ng-attr-aria-label="'+escapeQuotes("Remove {{chip.displayValue}}")+'" role="gridcell" class="input-chip" id="chip-field-{{$index}}" data-ng-click="ctrl.onChipClicked($index); $event.stopPropagation()" tabindex="-1"> <span class="input-chip__text"> {{chip.displayValue}} </span> <span role="button" id="chip-button-{{$index}}" aria-label="'+
escapeQuotes("Remove")+'" aria-labelledby="chip-button-{{$index}} chip-field-{{$index}}" class="input-chip__button" tabindex="-1" data-ng-click="ctrl.removeChip($index); $event.stopPropagation()"> </span> </div> <div class="gtm-text-input-inner" role="gridcell"> <input type="text" aria-label="'+escapeQuotes("Add value")+'" placeholder="{{ctrl.placeholder}}" data-ng-model="ctrl.value" data-ng-change="ctrl.onInputChange()" data-ng-model-options="{ debounce: 50 }" data-ng-focus="ctrl.onFocus()" data-ng-disabled="ctrl.isDisabled" autocomplete="off" class="ctui-text-input blg-input" /> </div> </div> </div> '].join("\n")),
$templateCache.put("/ctui/input/menu_filter_component.html",'<div> <input class="blg-input" type="text" data-ng-model="ctrl.filter" data-ng-option="{debounce: 50}"> <i class="icon" data-ng-click="ctrl.toggleState()"></i> </div> '),$templateCache.put("/ctui/input/text_input_component.html",'<div class="gtm-text-input-inner" ng-class="ctrl.containerClass"> <input type="text" placeholder="{{ctrl.placeholder}}" data-ng-model="ctrl.value" data-ng-change="ctrl.onInputChange()" data-ng-model-options="{ debounce: 50 }" data-ng-disabled="ctrl.isDisabled" data-ng-focus="ctrl.onFocus()" autocomplete="off" class="ctui-text-input blg-input" /> <button type="button" class="btn gtm-text-input__variable-btn" data-ng-if="ctrl.buttonCallback && ctrl.iconClass" data-ng-click="ctrl.onButtonClick($event)" data-ng-disabled="ctrl.isDisabled"> <i data-ng-class="ctrl.iconClass"></i> </button> </div> '),
$templateCache.put("/ctui/input/zippy_directive.html",'<div data-ng-class="{\'gtm-zippy-collapsed\': !isZippyOpen}"> <div class="gtm-zippy-title blg-body blg-comfortable" data-ng-click="toggleOpenState()" data-ng-class="{\'hide-read-only\': isZippyEmpty()}"> <span class="gtm-zippy-icon icon icon-keyboard-arrow-down"></span> <ng-container data-ng-if="::richTitleText" data-ng-bind-html="::richTitleText"></ng-container> <ng-container data-ng-if="::(!richTitleText)">{{zippyTitle}}</ng-container> <gtm-popover data-ng-if="::zippyTooltipText"> {{::zippyTooltipText}} <a data-ng-if="::zippyTooltipId" href="https://support.google.com/tagmanager/answer/{{::zippyTooltipId}}" target="_blank"> Learn more </a> </gtm-popover> <gtm-popover data-ng-if="::richTooltipText"> <div data-ng-bind-html="::richTooltipText"></div> </gtm-popover> </div> <div class="gtm-zippy-content" data-ng-transclude></div> </div> '),
$templateCache.put("/ctui/ogtsnippet/ogt_snippet.html",'<div class="ogt-snippet" data-ng-class="{\'ogt-text-area\': ctrl.isTextarea}" data-ng-if="ctrl.snippet" data-copy-text>{{ctrl.snippet}}</div>'),$templateCache.put("/ctui/select/select_component.html",'<div class="ctui-select-target" data-ng-class="{\'ctui-select-target--open\': ctrl.isOpen}" data-ng-click="ctrl.openDropdown()"> <input class="ctui-select-target__input" type="text" autocomplete="off" placeholder="{{ctrl.placeholder}}" data-ng-model="ctrl.filter" data-ng-change="ctrl.onFilterChange()" /> <i class="ctui-select-target__icon gtm-arrow-drop-down-icon"></i> </div> '),
$templateCache.put("/ctui/table/pagination_footer.html",['<div class="gtm-pagination gtm-pagination--comfortable gtm-flex gtm-table--hide-empty"> <div class="gtm-flex__section gtm-flex__section--no-grow gtm-pagination__select-label blg-comfortable" data-ng-if="!ctrl.isDynamicDataSource"> Show rows: </div> <div class="gtm-flex__section gtm-flex__section--no-grow gtm-pagination__select" data-ng-if="!ctrl.isDynamicDataSource"> <select data-ng-options="o as o for o in ctrl.options" data-ng-change="ctrl.onPageSizeSelect()" data-ng-model="ctrl.itemsPerPage" aria-label="'+
escapeQuotes("Number of items per page")+'"></select> </div> <div class="gtm-flex__section gtm-flex__section--no-grow gtm-pagination__count blg-comfortable" data-ng-if="!ctrl.isDynamicDataSource"> {{ctrl.tableCtrl.range.start + 1}}-{{ctrl.tableCtrl.range.end}} of {{ctrl.tableCtrl.range.total}} </div> <div class="gtm-pagination__button gtm-flex__section gtm-flex__section--no-grow"> <i class="gtm-arrow-left-icon icon-button" ng-click="ctrl.prev()" ng-class="{ disabled : ctrl.tableCtrl.range.firstPage }"></i> </div> <div class="gtm-pagination__button gtm-flex__section gtm-flex__section--no-grow"> <i class="gtm-arrow-right-icon icon-button" ng-click="ctrl.next()" ng-class="{ disabled : ctrl.tableCtrl.range.lastPage }"></i> </div> </div> '].join("\n")),
$templateCache.put("/ctui/toast/toast_component.html",'<div class="toast-content"> <span class="blg-body blg-comfortable toast-msg"> {{::ctrl.toast.message}} </span> <span data-ng-if="::ctrl.toast.actionText" class="toast-actions"> <button class="btn btn--flat blue toast-action-btn" type="button" data-ng-click="ctrl.toast.deferred.resolve()"> {{::ctrl.toast.actionText}} </button> </span> <i class="icon gtm-close-icon gtm-clickable" role="button" data-ng-if="::ctrl.toast.isClosable" data-ng-click="ctrl.toast.deferred.reject()"> </i> </div> '),
$templateCache.put("/ctui/toast/toast_holder_component.html",'<div class="toast-holder"> <div class="transient-toast" data-ng-show="ctrl.transientToasts.length > 0"> <toast data-ng-repeat="toast in ctrl.transientToasts | limitTo:2" data-toast="toast"></toast> </div> <div class="persistent-toast" data-ng-show="ctrl.persistentToasts.length > 0"> <toast data-ng-repeat="toast in ctrl.persistentToasts | limitTo:1" data-toast="toast"></toast> </div> </div> '),$templateCache.put("/ctui/vendortemplate/display/vt_checkbox_component.html",
'<div data-hide-if-default="ctrl.instance.paramMap[ctrl.param.name].value" data-param-template="ctrl.param" data-instance-param-map="ctrl.instance.paramMap" diff-field="{{ctrl.fieldPathName}}"> <div data-ng-if="ctrl.helper.getText(ctrl.param.displayName)" data-ctui-secure-id="ctrl.fieldPathName" class="blg-caption" data-ng-class="{ \'inline-label\': ctrl.displayStyles[\'PARAM_NAME_IS_INLINE\']}"> {{ctrl.helper.getText(ctrl.param.displayName)}} </div> <div class="blg-checkbox"> <i data-ng-class="ctrl.instance.paramMap[ctrl.param.name].value.boolean ? \'icon-check\' : \'icon-not-interested\'" class="show-read-only icon icon--small"></i> <gtm-checkbox data-ng-if="::!ctrl.displayStyles[\'CHECKBOX_IS_SWITCH\']" data-ctui-secure-id="ctrl.fieldPathName" data-ng-model="ctrl.instance.paramMap[ctrl.param.name].value.boolean" data-ng-change="ctrl.paramDepsManager.paramInstancesChanged()" data-ng-disabled="ctrl.helper.isDisabled" data-gtm-form-error-field class="hide-read-only"> </gtm-checkbox> <md-switch data-ng-if="::ctrl.displayStyles[\'CHECKBOX_IS_SWITCH\']" data-ctui-secure-id="ctrl.fieldPathName" data-ng-model="ctrl.instance.paramMap[ctrl.param.name].value.boolean" data-ng-change="ctrl.paramDepsManager.paramInstancesChanged()" data-ng-disabled="ctrl.helper.isDisabled" data-gtm-form-error-field class="hide-read-only"> </md-switch> <label data-ng-if="ctrl.param.checkboxText" data-ctui-secure-id="ctrl.fieldPathName"> {{ctrl.helper.getText(ctrl.param.checkboxText)}} <span data-vt-tooltip="ctrl.helper.getText(ctrl.param.help)"></span> </label> <div class="blg-error" data-gtm-form-error-label data-field-name="{{::ctrl.fieldPathName}}"> </div> <div data-ng-if="ctrl.param.subParam" class="vt-sub-params"> <vt-params data-helper="ctrl.helper" data-params="ctrl.param.subParam" data-instance-field-name="{{ctrl.instanceFieldName}}"> </vt-params> </div> </div> </div> '),
$templateCache.put("/ctui/vendortemplate/display/vt_group_component.html",'<div diff-field="{{ctrl.instanceFieldName}}.param.{{ctrl.param.name}}"> <div data-ng-if="::ctrl.useCustomUi"> <vt-custom-ui-renderer data-helper="ctrl.helper" data-name="ctrl.param.customUiName" data-param="ctrl.param" data-param-name="ctrl.param.name" data-params="ctrl.helper.getSubParams(ctrl.param.name)" data-instance="ctrl.instance" data-param-deps-manager="ctrl.paramDepsManager" data-instance-field-name="ctrl.instanceFieldName"> </vt-custom-ui-renderer> </div> <div data-ng-if="::(!ctrl.useCustomUi && ctrl.hasZippy)"> <gtm-zippy data-zippy-title="{{ctrl.helper.getText(ctrl.param.displayName)}}" data-is-zippy-open="ctrl.isZippyOpen" data-zippy-rich-help-text="{{ctrl.helper.getText(ctrl.param.help)}}"> <vt-params data-ng-if="ctrl.param.subParam" data-helper="ctrl.helper" data-param-name="ctrl.param.name" data-params="ctrl.helper.getSubParams(ctrl.param.name)" data-instance="ctrl.instance" data-param-deps-manager="ctrl.paramDepsManager" data-instance-field-name="{{ctrl.instanceFieldName}}"> </vt-params> </gtm-zippy> </div> <div data-ng-if="::(!ctrl.useCustomUi && !ctrl.hasZippy)"> <label data-ng-if="::ctrl.helper.getText(ctrl.param.displayName)" class="vt-subgroup blg-body" ng-class="{\'hide-read-only\': !ctrl.param.alwaysInSummary}"> {{ctrl.helper.getText(ctrl.param.displayName)}} <span data-vt-tooltip="ctrl.helper.getText(ctrl.param.help)"></span> </label> <vt-params data-ng-if="ctrl.param.subParam" data-helper="ctrl.helper" data-param-name="ctrl.param.name" data-params="ctrl.helper.getSubParams(ctrl.param.name)" data-instance-field-name="{{ctrl.instanceFieldName}}"> </vt-params> </div> </div> '),
$templateCache.put("/ctui/vendortemplate/display/vt_label_directive.html",'<label data-ng-if="param.displayName" data-ng-bind-html="helper.getText(param.displayName)" diff-field="!label-{{param.name}}"> </label> '),$templateCache.put("/ctui/vendortemplate/display/vt_multi_select_component.html",'<div class="blg-form-input" data-hide-if-default="ctrl.notSetText || ctrl.paramInstance.value" data-instance-param-map="ctrl.helper.instance.paramMap" data-param-template="ctrl.param" diff-field="{{ctrl.fieldPathName}}"> <label class="blg-caption" data-ng-if="ctrl.helper.getText(ctrl.param.displayName)" data-ng-class="{\'inline-label\': ctrl.displayStyles[\'PARAM_NAME_IS_INLINE\']}" data-ctui-secure-id="ctrl.fieldPathName"> {{ctrl.helper.getText(ctrl.param.displayName)}} <span data-vt-tooltip="ctrl.helper.getText(ctrl.param.help)"></span> </label> <vt-chip-input name="ctrl.fieldPathName" data-ctui-secure-id="ctrl.fieldPathName" data-helper="ctrl.helper" data-param-value="ctrl.paramInstance.value" data-suggestions="ctrl.suggestions" data-suggest-on-focus="ctrl.param.suggestOnFocus" data-value-unit="::ctrl.helper.getCachedText(ctrl.param.valueUnit)" data-value-hint="::ctrl.helper.getCachedText(ctrl.param.valueHint)" data-gtm-form-error-field data-ng-class="{\'hide-read-only\': ctrl.shouldShowNotSetText()}"> </vt-chip-input> <div data-ng-if="ctrl.shouldShowNotSetText()" class="blg-value show-read-only"> {{ctrl.notSetText}} </div> <div class="blg-error" data-gtm-form-error-label data-field-name="{{ctrl.fieldPathName}}"> </div> <div data-ng-if="ctrl.param.subParam" class="vt-sub-params"> <vt-params data-helper="ctrl.helper" data-params="ctrl.param.subParam" data-instance-field-name="{{ctrl.instanceFieldName}}"> </vt-params> </div> </div> '),
$templateCache.put("/ctui/vendortemplate/display/vt_param_table_component.html",'<div data-hide-if-default="ctrl.getNotSetText() || ctrl.helper.getParam(ctrl.param.name).value" data-param-template="ctrl.param" class="blg-form-input"> <label data-ng-if="ctrl.helper.getText(ctrl.param.displayName)" class="blg-caption" diff-field="!display-name-{{ctrl.param.name}}"> {{ctrl.helper.getText(ctrl.param.displayName)}} <span data-vt-tooltip="ctrl.helper.getText(ctrl.param.help)"></span> </label> <div class="blg-value show-read-only" data-ng-if="!ctrl.tableHelper.rows.length && ctrl.getNotSetText()"> {{getNotSetText()}} </div> <table data-ng-if="!ctrl.getNotSetText() || ctrl.tableHelper.rows.length" class="vt-param-table {{\'vt-param-table--cols_\' + ctrl.param.paramTableColumn.length}}"> <tr data-ng-if="ctrl.hasTableHeaders" diff-field="!header-{{ctrl.fieldPathName}}"> <th data-ng-repeat="col in ctrl.tableHeaders track by $index"> {{col}} </th> <th class="hide-read-only vt-param-table__action_header"> Action </th> </tr> <tr data-ng-repeat="(rowIndex, row) in ctrl.tableHelper.rows track by row.id" diff-field="{{ctrl.fieldPathName}}.listItem.{{rowIndex}}"> <td data-ng-repeat="col in ctrl.param.paramTableColumn"> <div class="blg-body"> {{ctrl.tableHelper.getCellReadOnlyValue(row.id, col.param.name)}} <input type="hidden" data-ctui-secure-id="ctrl.getRowFieldPathName(rowIndex, col.param.name)" data-ng-model="row.values[col.value.name]" data-gtm-form-error-field> </div> <div class="blg-error" data-gtm-form-error-label data-field-name="{{ctrl.getRowFieldPathName(rowIndex, col.param.name)}}"> </div> </td> <td class="hide-read-only" style="white-space: nowrap;"> <button class="btn" type="button" data-ng-click="ctrl.openRowEditor(row.id)" data-ng-disabled="ctrl.helper.isDisabled"> Edit </button> <button class="btn" type="button" data-ng-click="ctrl.deleteRow(row.id)" data-ng-disabled="ctrl.helper.isDisabled"> Delete </button> </td> </tr> </table> <button class="hide-read-only btn" type="button" data-ng-disabled="!ctrl.tableHelper.canAddRow || ctrl.helper.isDisabled" data-ng-click="ctrl.openRowEditor()"> <span data-ng-if="ctrl.param.newRowButtonText"> {{ctrl.helper.getText(ctrl.param.newRowButtonText)}} </span> <span data-ng-if="!ctrl.param.newRowButtonText"> Add Row </span> </button> <input type="hidden" data-ctui-secure-id="ctrl.fieldPathName" data-ng-model="ctrl.hiddenInputValue" name="{{ctrl.fieldPathName}}" data-gtm-form-error-field> <div class="blg-error" data-gtm-form-error-label data-field-name="{{ctrl.fieldPathName}}"> </div> </div> '),
$templateCache.put("/ctui/vendortemplate/display/vt_param_table_row_editor_component.html",'<div class="gtm-sheet-wrapper gtm-sheet-with-header"> <div class="gtm-sheet-header"> <div class="gtm-sheet-header__close" data-ng-click="ctrl.cancel()"></div> <div class="gtm-sheet-header__title"> <div class="blg-title"> <span data-ng-if="ctrl.inCreateMode && ctrl.helper.getText(ctrl.param.newRowTitle)"> {{ctrl.helper.getText(ctrl.param.newRowTitle)}} </span> <span data-ng-if="ctrl.inCreateMode && !ctrl.helper.getText(ctrl.param.newRowTitle)"> New row </span> <span data-ng-if="!ctrl.inCreateMode && ctrl.helper.getText(ctrl.param.editRowTitle)"> {{ctrl.helper.getText(ctrl.param.editRowTitle)}} </span> <span data-ng-if="!ctrl.inCreateMode && !ctrl.helper.getText(ctrl.param.editRowTitle)"> Edit row </span> </div> </div> <div class="gtm-sheet-header__actions" data-ng-click="ctrl.save()"> <button data-ng-if="ctrl.inCreateMode" type="button" class="btn btn btn--filled wd-btn-save-param-table-row"> Add </button> <button data-ng-if="!ctrl.inCreateMode" type="button" class="btn btn btn--filled wd-btn-save-param-table-row"> Save </button> </div> </div> <div class="sheet-content sheet-white gtm-sheet-subform" data-ng-class="{ \'param-table-editor--hide-macros\': ctrl.editingWebPermission() }"> <vt-params data-params="ctrl.helper.template.param" data-helper="ctrl.helper" data-instance-field-name="{{ctrl.instanceFieldName}}"> </vt-params> </div> </div> '),
$templateCache.put("/ctui/vendortemplate/display/vt_radio_component.html",'<div diff-field="{{ctrl.fieldPathName}}"> <div data-ng-if="ctrl.helper.getText(ctrl.param.displayName)" class="blg-caption"> {{ctrl.helper.getText(ctrl.param.displayName)}} <span data-vt-tooltip="ctrl.helper.getText(ctrl.param.help)"></span> </div> <div class="hide-read-only blg-spacer1"></div> <div class="blg-radio-group"> <md-radio-group data-gtm-form-error-field ng-model="ctrl.instance.paramMap[ctrl.param.name].value" data-ng-change="ctrl.onSelectionChanged()"> <div data-ng-repeat="item in ctrl.param.radioItem | filter:ctrl.contextFilter" data-ng-init="preFilterIndex = ctrl.param.radioItem.indexOf(item)"> <div class="vt-radio-with-tooltip hide-read-only"> <md-radio-button data-ng-disabled="ctrl.helper.isDisabled" data-ng-value="ctrl.radioValues[preFilterIndex]" data-ctui-secure-id="ctrl.fieldPathName"> <label> {{ctrl.helper.getText(item.displayValue)}} </label> </md-radio-button> <span class="hide-read-only" data-vt-tooltip="ctrl.helper.getText(item.help)"> </span> </div> <div class="show-read-only blg-value" data-ng-show="ctrl.radioValues[preFilterIndex] == ctrl.instance.paramMap[ctrl.param.name].value"> {{ctrl.helper.getText(item.displayValue)}} </div> <div class="blg-error" data-ng-if="($last && !ctrl.hasSelectedValue) || ctrl.instance.paramMap[ctrl.param.name].value == ctrl.radioValues[preFilterIndex]" data-gtm-form-error-label data-field-name="{{ctrl.fieldPathName}}"> </div> <vt-params data-ng-if="item.subParam" data-helper="ctrl.helper" data-params="item.subParam" data-instance-field-name="{{ctrl.instanceFieldName}}"> </vt-params> <div class="hide-read-only blg-spacer1"></div> </div> </md-radio-group> </div> </div> '),
$templateCache.put("/ctui/vendortemplate/display/vt_select_component.html",'<div class="blg-form-input" data-hide-if-default="ctrl.instance.paramMap[ctrl.param.name].value" data-instance-param-map="ctrl.instance.paramMap" data-param-template="ctrl.param" diff-field="{{ctrl.fieldPathName}}"> <label class="blg-caption" data-ng-if="ctrl.helper.getText(ctrl.param.displayName)" data-ctui-secure-id="ctrl.fieldPathName"> {{ctrl.helper.getText(ctrl.param.displayName)}} <span data-vt-tooltip="ctrl.helper.getText(ctrl.param.help)"></span> </label> <select class="hide-read-only blg-select" data-ctui-secure-id="ctrl.fieldPathName" data-ng-model="ctrl.selectedId" data-ng-change="ctrl.onChange()" data-ng-disabled="ctrl.helper.isDisabled" data-ng-options="i.id as i.displayValue disable when i.type === ctrl.SuggestionType.SPACER for i in ctrl.selectItems" data-gtm-form-error-field> </select> <span data-ng-if="ctrl.param.valueUnit" class="hide-read-only input-suffix"> {{ctrl.helper.getText(ctrl.param.valueUnit)}} </span> <gtm-inspect-entity class="hide-read-only" data-ng-if="ctrl.selectedItem && ctrl.selectedItem.type === ctrl.SuggestionType.VARIABLE" data-entity="ctrl.selectedItem.entity"></gtm-inspect-entity> <div class="show-read-only blg-value"> {{ctrl.selectedItem.displayValue}} <span data-ng-if="ctrl.param.valueUnit" class="input-suffix"> {{ctrl.helper.getText(ctrl.param.valueUnit)}} </span> <gtm-inspect-entity data-ng-if="ctrl.selectedItem && ctrl.selectedItem.type === ctrl.SuggestionType.VARIABLE" data-entity="ctrl.selectedItem.entity"></gtm-inspect-entity> </div> <div class="hide-read-only blg-caption" data-ng-repeat="i in ctrl.selectItems" data-ng-if="i.help && ctrl.instance.paramMap[ctrl.param.name].value === i.value" data-ng-bind-html="ctrl.helper.getText(i.help.text)"> </div> <div class="blg-error" data-gtm-form-error-label data-field-name="{{ctrl.fieldPathName}}"> </div> <div data-ng-if="ctrl.param.subParam" class="vt-sub-params"> <vt-params data-helper="ctrl.helper" data-params="ctrl.param.subParam" data-instance-field-name="{{ctrl.instanceFieldName}}"> </vt-params> </div> </div> '),
$templateCache.put("/ctui/vendortemplate/display/vt_simple_table_component.html",'<div data-hide-if-default="ctrl.notSetText || ctrl.instance.paramMap[ctrl.param.name].value" data-param-template="ctrl.param" class="blg-form-input"> <label data-ng-if="ctrl.helper.getText(ctrl.param.displayName)" class="blg-caption vt-st-title" diff-field="!display-name-{{::ctrl.param.name}}"> {{ctrl.helper.getText(ctrl.param.displayName)}} <span data-vt-tooltip="ctrl.helper.getText(ctrl.param.help)"></span> </label> <div data-ng-if="ctrl.notSetText && !ctrl.instance.paramMap[ctrl.param.name].value.listItem.length" class="blg-value show-read-only"> {{::ctrl.notSetText}} </div> <div data-ng-if="!ctrl.notSetText || ctrl.instance.paramMap[ctrl.param.name].value.listItem.length" class="vt-simple-table-md"> <div class="simple-table-row" data-ng-if="::ctrl.hasTableHeaders" diff-field="!header-{{::ctrl.fieldPathName}}"> <div data-ng-repeat="col in ::ctrl.param.simpleTableColumn" class="simple-table-row__cell simple-table-row__cell--header {{::ctrl.getColumnClass()}}"> <div data-ng-if="col.displayName"> {{::ctrl.helper.getText(col.displayName)}} </div> </div> <div class="hide-read-only simple-table-row__cell simple-table-row__cell--header simple-table-row__cell--remove-icon-cell"> </div> </div> <div data-ng-repeat="(rowIndex, row) in ctrl.tableHelper.rows track by row.id" class="simple-table-row simple-table-row--{{rowIndex}}" diff-field="{{::ctrl.fieldPathName}}.listItem.{{rowIndex}}"> <div data-ng-repeat="col in ctrl.param.simpleTableColumn" data-ng-init="rowFieldPathName = ctrl.getRowFieldPathName(rowIndex, col.name)" class="simple-table-row__cell {{::ctrl.getColumnClass()}}"> <div data-ng-if="::(ctrl.colTypeMap[col.type] == \'text\')"> <ctui-text-input class="hide-read-only" data-ng-model="row.values[col.name].string" name="{{rowFieldPathName}}" data-ctui-secure-id="rowFieldPathName" placeholder="{{row.getCachedText(col.valueHint, row) | vtDisplayText}}" data-ng-change="ctrl.paramDepsManager.paramInstancesChanged(row.id + \'.\' + col.name)" data-suggestions="ctrl.tableHelper.getSuggestions(col.name, row.id)" data-suggest-on-focus="::col.suggestOnFocus" data-icon-class="{{::row.cellClickCallbacks[col.name].iconClass}}" data-button-callback="::row.cellClickCallbacks[col.name].callback" data-gtm-form-error-field> </ctui-text-input> <div class="show-read-only blg-body"> {{row.values[col.name].string}} </div> </div> <div data-ng-if="::(ctrl.colTypeMap[col.type]==\'select\')"> <vt-suggest-select data-ctui-secure-id="rowFieldPathName" data-ng-model="row.values[col.name]" data-helper="::ctrl.helper" name="rowFieldPathName" data-suggestions="ctrl.tableHelper.getSuggestions(col.name, row.id)" data-gtm-form-error-field> </vt-suggest-select> </div> <div data-ng-if="::(ctrl.colTypeMap[col.type] == \'multi-select\')"> <vt-chip-input name="rowFieldPathName" data-ctui-secure-id="rowFieldPathName" data-helper="::ctrl.helper" data-param-value="row.values[col.name]" data-suggestions="ctrl.tableHelper.getSuggestions(col.name, row.id)" data-suggest-on-focus="::col.suggestOnFocus" data-value-unit="::row.getCachedText(col.valueUnit)" data-value-hint="::row.getCachedText(col.valueHint)" data-gtm-form-error-field> </vt-chip-input> </div> <div data-gtm-form-error-label class="blg-error" data-field-name="{{rowFieldPathName}}"> </div> </div> <div class="hide-read-only simple-table-row__cell simple-table-row__cell--remove-icon-cell"> <div class="vt-st-remove" role="button" data-ng-click="!ctrl.helper.isDisabled && ctrl.deleteRow(row.id)"> <i class="icon icon-remove-circle-outline icon--button"></i> </div> </div> </div> </div> <button class="hide-read-only btn vt-st-add" type="button" data-ng-disabled="!ctrl.tableHelper.canAddRow || ctrl.helper.isDisabled" data-ng-click="ctrl.addRow()"> <span data-ng-if="ctrl.param.newRowButtonText"> {{::ctrl.helper.getText(ctrl.param.newRowButtonText)}} </span> <span data-ng-if="!ctrl.param.newRowButtonText"> Add Row </span> </button> <input type="hidden" data-ctui-secure-id="ctrl.fieldPathName" data-ng-model="ctrl.hiddenInputValue" name="{{::ctrl.fieldPathName}}" data-gtm-form-error-field /> <div class="blg-error" data-gtm-form-error-label data-field-name="{{::ctrl.fieldPathName}}"> </div> </div> '),
$templateCache.put("/ctui/vendortemplate/display/vt_text_component.html",'<div data-hide-if-default="ctrl.getNotSetText() || ctrl.instance.paramMap[ctrl.param.name].value" data-param-template="ctrl.param" class="blg-form-input" diff-field="{{ctrl.fieldPathName}}"> <label data-ng-if="ctrl.helper.getText(ctrl.param.displayName)" data-ctui-secure-id="ctrl.fieldPathName" class="blg-caption"> {{ctrl.helper.getText(ctrl.param.displayName)}} <span data-vt-tooltip="ctrl.helper.getText(ctrl.param.help)"></span> <span class="gtm-html-collapse-btn gtm-close-icon no-padding" data-ng-if="ctrl.displayMode == ViewMode.CODE" data-ng-click="ctrl.toggleExpanded()"></span> </label> <div data-ng-if="ctrl.displayMode == ViewMode.SIMPLE" class="vt-text-input-wrapper"> <ctui-text-input class="hide-read-only blg-value" data-ctui-secure-id="ctrl.fieldPathName" placeholder="{{ctrl.valueHint || \'\'}}" data-ng-model="ctrl.paramValue.string" data-ng-change="ctrl.paramDepsManager.paramInstancesChanged(ctrl.param.name)" data-is-disabled="ctrl.helper.isDisabled" data-suggest-on-focus="ctrl.param.suggestOnFocus" data-suggestions="ctrl.suggestedValues" data-icon-class="{{ctrl.iconClass}}" data-button-callback="ctrl.buttonCallback || null" data-gtm-form-error-field> </ctui-text-input> <span data-ng-if="ctrl.param.valueUnit" class="vt-text-input-wrapper__unit hide-read-only"> {{ctrl.helper.getText(ctrl.param.valueUnit)}} </span> <div class="show-read-only blg-value"> {{ctrl.paramValue.string || ctrl.getNotSetText()}} <span data-ng-if="ctrl.param.valueUnit" class="input-suffix"> {{ctrl.helper.getText(ctrl.param.valueUnit)}} </span> </div> </div> <div data-ng-if="ctrl.displayMode == ViewMode.MULTILINE"> <div class="hide-read-only vt-text-input-wrapper--multiline"> <textarea class="blg-textarea" rows="{{ctrl.param.lineCount}}" placeholder="{{ctrl.valueHint || \'\'}}" data-ctui-secure-id="ctrl.fieldPathName" data-ng-model="ctrl.paramValue.string" data-ng-change="ctrl.paramDepsManager.paramInstancesChanged(ctrl.param.name)" data-ng-disabled="ctrl.helper.isDisabled" data-gtm-form-error-field data-allow-enter-on-text> </textarea> </div> <div class="show-read-only blg-value gtm-notes vt-text-input-wrapper--multiline">{{ctrl.paramValue.string || ctrl.getNotSetText()}}</div> </div> <div data-ng-if="ctrl.displayMode == ViewMode.CODE"> <div class="hide-read-only gtm-html-expand-btn-wrapper"> <div class="gtm-html-expand-btn gtm-arrow-se-icon" data-ng-click="ctrl.toggleExpanded()"> </div> </div> <div class="gtm-container-export-codemirror gtm-html-editor" data-code-mirror rows="{{ctrl.param.lineCount}}" placeholder="{{ctrl.valueHint || \'\'}}" data-full-height="{{::ctrl.isInDiff}}" data-ctui-secure-id="ctrl.fieldPathName" data-ng-model="ctrl.paramValue.string" data-ng-change="ctrl.paramDepsManager.paramInstancesChanged(ctrl.param.name)" data-lang-mode="{{::ctrl.langMode}}" data-read-only="{{ctrl.isReadOnly() || ctrl.helper.isDisabled}}" data-allow-copy="true" data-variable-hint="true" data-gtm-form-error-field> </div> </div> <div data-gtm-form-error-label class="blg-error" data-field-name="{{ctrl.instanceFieldName}}.param.{{ctrl.param.name}}"> </div> </div> '))}]);var module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$validator_utils_MACRO_PATTERN=/^\s*\{\{(.*)\}\}\s*$/,module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$validator_utils_CONTROL_CHARACTERS=/[\u0000-\u001F]/,module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$validator_utils_DENIED_NAME_CHARACTERS=RegExp('[\\\\;:"{}<]');
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$validator_utils_parseValueObject(valueObj){if(!valueObj||"object"!==typeof valueObj||"undefined"===typeof valueObj.type)return valueObj;switch(valueObj.type){case 1:return valueObj.string;case 2:return valueObj.listItem;case 3:return valueObj.mapValue;case 4:return valueObj.macroReference;case 5:return valueObj.functionId;case 6:return valueObj.integer;case 7:return valueObj.templateToken;case 8:return valueObj.boolean;
case 9:return valueObj.tagReference;default:return valueObj}};function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(value){if(!value||!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value))return value;switch(null==value?void 0:value.type){case 1:return value.string;case 2:return value.listItem;case 3:return value.mapValue;case 4:return value.macroReference;case 5:return value.functionId;case 6:return value.integer;case 7:return value.templateToken;case 8:return value.boolean;
case 9:return value.tagReference;case 11:return value.triggerReference;default:throw Error("Unknown value type");}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringifyValue(value){if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value))return""+value;switch(null==value?void 0:value.type){case 1:return value.string;case 6:return""+value.integer;case 8:return""+value.boolean;case 4:return"{{"+value.macroReference+"}}";default:throw Error("Unsuppored stringified type");}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(stringValue){return{type:1,string:void 0===stringValue?"":stringValue}}function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newList(listValue){return{type:2,listItem:listValue||[]}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newMap(keyValueList){for(var keys=[],values=[],i=0;keyValueList&&i<keyValueList.length;i+=2)keyValueList[i]&&keyValueList[i+1]&&(keys.push(keyValueList[i]),values.push(keyValueList[i+1]));return{type:3,mapKey:keys,mapValue:values}}function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newBoolean(booleanValue){return{type:8,boolean:booleanValue}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(v1,v2){if(!v1||!v2)return!v1&&!v2;if(v1.type!==v2.type)return!1;switch(v1.type){case 1:return v1.string===v2.string;case 2:return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_listEquals(v1.listItem,v2.listItem);case 3:return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_listEquals(v1.mapKey,v2.mapKey)&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_listEquals(v1.mapValue,
v2.mapValue);case 4:return v1.macroReference===v2.macroReference;case 5:return v1.functionId===v2.functionId;case 6:return v1.integer===v2.integer;case 7:return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_listEquals(v1.templateToken,v2.templateToken);case 8:return v1.boolean===v2.boolean;case 9:return v1.tagReference===v2.tagReference;case 11:return v1.triggerReference===v2.triggerReference;default:return!1}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isList(value){return null!=value&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value)&&2===value.type}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isMacroReference(value){if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value))return!1;if(4===value.type)return!0;if(1===value.type){var macroReference=value.string,JSCompiler_temp;if(JSCompiler_temp=!!macroReference){var parsedValue=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$validator_utils_parseValueObject(macroReference);
if(parsedValue){var macroName=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$validator_utils_MACRO_PATTERN.exec(parsedValue),JSCompiler_temp$jscomp$0;if(JSCompiler_temp$jscomp$0=macroName&&macroName[1]){var parsedValue$jscomp$0=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$validator_utils_parseValueObject(macroName[1]);JSCompiler_temp$jscomp$0=parsedValue$jscomp$0?!parsedValue$jscomp$0.startsWith("_")&&!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$validator_utils_CONTROL_CHARACTERS.test(parsedValue$jscomp$0)&&
!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$validator_utils_DENIED_NAME_CHARACTERS.test(parsedValue$jscomp$0):!0}JSCompiler_temp=!!JSCompiler_temp$jscomp$0}else JSCompiler_temp=!0}return JSCompiler_temp}return!1}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_listEquals(v1,v2){var i=v1.length;if(i!==v2.length)return!1;for(;i--;)if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(v1[i],v2[i]))return!1;return!0}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_toDisplayString(value){if(!value)return"";switch(value.type){case 1:return value.string;case 4:return"{{"+value.macroReference+"}}";case 6:return""+value.integer;case 8:return value.boolean?"true":"false";default:return"..."}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value){if(!value||!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isObject(value)||null==value.type)return!1;switch(value.type){case 1:return value.hasOwnProperty("string")?!0:!1;case 2:return value.hasOwnProperty("listItem")?!0:!1;case 3:return value.hasOwnProperty("mapKey")&&value.hasOwnProperty("mapValue")?!0:!1;case 4:return value.hasOwnProperty("macroReference")?
!0:!1;case 5:return value.hasOwnProperty("functionId")?!0:!1;case 6:return value.hasOwnProperty("integer")?!0:!1;case 7:return value.hasOwnProperty("templateToken")?!0:!1;case 8:return value.hasOwnProperty("boolean")?!0:!1;case 9:return value.hasOwnProperty("tagReference")?!0:!1;case 10:return value.hasOwnProperty("zoneBoundary")?!0:!1;case 11:return value.hasOwnProperty("triggerReference")?!0:!1;default:return!1}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isEmptyValue(value){return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value)?module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_isEmpty(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(value)):module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_isEmpty(value)}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isEmptyVteCodeSection(value){return value&&value.type&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isDefined(value.isEnabled)&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isDefined(value.raw)?!value.isEnabled||"CODE"===value.type&&!value.raw:module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_isEmpty(value)}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isLooselyEqual(a,b){if(a==b||module$exports$google3$third_party$javascript$typings$angular$index.equals(a,b)||module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isEmptyValue(a)&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isEmptyValue(b)||module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isEmptyVteCodeSection(a)&&
module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isEmptyVteCodeSection(b))return!0;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(var i=0;i<a.length;i++)if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isLooselyEqual(a[i],b[i]))return!1;return!0}if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isObject(a)||!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isObject(b)||
Array.isArray(a)||Array.isArray(b))return!1;for(var keys=[].concat($jscomp$arrayFromIterable(Object.keys(a)),$jscomp$arrayFromIterable(Object.keys(b))),i$218=0;i$218<keys.length;i$218++){var key=keys[i$218];if(!/^\$\$/.test(key)&&!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isLooselyEqual(a[key],b[key]))return!1}return!0}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_listToString(list){list=void 0===list?[]:list;return list.map(function(item){var $jscomp$nullish$tmp22;return null!=($jscomp$nullish$tmp22=null==item?void 0:item.string)?$jscomp$nullish$tmp22:""}).join("\n")}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringToList(str){for(var result=[],$jscomp$iter$102=$jscomp$makeIterator(str&&str.split("\n")||[]),$jscomp$key$line=$jscomp$iter$102.next();!$jscomp$key$line.done;$jscomp$key$line=$jscomp$iter$102.next())result.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString($jscomp$key$line.value));return result}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getWatchPropertyForValue(value){if(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value))switch(null==value?void 0:value.type){case 2:return"listItem";case 3:return"mapKey";case 7:return"templateToken"}};var module$exports$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions$SuggestionType={UNSET:0,SUGGESTION:1,TAG:2,VARIABLE:3,SPACER:4,ACTION:5,0:"UNSET",1:"SUGGESTION",2:"TAG",3:"VARIABLE",4:"SPACER",5:"ACTION"},module$contents$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions_suggestionCount=0;
function module$contents$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions_createAliasedSuggestion(aliasedValues,label,allSuggestions){for(var aliasedSuggestions=[],$jscomp$loop$245={},$jscomp$iter$103=$jscomp$makeIterator(aliasedValues),$jscomp$key$aliasedValue=$jscomp$iter$103.next();!$jscomp$key$aliasedValue.done;$jscomp$loop$245={$jscomp$loop$prop$aliasedValue$246:$jscomp$loop$245.$jscomp$loop$prop$aliasedValue$246},$jscomp$key$aliasedValue=$jscomp$iter$103.next()){$jscomp$loop$245.$jscomp$loop$prop$aliasedValue$246=
$jscomp$key$aliasedValue.value;var suggestion=allSuggestions.find(function($jscomp$loop$245){return function(item){return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(item.value,$jscomp$loop$245.$jscomp$loop$prop$aliasedValue$246)}}($jscomp$loop$245));suggestion&&aliasedSuggestions.push(suggestion)}return{id:"s-"+ ++module$contents$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions_suggestionCount,displayValue:label,
type:1,aliasedSuggestions:aliasedSuggestions}}function module$contents$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions_insertNewSuggestionIntoList(suggestionList,newItem){for(var newItemName=newItem.type+"-"+newItem.displayValue,i=0;i<suggestionList.length;i++){var suggestion=suggestionList[i];if(0<(suggestion.type+"-"+suggestion.displayValue).localeCompare(newItemName)){suggestionList.splice(i,0,newItem);return}}suggestionList.push(newItem)};var module$contents$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller_BOUND_KEYS=new Set([9,40,38,13,27]),module$contents$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller_INSERTABLE_SUGGESTIONS=new Set([1,3]);
function module$contents$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller_filterList(match,list,excludeTypes){excludeTypes=void 0===excludeTypes?new Set:excludeTypes;for(var startsWith=[],contains=[],$jscomp$iter$104=$jscomp$makeIterator(list),$jscomp$key$entry=$jscomp$iter$104.next();!$jscomp$key$entry.done;$jscomp$key$entry=$jscomp$iter$104.next()){var entry=$jscomp$key$entry.value;if(!excludeTypes.has(entry.type))if(5===entry.type||4===entry.type)contains.push(entry);
else{var $jscomp$nullish$tmp23=void 0,actual=(null!=($jscomp$nullish$tmp23=entry.displayValue)?$jscomp$nullish$tmp23:"").toLowerCase();match&&actual.startsWith(match)?startsWith.push(entry):0<=actual.indexOf(match)&&contains.push(entry)}}for(var filteredList=[].concat($jscomp$arrayFromIterable(startsWith),$jscomp$arrayFromIterable(contains)),$jscomp$optchain$tmpm662015519$0;4===(null==($jscomp$optchain$tmpm662015519$0=filteredList[0])?void 0:$jscomp$optchain$tmpm662015519$0.type);)filteredList.shift();
for(var $jscomp$optchain$tmpm662015519$1;4===(null==($jscomp$optchain$tmpm662015519$1=filteredList[filteredList.length-1])?void 0:$jscomp$optchain$tmpm662015519$1.type);)filteredList.pop();return filteredList}
var module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController=function($compile,$mdPanel,$q,$scope,$timeout,containerElement,gtmBackgroundClickService,inputElementSelector,panelService){this.$compile=$compile;this.$mdPanel=$mdPanel;this.$q=$q;this.$scope=$scope;this.$timeout=$timeout;this.containerElement=containerElement;this.gtmBackgroundClickService=gtmBackgroundClickService;this.inputElementSelector=inputElementSelector;
this.panelService=panelService;this.suggestions=[];this.internalSuggestionsCopy=[];this.isSuggestPopupOpen=!1;this.filterString="";this.filteredSuggestions=[];this.value="";this.inMouseEvent=!1;this.$scope.EntryType=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions$SuggestionType};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onInit=function(){var $jscomp$this=this;this.unregisterClickListener=this.gtmBackgroundClickService.registerListener(this.containerElement,function(){$jscomp$this.displayPanel(!1)},this.getExcludedBackgroundSelectors());this.ngModelCtrl&&(this.ngModelCtrl.$render=function(){var $jscomp$optchain$tmpm662015519$2,$jscomp$nullish$tmp24;$jscomp$this.value=
null!=($jscomp$nullish$tmp24=null==($jscomp$optchain$tmpm662015519$2=$jscomp$this.ngModelCtrl)?void 0:$jscomp$optchain$tmpm662015519$2.$viewValue)?$jscomp$nullish$tmp24:""});this.inputEl=this.containerElement.find("."+this.inputElementSelector)[0];module$exports$google3$third_party$javascript$typings$angular$index.element(this.inputEl).on("mousedown",function(){$jscomp$this.inMouseEvent=!0}).on("mouseup",function(){$jscomp$this.inMouseEvent=!1;$jscomp$this.onFocus()}).on("keydown",function(e){return void $jscomp$this.handleKeypress(e)})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onDestroy=function(){var $jscomp$optchain$tmpm662015519$3;null==($jscomp$optchain$tmpm662015519$3=this.popoverPanel)||$jscomp$optchain$tmpm662015519$3.destroy();var $jscomp$optchain$tmpm662015519$5;null==($jscomp$optchain$tmpm662015519$5=this.unregisterClickListener)||$jscomp$optchain$tmpm662015519$5.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onChanges=function(changesObj){changesObj.suggestions&&Array.isArray(this.suggestions)&&(this.updateInternalSuggestions(),this.updateFilteredList())};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.insertSuggestion=function(suggestion){this.value=suggestion.displayValue;var $jscomp$optchain$tmpm662015519$6,$jscomp$nullish$tmp25;null==($jscomp$optchain$tmpm662015519$6=this.ngModelCtrl)||$jscomp$optchain$tmpm662015519$6.$setViewValue(null!=($jscomp$nullish$tmp25=this.value)?$jscomp$nullish$tmp25:"");this.displayPanel(!1);this.inputEl.focus()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.onFocus=function(){this.suggestOnFocus&&!this.isSuggestPopupOpen&&!this.inMouseEvent&&""===this.filterString&&this.hasSuggestionsToDisplay()&&this.displayPanel(!0)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.onInputChange=function(){var $jscomp$nullish$tmp26,newValue=null!=($jscomp$nullish$tmp26=this.value)?$jscomp$nullish$tmp26:"",$jscomp$optchain$tmpm662015519$7;null==($jscomp$optchain$tmpm662015519$7=this.ngModelCtrl)||$jscomp$optchain$tmpm662015519$7.$setViewValue(this.value);0!==this.internalSuggestionsCopy.length&&(this.filterString=newValue.toLocaleLowerCase(),
this.filteredSuggestions=module$contents$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller_filterList(this.filterString,this.internalSuggestionsCopy),this.resetKeyboardSelection(),this.displayPanel(this.hasSuggestionsToDisplay()))};module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.getExcludedBackgroundSelectors=function(){return[".ctui-filter-dropdown__suggestions"]};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.hasSuggestionsToDisplay=function(){return 0!==this.filteredSuggestions.length&&!(1===this.filteredSuggestions.length&&this.filteredSuggestions[0].displayValue===this.filterString)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.resetKeyboardSelection=function(){0!==this.filteredSuggestions.length&&this.toggleKeyboardFocus(this.getItemByEventId(this.filteredSuggestions[0].id),this.getKeyboardSelectedItem())};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.findNextItem=function(){var suggestions=this.filteredSuggestions,currentSelection=this.getKeyboardSelectedItem();if(currentSelection){var oldEventId=currentSelection.dataset.eventId,nextIndex=(suggestions.findIndex(function(suggestion){return oldEventId===suggestion.id})+1)%suggestions.length,newSelection=this.getItemByEventId(suggestions[nextIndex].id);
this.toggleKeyboardFocus(newSelection,currentSelection);this.scrollToItem(newSelection,!1)}else this.resetKeyboardSelection()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.findPreviousItem=function(){var suggestions=this.filteredSuggestions,currentSelection=this.getKeyboardSelectedItem();if(currentSelection){var oldEventId=currentSelection.dataset.eventId,selectedIndex=suggestions.findIndex(function(suggestion){return oldEventId===suggestion.id}),newSelection=this.getItemByEventId(suggestions[0!==selectedIndex?selectedIndex-
1:suggestions.length-1].id);this.toggleKeyboardFocus(newSelection,currentSelection);this.scrollToItem(newSelection,!0)}else this.resetKeyboardSelection()};module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.getKeyboardSelectedItem=function(){var $jscomp$optchain$tmpm662015519$8;return null==($jscomp$optchain$tmpm662015519$8=this.resultsEl)?void 0:$jscomp$optchain$tmpm662015519$8[0].querySelector(".ctui-filter-dropdown__suggestion--selected")};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.getItemByEventId=function(eventId){var $jscomp$optchain$tmpm662015519$9;return null==($jscomp$optchain$tmpm662015519$9=this.resultsEl)?void 0:$jscomp$optchain$tmpm662015519$9[0].querySelector('[data-event-id="'+eventId+'"]')};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.getSelectedOption=function(){if(this.suggestions){var selectedEl=this.getKeyboardSelectedItem();if(selectedEl){var selectedId=selectedEl.dataset.eventId;return this.suggestions.find(function(suggestion){return suggestion.id===selectedId})}}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.scrollToItem=function(item,alignToTop){if(this.resultsEl){var dropdownRect=this.resultsEl.get(0).getBoundingClientRect(),itemRect=item.getBoundingClientRect();(itemRect.bottom>dropdownRect.bottom||itemRect.top<dropdownRect.top)&&item.scrollIntoView(alignToTop)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.handleKeypress=function(e){if(this.isSuggestPopupOpen&&module$contents$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller_BOUND_KEYS.has(e.which))switch(e.preventDefault(),e.which){case 9:this.displayPanel(!1);break;case 40:e.preventDefault();this.findNextItem();break;case 38:e.preventDefault();this.findPreviousItem();
break;case 13:this.selectItem(this.getSelectedOption(),e);break;case 27:e.preventDefault(),e.stopPropagation(),this.displayPanel(!1)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.selectItem=function(entry,e){var $jscomp$this=this;entry&&(null==e||e.stopPropagation(),module$contents$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller_INSERTABLE_SUGGESTIONS.has(entry.type)?this.insertSuggestion(entry):5===entry.type&&entry.action&&entry.action().then(function(suggestion){module$contents$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions_insertNewSuggestionIntoList($jscomp$this.internalSuggestionsCopy,
suggestion);$jscomp$this.insertSuggestion(suggestion)}).catch(function(){}),this.displayPanel(!1))};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.displayPanel=function(showDropdown){var $jscomp$this=this;if(showDropdown||this.isSuggestPopupOpen){var $jscomp$optchain$tmpm662015519$11;null==($jscomp$optchain$tmpm662015519$11=this.getPanel())||$jscomp$optchain$tmpm662015519$11.then(function(panel){return showDropdown?$jscomp$this.$timeout(function(){panel.updatePosition($jscomp$this.buildPanelPosition());
return panel.open()}):panel.close()}).then(function(){$jscomp$this.isSuggestPopupOpen=showDropdown})}};module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.toggleKeyboardFocus=function(newSelection,oldSelection){oldSelection&&module$exports$google3$third_party$javascript$typings$angular$index.element(oldSelection).removeClass("ctui-filter-dropdown__suggestion--selected");this.selectedItem=module$exports$google3$third_party$javascript$typings$angular$index.element(newSelection).addClass("ctui-filter-dropdown__suggestion--selected")};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.updateFilteredList=function(){var newList=module$contents$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller_filterList(this.filterString,this.internalSuggestionsCopy);newList.length!==this.filteredSuggestions.length&&this.isSuggestPopupOpen&&this.displayPanel(!!newList.length);this.filteredSuggestions=newList};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.updateInternalSuggestions=function(){this.internalSuggestionsCopy=_.clone(this.suggestions)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.buildPanelPosition=function(){var X=this.$mdPanel.xPosition,Y=this.$mdPanel.yPosition;return this.$mdPanel.newPanelPosition().relativeTo(this.containerElement).addPanelPosition(X.ALIGN_START,Y.BELOW).addPanelPosition(X.ALIGN_START,Y.ABOVE)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.getPanel=function(){var $jscomp$this=this;if(this.popoverPanel)return this.$q.when(this.popoverPanel);this.resultsEl||(this.resultsEl=this.$compile('\n    <menu\n        class="ctui-filter-dropdown__suggestions gtm-dropdown-menu"\n        role="listbox">\n      <ul>\n        <li\n            role="option"\n            data-ng-repeat="entry in ctrl.filteredSuggestions"\n            class="ctui-filter-dropdown__suggestion"\n            data-event-id="{{entry.id}}"\n            data-ng-click="ctrl.selectItem(entry, $event)"\n            data-ng-class="{\'ctui-filter-dropdown__suggestion--spacer\':entry.type == EntryType.SPACER}">\n            <i data-ng-if="entry.aliasedSuggestions.length > 0"\n               class="icon--small icon--no-padding ctui-filter-dropdown__shortcut-icon"></i>\x3c!-- Remove white\n        space --\x3e{{entry.displayValue}}\x3c!-- Remove white space\n        --\x3e</li>\n      </ul>\n    </menu>')(this.$scope));
this.popoverPanel=this.panelService.createMdPanel({attachTo:module$exports$google3$third_party$javascript$typings$angular$index.element(document.body),contentElement:this.resultsEl,position:this.$mdPanel.newPanelPosition().absolute().left("-9999px"),propagateContainerEvents:!0,escapeToClose:!0,focusOnOpen:!1});return this.popoverPanel.attach().then(function(){return $jscomp$this.popoverPanel})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.selectItem=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.selectItem;module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.onInputChange=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.onInputChange;
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.onFocus=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.onFocus;module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.insertSuggestion=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.insertSuggestion;
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onChanges=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onChanges;module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onDestroy=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onDestroy;
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onInit=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onInit;module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.$inject="$compile $mdPanel $q $scope $timeout containerElement gtmBackgroundClickService inputElementSelector panelService".split(" ");function module$contents$google3$java$com$google$analytics$containertag$ui$common$input$checkbox_directive_checkboxDirective(requestAnimationFrame){return{restrict:"E",require:"?ngModel",link:function(scope,el,attr,ngModelCtrl){function updateModelValue(value){scope.$apply(function(){ngModelCtrl.$setViewValue(value);el.toggleClass("material-checked",value);el.attr("aria-checked",String(value))})}ngModelCtrl||(ngModelCtrl={$setViewValue:function(value){this.$viewValue=value},$parsers:[],$formatters:[]});
attr.ngChecked&&attr.$observe("checked",function(value){requestAnimationFrame(function(){el.toggleClass("material-checked",!!value)})});var trueValue=attr.ngTrueValue;module$exports$google3$third_party$javascript$typings$angular$index.isString(trueValue)||(trueValue=!0);var falseValue=attr.ngFalseValue;module$exports$google3$third_party$javascript$typings$angular$index.isString(falseValue)||(falseValue=!1);var toggleHandler=function(){if(!el[0].hasAttribute("disabled")){var newState=attr.ngChecked?
!!el[0].checked:!el.hasClass("material-checked");updateModelValue(newState)}};el.on("click",toggleHandler);el.on("keypress",function(event){32===event.keyCode&&toggleHandler()});ngModelCtrl.$render=function(){el.toggleClass("material-checked",!!ngModelCtrl.$viewValue);el.attr("aria-checked",String(!!ngModelCtrl.$viewValue));el.attr("role","checkbox");el.attr("tabindex","0")};ngModelCtrl.$isEmpty=function(value){return value!==trueValue};ngModelCtrl.$formatters.push(function(value){return value===
trueValue});ngModelCtrl.$parsers.push(function(value){return value?trueValue:falseValue})},template:'<div class="material-container">\n                 <div class="material-icon"></div>\n               </div>'}}module$contents$google3$java$com$google$analytics$containertag$ui$common$input$checkbox_directive_checkboxDirective.$inject=["requestAnimationFrame"];var module$contents$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component_ENFORCE_MANUAL_TRIGGER=new Set([3]),module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController=function($compile,$element,$mdPanel,$q,$scope,$timeout,gtmBackgroundClickService,panelService){module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.call(this,
$compile,$mdPanel,$q,$scope,$timeout,$element,gtmBackgroundClickService,"ctui-text-input",panelService);this.containerClass=""};$jscomp$inherits(module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController,module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController);
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.prototype.$onInit=function(){var $jscomp$nullish$tmp27;this.suggestions=null!=($jscomp$nullish$tmp27=this.suggestions)?$jscomp$nullish$tmp27:[];this.buttonCallback&&this.iconClass&&(this.containerClass="gtm-text-addon");module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onInit.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.prototype.$onChanges=function(changesObj){if(changesObj.suggestions&&Array.isArray(this.suggestions)){var $jscomp$nullish$tmp28;this.manualTrigger=null!=($jscomp$nullish$tmp28=this.manualTrigger)?$jscomp$nullish$tmp28:this.suggestions.some(function(suggestion){return module$contents$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component_ENFORCE_MANUAL_TRIGGER.has(suggestion.type)})}module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onChanges.call(this,
changesObj)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.prototype.insertSuggestion=function(suggestion){if(this.manualTrigger){var insertLocation=module$contents$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component_getOpenCurlyPosition(this.value);this.value=-1===insertLocation?suggestion.displayValue:this.value.slice(0,insertLocation)+suggestion.displayValue}else this.value=suggestion.displayValue;var $jscomp$optchain$tmp1052230316$0,
$jscomp$nullish$tmp29;null==($jscomp$optchain$tmp1052230316$0=this.ngModelCtrl)||$jscomp$optchain$tmp1052230316$0.$setViewValue(null!=($jscomp$nullish$tmp29=this.value)?$jscomp$nullish$tmp29:"");this.displayPanel(!1);this.inputEl.focus()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.prototype.onInputChange=function(){var $jscomp$nullish$tmp30,newValue=null!=($jscomp$nullish$tmp30=this.value)?$jscomp$nullish$tmp30:"",$jscomp$optchain$tmp1052230316$1;null==($jscomp$optchain$tmp1052230316$1=this.ngModelCtrl)||$jscomp$optchain$tmp1052230316$1.$setViewValue(this.value);if(0!==this.internalSuggestionsCopy.length){var excludeTypes=new Set;if(this.manualTrigger){var startIndex=
module$contents$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component_getOpenCurlyPosition(newValue);if(-1===startIndex){if(""===newValue&&!this.suggestOnFocus){this.displayPanel(!1);return}""!==newValue&&excludeTypes.add(5).add(3);this.filterString=newValue.toLocaleLowerCase()}else excludeTypes.add(1),this.filterString=newValue.slice(null!=startIndex&&0<=startIndex?startIndex+2:0).toLocaleLowerCase()}else this.filterString=newValue.toLocaleLowerCase();this.filteredSuggestions=
module$contents$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller_filterList(this.filterString,this.internalSuggestionsCopy,excludeTypes);this.displayPanel(this.hasSuggestionsToDisplay())}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.prototype.onButtonClick=function($event){$event.preventDefault();var $jscomp$optchain$tmp1052230316$3;null==($jscomp$optchain$tmp1052230316$3=$event.stopPropagation)||$jscomp$optchain$tmp1052230316$3.call($event);var $jscomp$optchain$tmp1052230316$5;null==($jscomp$optchain$tmp1052230316$5=this.buttonCallback)||$jscomp$optchain$tmp1052230316$5.call(this,$event)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.prototype.onInputChange=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.prototype.onInputChange;module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.prototype.insertSuggestion=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.prototype.insertSuggestion;
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController.$inject="$compile $element $mdPanel $q $scope $timeout gtmBackgroundClickService panelService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$textInputComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$TextInputController,controllerAs:"ctrl",bindings:{isDisabled:"<?",placeholder:"@?",suggestions:"<?",suggestOnFocus:"<?",buttonCallback:"<?",iconClass:"@?",manualTrigger:"@?"},require:{ngModelCtrl:"ngModel"},templateUrl:"/ctui/input/text_input_component.html"};
function module$contents$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component_getOpenCurlyPosition(inputString){for(var openCount=0,unclosedIndices=[],i=0;i<inputString.length-1;i++)"{"===inputString.charAt(i)&&"{"===inputString.charAt(i+1)?(openCount+=1,unclosedIndices.push(i),i++):"}"===inputString.charAt(i)&&"}"===inputString.charAt(i+1)&&(i++,0<openCount&&(--openCount,unclosedIndices.pop()));return 0<openCount?unclosedIndices.pop():-1};var module$contents$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component_BOUND_NAV_KEYS=new Set([37,39,38,40,8,13]),module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController=function($compile,$element,$mdPanel,$q,$scope,$timeout,gtmBackgroundClickService,panelService){module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.call(this,
$compile,$mdPanel,$q,$scope,$timeout,$element.find(".gtm-text-input-inner"),gtmBackgroundClickService,"ctui-text-input",panelService);this.$element=$element;this.focusedChipIndex=0};$jscomp$inherits(module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController,module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController);
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.$onInit=function(){module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onInit.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.$onChanges=function(changes){if(changes.suggestions&&Array.isArray(this.suggestions)){this.focusedChipIndex=0;var $jscomp$optchain$tmpm1370097619$0;null==($jscomp$optchain$tmpm1370097619$0=this.inputEl)||$jscomp$optchain$tmpm1370097619$0.focus()}changes.chipValues&&(this.cachedChipList=void 0);module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.$onChanges.call(this,
changes)};module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.getExcludedBackgroundSelectors=function(){return[].concat($jscomp$arrayFromIterable(module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.getExcludedBackgroundSelectors.call(this)),[".ctui-chip-input"])};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.insertSuggestion=function(suggestion){module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.insertSuggestion.call(this,suggestion);this.value="";module$exports$google3$java$com$google$analytics$containertag$ui$common$input$base_filter_dropdown_controller$BaseFilterDropdownController.prototype.onInputChange.call(this);
for(var $jscomp$optchain$tmpm1370097619$2,selectItemsToAdd=(null==($jscomp$optchain$tmpm1370097619$2=suggestion.aliasedSuggestions)?0:$jscomp$optchain$tmpm1370097619$2.length)?suggestion.aliasedSuggestions:[suggestion],$jscomp$iter$105=$jscomp$makeIterator(selectItemsToAdd),$jscomp$key$newItem=$jscomp$iter$105.next();!$jscomp$key$newItem.done;$jscomp$key$newItem=$jscomp$iter$105.next()){var newItem=$jscomp$key$newItem.value,$jscomp$optchain$tmpm1370097619$3=void 0;null==($jscomp$optchain$tmpm1370097619$3=
this.chipValues)||$jscomp$optchain$tmpm1370097619$3.add(newItem)}this.handleValueChange()};module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.onContainerClicked=function(){var $jscomp$optchain$tmpm1370097619$4;null==($jscomp$optchain$tmpm1370097619$4=this.inputEl)||$jscomp$optchain$tmpm1370097619$4.focus()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.onChipClicked=function(chipIndex){this.focusChip(chipIndex);this.displayPanel(!1)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.removeChip=function(chipIndex){var chips=this.chipList,chipCount=chips.length-1;if(!(0>chipIndex||chipIndex>chipCount)){if(0===chipCount){var $jscomp$optchain$tmpm1370097619$5;null==($jscomp$optchain$tmpm1370097619$5=this.inputEl)||$jscomp$optchain$tmpm1370097619$5.focus()}else this.focusNextChip(chipIndex)?--this.focusedChipIndex:this.focusPrevChip(chipIndex);var chip=
chips[chipIndex],$jscomp$optchain$tmpm1370097619$6;null==($jscomp$optchain$tmpm1370097619$6=this.chipValues)||$jscomp$optchain$tmpm1370097619$6.delete(chip);this.displayPanel(!1);this.handleValueChange()}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.onKeydown=function(event){var keyCode=event.keyCode;module$contents$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component_BOUND_NAV_KEYS.has(keyCode)&&this.chipList.length&&(event.target instanceof HTMLInputElement&&event.target===this.inputEl?this.handleInputKeyboardEvent(keyCode,event.target):(event.preventDefault(),this.handleChipKeyboardEvent(keyCode)))};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.handleChipKeyboardEvent=function(keyCode){switch(keyCode){case 37:this.focusPrevChip(this.focusedChipIndex);break;case 39:if(!this.focusNextChip(this.focusedChipIndex)){var $jscomp$optchain$tmpm1370097619$7;null==($jscomp$optchain$tmpm1370097619$7=this.inputEl)||$jscomp$optchain$tmpm1370097619$7.focus()}break;case 8:this.removeChip(this.focusedChipIndex)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.handleInputKeyboardEvent=function(keyCode,target){if(37===keyCode&&0===target.selectionStart&&0===target.selectionEnd){var chipCount=this.chipList.length;0<chipCount&&(this.focusChip(chipCount-1),this.displayPanel(!1))}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.focusPrevChip=function(chipIndex){var newIndex=chipIndex-1;if(0>newIndex)return!1;this.focusChip(newIndex);return!0};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.focusNextChip=function(chipIndex){var newIndex=chipIndex+1;if(newIndex>this.chipList.length-1)return!1;this.focusChip(newIndex);return!0};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.focusChip=function(chipIndex){this.focusedChipIndex=chipIndex;var $jscomp$optchain$tmpm1370097619$8;null==($jscomp$optchain$tmpm1370097619$8=this.$element.find("#chip-field-"+chipIndex)[0])||$jscomp$optchain$tmpm1370097619$8.focus()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.handleValueChange=function(){this.cachedChipList=void 0;var $jscomp$optchain$tmpm1370097619$10;null==($jscomp$optchain$tmpm1370097619$10=this.onValueChange)||$jscomp$optchain$tmpm1370097619$10.call(this)};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype,{chipList:{configurable:!0,enumerable:!0,get:function(){if(!this.cachedChipList){var $jscomp$optchain$tmpm1370097619$1,$jscomp$nullish$tmp31;this.cachedChipList=[].concat($jscomp$arrayFromIterable(null!=($jscomp$nullish$tmp31=null==($jscomp$optchain$tmpm1370097619$1=this.chipValues)?void 0:$jscomp$optchain$tmpm1370097619$1.values())?
$jscomp$nullish$tmp31:[]))}return this.cachedChipList}}});module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.onKeydown=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.onKeydown;module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.removeChip=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.removeChip;
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.onChipClicked=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.onChipClicked;module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.onContainerClicked=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.onContainerClicked;
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.insertSuggestion=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.prototype.insertSuggestion;module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController.$inject="$compile $element $mdPanel $q $scope $timeout gtmBackgroundClickService panelService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$chipInputComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$ChipInputController,controllerAs:"ctrl",bindings:{isDisabled:"<?",placeholder:"@?",suggestions:"<?",suggestOnFocus:"<?",chipValues:"<?",onValueChange:"<?"},templateUrl:"/ctui/input/chip_input_component.html"};var goog$string$repeat=String.prototype.repeat?function(string,length){return string.repeat(length)}:function(string,length){return Array(length+1).join(string)};var module$contents$google3$java$com$google$analytics$containertag$ui$common$input$content_editable_directive_MATCH_TAG=/<[^>]+>/g;var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_MACRO_REFERENCE_REGEXP=/^{{([^{}]+)}}$/,module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs$NO_PARAM_EVALUATOR=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_newSimpleVtEvaluator([]);
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasConditions(obj){var $jscomp$optchain$tmpm266917374$0,$jscomp$optchain$tmpm266917374$1,$jscomp$optchain$tmpm266917374$2;return!(null==($jscomp$optchain$tmpm266917374$0=obj.containerContext)||!$jscomp$optchain$tmpm266917374$0.length)||!(null==($jscomp$optchain$tmpm266917374$1=obj.product)||!$jscomp$optchain$tmpm266917374$1.length)||!(null==($jscomp$optchain$tmpm266917374$2=
obj.enablingCondition)||!$jscomp$optchain$tmpm266917374$2.length)}function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasEnablingConditions(item){return void 0!==item.enablingCondition&&0<item.enablingCondition.length}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasEnablingTextConditions(displayText){for(var $jscomp$iter$106=$jscomp$makeIterator(displayText.text),$jscomp$key$text=$jscomp$iter$106.next();!$jscomp$key$text.done;$jscomp$key$text=$jscomp$iter$106.next())if(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasEnablingConditions($jscomp$key$text.value))return!0;
return!1}function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyProductContext(item,context){return void 0===item.product||0===item.product.length?!0:context?0<=item.product.indexOf(context.productContext):!1}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyUsageContext(item,context){return void 0===item.containerContext||0===item.containerContext.length?!0:context?context.usageContext.hasCommonContext(item.containerContext):!1}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyContext(item,context){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyUsageContext(item,context)&&module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyProductContext(item,context)}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_isParamEnabled(item,paramValues,context){if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasConditions(item))return!0;if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyProductContext(item,context)||!module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyUsageContext(item,
context))return!1;if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasEnablingConditions(item))return!0;for(var $jscomp$iter$107=$jscomp$makeIterator(item.enablingCondition),$jscomp$key$condition=$jscomp$iter$107.next();!$jscomp$key$condition.done;$jscomp$key$condition=$jscomp$iter$107.next())if(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_evalParamCondition($jscomp$key$condition.value,
paramValues))return!0;return!1}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_getPredicateParamName(predicate){var predicateType=predicate.arg[0].type;if(1===predicateType){var matches=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_MACRO_REFERENCE_REGEXP.exec(predicate.arg[0].string);return matches&&matches[1]}if(4===predicateType)return predicate.arg[0].macroReference}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_evalParamCondition(condition,paramValues){for(var predicates=condition.predicate,i=0;predicates&&i<predicates.length;i++){var predicate=predicates[i];if(!predicate.arg||1>predicate.arg.length)return!1;var paramName=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_getPredicateParamName(predicate);
if(!paramName)return!1;var paramValue=paramValues.getParamValue(paramName);switch(predicate.type){case 1:if(2!==predicate.arg.length||!paramValues.isParamEnabled(paramName)||!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(predicate.arg[1],paramValue))return!1;break;case 2:if(2!==predicate.arg.length||paramValues.isParamEnabled(paramName)&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(predicate.arg[1],
paramValue))return!1;break;case 3:if(!paramValues.isParamEnabled(paramName))return!1;break;case 4:if(paramValues.isParamEnabled(paramName))return!1;break;case 5:if(!paramValue||!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isMacroReference(paramValue))return!1;break;case 6:if(!paramValues.isParamEnabled(paramName)||null==paramValue)return!1;break;case 7:if(paramValues.isParamEnabled(paramName)&&null!=paramValue)return!1;break;default:return!1}}return!0}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_newSimpleVtEvaluator(values){var innerValues=values instanceof Map?values:new Map(values);return{getParamValue:function(name){var $jscomp$nullish$tmp32;return null!=($jscomp$nullish$tmp32=innerValues.get(name))?$jscomp$nullish$tmp32:null},getInitialParamValue:function(name){var $jscomp$nullish$tmp33;return null!=($jscomp$nullish$tmp33=innerValues.get(name))?$jscomp$nullish$tmp33:
null},isParamEnabled:function(name){return innerValues.has(name)},isItemEnabled:function(){throw Error("isItemEnabled not implemented for newSimpleVtEvaluator");},getText:function(){return""}}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_resolveDisplayText(displayText,paramEvaluator,context){if(null==displayText||null==displayText.text||0===displayText.text.length)return"";var text=displayText.text[0];if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasConditions(text)){var $jscomp$nullish$tmp36;return null!=($jscomp$nullish$tmp36=
null==text?void 0:text.value)?$jscomp$nullish$tmp36:""}for(var $jscomp$iter$109=$jscomp$makeIterator(displayText.text),$jscomp$key$text=$jscomp$iter$109.next();!$jscomp$key$text.done;$jscomp$key$text=$jscomp$iter$109.next()){var text$221=$jscomp$key$text.value;if(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_isParamEnabled(text$221,paramEvaluator,context)){var $jscomp$nullish$tmp37=void 0;return null!=($jscomp$nullish$tmp37=
text$221.value)?$jscomp$nullish$tmp37:""}}return""};var $jscomp$compprop88={},module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_LANGUAGE_MODE=($jscomp$compprop88[1]="htmlmixed",$jscomp$compprop88[2]="javascript",$jscomp$compprop88);
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getParamTextFormatting(param){return param.codeLanguage?module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_LANGUAGE_MODE[param.codeLanguage]:""}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeVendorTemplateInstance(vendorTemplate,instance,containerContexts){instance.paramMap={};for(var i=0;i<instance.param.length;i++){var key=instance.param[i].key;null!=key&&(instance.paramMap[key]=instance.param[i])}instance.defaultValueMap={};for(var i$222=0;i$222<vendorTemplate.param.length;i$222++)module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeParamInstance(vendorTemplate.param[i$222],
instance,containerContexts)}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeParamInstance(param,instance,containerContexts){var defaultParamValue=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDefaultParamValue(param,containerContexts);if(null!=param.name&&instance.paramMap&&instance.paramMap.hasOwnProperty(param.name)){instance.defaultValueMap||(instance.defaultValueMap=
{});instance.defaultValueMap[param.name]=module$exports$google3$third_party$javascript$typings$angular$index.copy(defaultParamValue);var rawParamValue=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(instance.paramMap[param.name].value);!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isDefined(defaultParamValue)||"undefined"!==typeof rawParamValue&&""!==rawParamValue||(instance.paramMap[param.name].value=
defaultParamValue);9===param.type?module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeParamTableValue(param,instance,containerContexts):8===param.type&&module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeSimpleTableValue(param,instance,containerContexts)}else{var ignoreParamInstance=!1;switch(param.type){case 1:case 2:case 10:case 3:ignoreParamInstance=
!0}if(!ignoreParamInstance&&null!=param.name){var newParamInstance={key:param.name,value:defaultParamValue};instance.param.push(newParamInstance);instance.paramMap||(instance.paramMap={});instance.paramMap[param.name]=newParamInstance;instance.defaultValueMap||(instance.defaultValueMap={});instance.defaultValueMap[param.name]=module$exports$google3$third_party$javascript$typings$angular$index.copy(defaultParamValue)}}for(var i=0;param.subParam&&i<param.subParam.length;i++)module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeParamInstance(param.subParam[i],
instance,containerContexts);if(6===param.type)for(var i$223=0;param.radioItem&&i$223<param.radioItem.length;i$223++)for(var item=param.radioItem[i$223],j=0;item.subParam&&j<item.subParam.length;j++)module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeParamInstance(item.subParam[j],instance,containerContexts);if(4===param.type){var $jscomp$inline_486,$jscomp$inline_487;if(null!=param.name&&param.textAsList&&(null==($jscomp$inline_486=
instance.paramMap)?0:null==($jscomp$inline_487=$jscomp$inline_486[param.name])?0:$jscomp$inline_487.value)){var listItem=instance.paramMap[param.name].value.listItem&&0<instance.paramMap[param.name].value.listItem.length?instance.paramMap[param.name].value.listItem:module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringToList(instance.paramMap[param.name].value.string);instance.paramMap[param.name].value={type:2,listItem:listItem}}else{var $jscomp$inline_489,
$jscomp$inline_490,$jscomp$inline_491;null!=param.name&&2===(null==($jscomp$inline_489=instance.paramMap)?void 0:null==($jscomp$inline_490=$jscomp$inline_489[param.name])?void 0:null==($jscomp$inline_491=$jscomp$inline_490.value)?void 0:$jscomp$inline_491.type)&&(instance.paramMap[param.name].value={type:1,string:instance.paramMap[param.name].value.string||module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_listToString(instance.paramMap[param.name].value.listItem)})}}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeSimpleTableValue(param,instance,containerContexts){if(param.name){var columns=param.simpleTableColumn.map(function(col){return{name:col.name,getDefaultValue:function(){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDefaultSimpleTableValue(col,containerContexts)}}});module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeTableValue(param.name,
columns,instance)}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeParamTableValue(param,instance,containerContexts){if(param.name){var columns=param.paramTableColumn.map(function(col){return{name:col.param.name,getDefaultValue:function(){var $jscomp$nullish$tmp38;return null!=($jscomp$nullish$tmp38=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDefaultParamValue(col.param,containerContexts))?
$jscomp$nullish$tmp38:module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString("")}}});module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeTableValue(param.name,columns,instance)}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeTableValue(paramName,cols,instance){var $jscomp$optchain$tmp1181539449$5,$jscomp$optchain$tmp1181539449$6,$jscomp$optchain$tmp1181539449$7,instanceList=null==($jscomp$optchain$tmp1181539449$5=instance.paramMap)?void 0:null==($jscomp$optchain$tmp1181539449$6=$jscomp$optchain$tmp1181539449$5[paramName])?void 0:null==($jscomp$optchain$tmp1181539449$7=$jscomp$optchain$tmp1181539449$6.value)?
void 0:$jscomp$optchain$tmp1181539449$7.listItem;if(instanceList)for(var $jscomp$iter$111=$jscomp$makeIterator(instanceList),$jscomp$key$row=$jscomp$iter$111.next();!$jscomp$key$row.done;$jscomp$key$row=$jscomp$iter$111.next()){var row=$jscomp$key$row.value;if(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(row)&&3===row.type){for(var map=new Map,i=0;i<row.mapKey.length;i++){var $jscomp$inline_498=void 0;null!=($jscomp$inline_498=row.mapKey[i])&&$jscomp$inline_498.string&&
map.set(row.mapKey[i].string,row.mapValue[i])}var JSCompiler_inline_result=map}else JSCompiler_inline_result=void 0;var existingValues=JSCompiler_inline_result;if(row&&existingValues){for(var newMapKey=[],newMapValue=[],$jscomp$iter$110=$jscomp$makeIterator(cols),$jscomp$key$col=$jscomp$iter$110.next();!$jscomp$key$col.done;$jscomp$key$col=$jscomp$iter$110.next()){var col=$jscomp$key$col.value;newMapKey.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(col.name));
var $jscomp$nullish$tmp39=void 0;newMapValue.push(null!=($jscomp$nullish$tmp39=existingValues.get(col.name))?$jscomp$nullish$tmp39:col.getDefaultValue())}row.mapKey=newMapKey;row.mapValue=newMapValue}}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDefaultParamValue(param,containerContexts){if(param.defaultValue)return module$exports$google3$third_party$javascript$typings$angular$index.copy(param.defaultValue);switch(param.type){case 4:return param.lineCount&&param.textAsList?module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newList():module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString("");
case 7:return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newBoolean(!1);case 6:for(var i=0;param.radioItem&&i<param.radioItem.length;i++){var itemContexts=param.radioItem[i].containerContext;if(!itemContexts||0===itemContexts.length||containerContexts.hasCommonContext(itemContexts))return module$exports$google3$third_party$javascript$typings$angular$index.copy(param.radioItem[i].value)}break;case 5:if(param.notSetText)break;for(var i$224=0;param.selectItem&&
i$224<param.selectItem.length;i$224++){var itemContexts$225=param.selectItem[i$224].containerContext;if(!itemContexts$225||0===itemContexts$225.length||containerContexts.hasCommonContext(itemContexts$225))return module$exports$google3$third_party$javascript$typings$angular$index.copy(param.selectItem[i$224].value)}break;case 13:case 8:case 9:return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newList();case 1:case 2:case 10:case 3:case 11:case 12:break;
default:console.log("ERROR: Unknown param.type: "+param.type)}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDefaultSimpleTableValue(column,containerContexts){if(column.defaultValue)return module$exports$google3$third_party$javascript$typings$angular$index.copy(column.defaultValue);switch(column.type){case 1:return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString("");case 2:for(var $jscomp$iter$112=$jscomp$makeIterator(column.selectItem),
$jscomp$key$selectItem=$jscomp$iter$112.next();!$jscomp$key$selectItem.done;$jscomp$key$selectItem=$jscomp$iter$112.next()){var selectItem=$jscomp$key$selectItem.value,itemContexts=selectItem.containerContext;if(!itemContexts||0===itemContexts.length||containerContexts.hasCommonContext(itemContexts))return module$exports$google3$third_party$javascript$typings$angular$index.copy(selectItem.value)}return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString("");
case 3:return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newList();default:throw Error("Unsupported simple table column type.");}}function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizedEmptyVendorTemplateInstance(){return{param:[],paramMap:{},defaultValueMap:{}}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDisplayStyleSet(styleList){for(var result={},i=0;styleList&&i<styleList.length;i++)switch(styleList[i]){case 1:result.PARAM_NAME_IS_INLINE=!0;break;case 2:result.LABEL_IS_HEADER=!0;break;case 3:result.LABEL_IS_HELP=!0;break;case 4:result.CHECKBOX_IS_SWITCH=!0}return result}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getNotSetText(obj){return obj&&obj.notSetText?"string"===typeof obj.notSetText?obj.notSetText:module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(obj,"notSetText.text.0.value",""):""}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_resetParamInstanceForCopy(param,instance){var $jscomp$optchain$tmp1181539449$9;param.clearOnCopy&&null!=param.name&&null!=instance.defaultValueMap&&(null==($jscomp$optchain$tmp1181539449$9=instance.paramMap)?0:$jscomp$optchain$tmp1181539449$9[param.name])&&(instance.paramMap[param.name].value=module$exports$google3$third_party$javascript$typings$angular$index.copy(instance.defaultValueMap[param.name]));
for(var i=0;param.subParam&&i<param.subParam.length;i++)module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_resetParamInstanceForCopy(param.subParam[i],instance);if(6===param.type)for(var i$226=0;param.radioItem&&i$226<param.radioItem.length;i$226++)for(var item=param.radioItem[i$226],j=0;item.subParam&&j<item.subParam.length;j++)module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_resetParamInstanceForCopy(item.subParam[j],
instance)}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isDefaultParamValue(value$jscomp$0,template,instanceParamMap){instanceParamMap=void 0===instanceParamMap?{}:instanceParamMap;if("undefined"===typeof template)return!value$jscomp$0||module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value$jscomp$0)&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isEmptyValue(value$jscomp$0)||module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isObject(value$jscomp$0)&&
_.isEmpty(value$jscomp$0);if(template.alwaysInSummary)return!1;if(1!==template.type&&!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isDefined(value$jscomp$0))return!0;var subParamIsDefault=!0;if(template.subParam&&0<template.subParam.length&&(7===template.type&&value$jscomp$0.boolean||5===template.type&&value$jscomp$0.boolean||1===template.type))for(var $jscomp$iter$113=$jscomp$makeIterator(template.subParam),$jscomp$key$subParam=$jscomp$iter$113.next();!$jscomp$key$subParam.done;$jscomp$key$subParam=
$jscomp$iter$113.next()){var subParam=$jscomp$key$subParam.value,$jscomp$optchain$tmp1181539449$10=void 0,$jscomp$optchain$tmp1181539449$11=void 0,subValue=null==($jscomp$optchain$tmp1181539449$11=null==($jscomp$optchain$tmp1181539449$10=instanceParamMap)?void 0:$jscomp$optchain$tmp1181539449$10[subParam.name])?void 0:$jscomp$optchain$tmp1181539449$11.value;subParamIsDefault=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isDefaultParamValue(subValue,
subParam,instanceParamMap)&&subParamIsDefault}var JSCompiler_temp,JSCompiler_temp$jscomp$0;if(JSCompiler_temp$jscomp$0=template.defaultValue&&4===template.type){var value=template.defaultValue;JSCompiler_temp$jscomp$0=null!=value&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value)&&6===value.type}if(JSCompiler_temp=JSCompiler_temp$jscomp$0)JSCompiler_temp=null!=value$jscomp$0&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value$jscomp$0)&&
1===value$jscomp$0.type;if(JSCompiler_temp){var intValue=Number(value$jscomp$0.string);var isDefault=!isNaN(intValue)&&intValue===Number(template.defaultValue.integer)}else{if(template.defaultValue)var JSCompiler_temp$jscomp$1=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isLooselyEqual(value$jscomp$0,template.defaultValue);else{var JSCompiler_temp$jscomp$2;if(JSCompiler_temp$jscomp$2=5===template.type)JSCompiler_temp$jscomp$2=null!=value$jscomp$0&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value$jscomp$0)&&
8===value$jscomp$0.type;JSCompiler_temp$jscomp$1=JSCompiler_temp$jscomp$2?void 0===value$jscomp$0["boolean"]||null===value$jscomp$0["boolean"]:module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isLooselyEqual(value$jscomp$0,null)}isDefault=JSCompiler_temp$jscomp$1}return isDefault&&subParamIsDefault}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getThumbnailUrl(thumbnail){return 3===(null==thumbnail?void 0:thumbnail.type)?module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(thumbnail,"name",""):module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(thumbnail,"text","")}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isParamTable(param){return 9===(null==param?void 0:param.type)}function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isSimpleTable(param){return 8===(null==param?void 0:param.type)}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getSuggestionState(param){var state={references:{}},items=[],$jscomp$optchain$tmp1181539449$16;if(null==($jscomp$optchain$tmp1181539449$16=param.selectItem)?0:$jscomp$optchain$tmp1181539449$16.length)items=param.selectItem;else{var $jscomp$optchain$tmp1181539449$17;if(null==($jscomp$optchain$tmp1181539449$17=param.suggestedValue)?0:$jscomp$optchain$tmp1181539449$17.length)items=
param.suggestedValue}for(var $jscomp$iter$116=$jscomp$makeIterator(items),$jscomp$key$item=$jscomp$iter$116.next();!$jscomp$key$item.done;$jscomp$key$item=$jscomp$iter$116.next()){var item=$jscomp$key$item.value;item.isLegacy&&(state.hasLegacy=!0);if(item.enablingCondition)for(var $jscomp$iter$115=$jscomp$makeIterator(item.enablingCondition),$jscomp$key$condition=$jscomp$iter$115.next();!$jscomp$key$condition.done;$jscomp$key$condition=$jscomp$iter$115.next())for(var $jscomp$iter$114=$jscomp$makeIterator($jscomp$key$condition.value.predicate),
$jscomp$key$predicate=$jscomp$iter$114.next();!$jscomp$key$predicate.done;$jscomp$key$predicate=$jscomp$iter$114.next()){var referencedParamName=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_getPredicateParamName($jscomp$key$predicate.value);referencedParamName&&(state.references[referencedParamName]=!0)}}return state};function module$contents$google3$java$com$google$analytics$containertag$ui$common$input$id_directive_idDirective($compile,$interpolate){var nextFormId=1;return{priority:500,restrict:"A",require:"?^form",link:function(scope,element,attrs,formController){var attrName="ctuiId",attrValue=attrs[attrName];attrValue||(attrName="gtmId",attrValue=attrs[attrName]);var ctuiId=$interpolate(attrValue||"")(scope);ctuiId&&(element.removeAttr(attrs.$attr[attrName]),formController&&!formController.formId&&(formController.formId=
String(nextFormId++)),"LABEL"===element.prop("tagName")?(formController&&!element.attr("for")&&element.attr("for",formController.formId+"-"+ctuiId),formController&&!element.attr("id")&&element.attr("id",formController.formId+"-label-"+ctuiId)):(formController&&!element.attr("id")&&element.attr("id",formController.formId+"-"+ctuiId),formController&&"GTM-CHECKBOX"===element.prop("tagName")&&!element.attr("aria-labelledby")&&element.attr("aria-labelledby",formController.formId+"-label-"+ctuiId),element.attr("name")||
element.attr("name",ctuiId)),$compile(element)(scope))},terminal:!0}}module$contents$google3$java$com$google$analytics$containertag$ui$common$input$id_directive_idDirective.$inject=["$compile","$interpolate"];
function module$contents$google3$java$com$google$analytics$containertag$ui$common$input$id_directive_secureIdDirective($compile,$parse){var nextFormId=1;return{priority:500,restrict:"A",require:"?^form",link:function(scope,element,attrs,formController){var attrName="ctuiSecureId",attrValue=attrs[attrName];attrValue||(attrName="gtmSecureId",attrValue=attrs[attrName]);var secureId=$parse(attrValue||"")(scope)||"";if(secureId=secureId.replace(/\{|\}|&#/gi,""))element.removeAttr(attrs.$attr[attrName]),
formController&&!formController.formId&&(formController.formId=String(nextFormId++)),"LABEL"===element.prop("tagName")?(formController&&!element.attr("for")&&element.attr("for",formController.formId+"-"+secureId),formController&&!element.attr("id")&&element.attr("id",formController.formId+"-label-"+secureId)):(formController&&!element.attr("id")&&element.attr("id",formController.formId+"-"+secureId),formController&&"GTM-CHECKBOX"===element.prop("tagName")&&!element.attr("aria-labelledby")&&element.attr("aria-labelledby",
formController.formId+"-label-"+secureId),element.attr("name")||element.attr("name",secureId)),$compile(element)(scope)},terminal:!0}}module$contents$google3$java$com$google$analytics$containertag$ui$common$input$id_directive_secureIdDirective.$inject=["$compile","$parse"];var module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController=function($element,ctuiHotkeyService){this.$element=$element;this.ctuiHotkeyService=ctuiHotkeyService;this.keyCode=191};
module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.prototype.$onInit=function(){var $jscomp$this=this;this.filter="";this.isEnabled=!1;this.searchBox=this.$element.find("input");this.hotkeyCleanupFn=this.ctuiHotkeyService.registerListener(this.keyCode,function(e){$jscomp$this.toggleState(!0);e.preventDefault()},!0);this.searchBox.keyup(function(e){switch(e.which){case 27:$jscomp$this.searchBox.val(""),$jscomp$this.searchBox.blur(),
$jscomp$this.toggleState(),e.stopPropagation()}})};module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.prototype.$onDestroy=function(){this.hotkeyCleanupFn()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.prototype.toggleState=function(newState){this.isEnabled=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isDefined(newState)?newState:!this.isEnabled;this.isEnabled||(this.filter="");this.$element.toggleClass("enabled",this.isEnabled);this.isEnabled&&this.searchBox.focus()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.prototype.toggleState=module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.prototype.toggleState;module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.prototype.$onDestroy=module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.prototype.$onDestroy;
module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.prototype.$onInit;module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController.$inject=["$element","ctuiHotkeyService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component$menuFilterComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component_MenuFilterController,controllerAs:"ctrl",bindings:{filter:"=",isEnabled:"=?",keyCode:"<?"},templateUrl:"/ctui/input/menu_filter_component.html"};function module$contents$google3$java$com$google$analytics$containertag$ui$common$input$zippy_directive_zippyDirective($sce){return{restrict:"E",transclude:!0,scope:{zippyTitle:"@?",zippyTooltipId:"@?",zippyTooltipText:"@?",zippyRichTitle:"@?",zippyRichTooltipText:"<?",isZippyOpen:"="},link:function(scope,el){scope.toggleOpenState=function(){scope.isZippyOpen=!scope.isZippyOpen};scope.zippyRichTooltipText&&(scope.richTooltipText=$sce.getTrustedHtml(scope.zippyRichTooltipText));scope.zippyRichTitle&&
(scope.richTitleText=$sce.getTrustedHtml(scope.zippyRichTitle));scope.isZippyEmpty=function(){var content=el.find("> div > .gtm-zippy-content"),contentHeight=content.height();if(0<contentHeight)for(var nestedZippies=content.find("gtm-zippy").not(content.find("gtm-zippy gtm-zippy")),i=0;i<nestedZippies.length;i++)contentHeight-=$(nestedZippies[i]).outerHeight()+8;return 0>=contentHeight}},templateUrl:"/ctui/input/zippy_directive.html"}}
module$contents$google3$java$com$google$analytics$containertag$ui$common$input$zippy_directive_zippyDirective.$inject=["$sce"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$input$input_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.input",[module$exports$google3$java$com$google$analytics$containertag$ui$common$events$events_module$module.name]).component("ctuiChipInput",module$exports$google3$java$com$google$analytics$containertag$ui$common$input$chip_input_component$chipInputComponent).component("ctuiTextInput",module$exports$google3$java$com$google$analytics$containertag$ui$common$input$text_input_component$textInputComponent).component("ctuiMenuFilter",
module$exports$google3$java$com$google$analytics$containertag$ui$common$input$menu_filter_component$menuFilterComponent).directive("contenteditable",function($timeout){return{restrict:"A",require:"?ngModel",link:function(scope,element,attrs,ngModel){function read(){ngModel.$setViewValue(element.text())}ngModel&&(ngModel.$parsers.push(function(value){return value.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"").replace(module$contents$google3$java$com$google$analytics$containertag$ui$common$input$content_editable_directive_MATCH_TAG,
"")}),ngModel.$render=function(){element.text(ngModel.$viewValue||"")},element.on("paste",function(){$timeout(function(){element.text(element.text().replace(module$contents$google3$java$com$google$analytics$containertag$ui$common$input$content_editable_directive_MATCH_TAG,""))})}),element.on("keydown",function(e){return 13===e.which?(e.preventDefault(),!1):!0}),element.on("blur keyup change",function(){scope.$applyAsync(read)}))}}}).directive("ctuiId",module$contents$google3$java$com$google$analytics$containertag$ui$common$input$id_directive_idDirective).directive("ctuiSecureId",
module$contents$google3$java$com$google$analytics$containertag$ui$common$input$id_directive_secureIdDirective).directive("gtmCheckbox",module$contents$google3$java$com$google$analytics$containertag$ui$common$input$checkbox_directive_checkboxDirective).directive("gtmZippy",module$contents$google3$java$com$google$analytics$containertag$ui$common$input$zippy_directive_zippyDirective).directive("hideIfDefault",function(){return{restrict:"A",scope:{hideIfDefault:"=",instanceParamMap:"=?",paramTemplate:"=?"},
link:function(scope,el){var watchProperty="hideIfDefault";if(scope.paramTemplate){if(9===scope.paramTemplate.type||8===scope.paramTemplate.type||13===scope.paramTemplate.type)watchProperty="hideIfDefault.listItem";scope.$watch("paramTemplate",function(){return el.toggleClass("hide-if-default",module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isDefaultParamValue(scope.hideIfDefault,scope.paramTemplate,scope.instanceParamMap))},!0);
if(scope.paramTemplate.subParam)for(var $jscomp$iter$117=$jscomp$makeIterator(scope.paramTemplate.subParam),$jscomp$key$subParam=$jscomp$iter$117.next();!$jscomp$key$subParam.done;$jscomp$key$subParam=$jscomp$iter$117.next())scope.$watch("instanceParamMap."+$jscomp$key$subParam.value.name+".value",function(){return el.toggleClass("hide-if-default",module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isDefaultParamValue(scope.hideIfDefault,
scope.paramTemplate,scope.instanceParamMap))},!0)}else{var valueProperty=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getWatchPropertyForValue(scope.hideIfDefault);valueProperty&&(watchProperty="hideIfDefault."+valueProperty)}scope.$watch(watchProperty,function(){return el.toggleClass("hide-if-default",module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isDefaultParamValue(scope.hideIfDefault,
scope.paramTemplate,scope.instanceParamMap))},!0)}}}).directive("registerForm",function(){return{require:"form",link:function(scope,el,attrs,formCtrl){var $jscomp$optchain$tmp1682408705$0,$jscomp$optchain$tmp1682408705$2;null==($jscomp$optchain$tmp1682408705$0=el.controller(attrs.registerForm))||null==($jscomp$optchain$tmp1682408705$2=$jscomp$optchain$tmp1682408705$0.setFormController)||$jscomp$optchain$tmp1682408705$2.call($jscomp$optchain$tmp1682408705$0,formCtrl)}}});var goog$uri$utils$appendKeyValuePairs_=function(key,value,pairs){if(Array.isArray(value))for(var j=0;j<value.length;j++)goog$uri$utils$appendKeyValuePairs_(key,String(value[j]),pairs);else null!=value&&pairs.push(key+(""===value?"":"="+encodeURIComponent(String(value))))},goog$uri$utils$buildQueryData=function(keysAndValues,opt_startIndex){for(var params=[],i=opt_startIndex||0;i<keysAndValues.length;i+=2)goog$uri$utils$appendKeyValuePairs_(keysAndValues[i],keysAndValues[i+1],params);return params.join("&")},
goog$uri$utils$appendParams=function(uri$jscomp$0,var_args){var queryData=2==arguments.length?goog$uri$utils$buildQueryData(arguments[1],0):goog$uri$utils$buildQueryData(arguments,1);if(queryData){var uri=uri$jscomp$0,hashIndex=uri.indexOf("#");0>hashIndex&&(hashIndex=uri.length);var questionIndex=uri.indexOf("?");if(0>questionIndex||questionIndex>hashIndex){questionIndex=hashIndex;var queryData$jscomp$0=""}else queryData$jscomp$0=uri.substring(questionIndex+1,hashIndex);var parts=[uri.slice(0,questionIndex),
queryData$jscomp$0,uri.slice(hashIndex)];var queryData$jscomp$1=parts[1];parts[1]=queryData?queryData$jscomp$1?queryData$jscomp$1+"&"+queryData:queryData:queryData$jscomp$1;var JSCompiler_inline_result=parts[0]+(parts[1]?"?"+parts[1]:"")+parts[2]}else JSCompiler_inline_result=uri$jscomp$0;return JSCompiler_inline_result},goog$uri$utils$hashOrEndRe_=/#|$/;var module$contents$google3$java$com$google$analytics$containertag$ui$common$interceptors$multilogin_interceptor_API_PATH_PREFIX_REGEX=/^\/?api/;for(var module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils$OperatorType={REGEX:"REGEX",EQUALS:"EQUALS",STARTS_WITH:"STARTS_WITH",ENDS_WITH:"ENDS_WITH",CONTAINS:"CONTAINS",CSS_SELECTOR:"CSS_SELECTOR",NOT_REGEX:"NOT_REGEX",NOT_EQUALS:"NOT_EQUALS",NOT_STARTS_WITH:"NOT_STARTS_WITH",NOT_ENDS_WITH:"NOT_ENDS_WITH",NOT_CONTAINS:"NOT_CONTAINS",NOT_CSS_SELECTOR:"NOT_CSS_SELECTOR",LESS_THAN:"LESS_THAN",LESS_EQUALS:"LESS_EQUALS",GREATER_THAN:"GREATER_THAN",GREATER_EQUALS:"GREATER_EQUALS",
REGEX_IGNORE_CASE:"REGEX_IGNORE_CASE",NOT_REGEX_IGNORE_CASE:"NOT_REGEX_IGNORE_CASE"},module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_OPERATOR_TO_PREDICATE_TYPE={REGEX:0,EQUALS:1,STARTS_WITH:2,ENDS_WITH:3,CONTAINS:4,CSS_SELECTOR:9,LESS_THAN:5,LESS_EQUALS:6,GREATER_THAN:7,GREATER_EQUALS:8},module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_PREDICATE_TYPE_TO_OPERATOR_TYPE=module$contents$goog$object_transpose(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_OPERATOR_TO_PREDICATE_TYPE),
module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_NEGATED_TYPES={REGEX:"NOT_REGEX",EQUALS:"NOT_EQUALS",STARTS_WITH:"NOT_STARTS_WITH",ENDS_WITH:"NOT_ENDS_WITH",CONTAINS:"NOT_CONTAINS",CSS_SELECTOR:"NOT_CSS_SELECTOR",REGEX_IGNORE_CASE:"NOT_REGEX_IGNORE_CASE"},module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_INVALID_NEGATED_TYPES={LESS_THAN:"GREATER_EQUALS",LESS_EQUALS:"GREATER_THAN",GREATER_THAN:"LESS_EQUALS",GREATER_EQUALS:"LESS_THAN"},
module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_NEGATED_TYPES_TO_TYPE=module$contents$goog$object_transpose(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_NEGATED_TYPES),module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils$NON_NUMERIC_OPERATORS=[{key:"EQUALS",displayName:"equals"},{key:"CONTAINS",displayName:"contains"},{key:"STARTS_WITH",displayName:"starts with"},{key:"ENDS_WITH",
displayName:"ends with"},{key:"CSS_SELECTOR",displayName:"matches CSS selector",webOnly:!0},{key:"REGEX",displayName:"matches RegEx"},{key:"REGEX_IGNORE_CASE",displayName:"matches RegEx (ignore case)"},{key:"NOT_EQUALS",displayName:"does not equal"},{key:"NOT_CONTAINS",displayName:"does not contain"},{key:"NOT_STARTS_WITH",displayName:"does not start with"},{key:"NOT_ENDS_WITH",displayName:"does not end with"},{key:"NOT_CSS_SELECTOR",displayName:"does not match CSS selector",webOnly:!0},{key:"NOT_REGEX",
displayName:"does not match RegEx"},{key:"NOT_REGEX_IGNORE_CASE",displayName:"does not match RegEx (ignore case)"}],module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils$OPERATORS=[].concat($jscomp$arrayFromIterable(module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils$NON_NUMERIC_OPERATORS),$jscomp$arrayFromIterable([{key:"LESS_THAN",displayName:"less than"},{key:"LESS_EQUALS",displayName:"less than or equal to"},{key:"GREATER_THAN",
displayName:"greater than"},{key:"GREATER_EQUALS",displayName:"greater than or equal to"}])),lookupTable$jscomp$inline_523={},$jscomp$inline_524=$jscomp$makeIterator(module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils$OPERATORS),$jscomp$inline_525=$jscomp$inline_524.next();!$jscomp$inline_525.done;$jscomp$inline_525=$jscomp$inline_524.next()){var operator$jscomp$inline_526=$jscomp$inline_525.value;lookupTable$jscomp$inline_523[operator$jscomp$inline_526.key]=
operator$jscomp$inline_526.displayName}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_convertTypeToOperator(predicate){var clientType=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_PREDICATE_TYPE_TO_OPERATOR_TYPE[predicate.type];"REGEX"===clientType&&predicate.regexPredicate&&predicate.regexPredicate.ignoreCase&&(clientType="REGEX_IGNORE_CASE");predicate.negate&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_INVALID_NEGATED_TYPES[clientType]&&(clientType=
module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_INVALID_NEGATED_TYPES[clientType],predicate.negate=!1);predicate.operator=predicate.negate?module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_NEGATED_TYPES[clientType]:module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils$OperatorType[clientType];return predicate};/*

 SPDX-License-Identifier: Apache-2.0
*/
function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$route_utils_interpolateParameters(route,parameters){for(var result=[],tokens=route.split(":"),i=0;i<tokens.length;i++)if(0===i)result.push(tokens[i]);else{var segmentMatch=tokens[i].match(/(\w+)(.*)/);a:{var obj=parameters,key=segmentMatch[1];if(obj.hasOwnProperty(key)){var val=obj[key];if("undefined"!==typeof val){var JSCompiler_inline_result=String(val);break a}}JSCompiler_inline_result=void 0}var val$jscomp$0=
JSCompiler_inline_result;void 0!==val$jscomp$0&&result.push(val$jscomp$0);result.push(segmentMatch[2]||"")}return result.join("")}function module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$route_utils_getParametersFromRouteString(route){for(var result=[],regExp=/(?::)(\w+)/g,execResult;null!==(execResult=regExp.exec(route));)result.push(execResult[1]);return result};var $jscomp$compprop89={},module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper_CONTEXT_MSG_MAPPING=($jscomp$compprop89[5]="AMP",$jscomp$compprop89[0]="Web",$jscomp$compprop89[2]="iOS (legacy)",$jscomp$compprop89[4]="iOS",$jscomp$compprop89[1]="Android (legacy)",$jscomp$compprop89[3]="Android",$jscomp$compprop89[7]="Server",$jscomp$compprop89[8]="Google Analytics for Firebase",$jscomp$compprop89[9]="Google Analytics for Firebase Android",$jscomp$compprop89[10]=
"Google Analytics for Firebase iOS",$jscomp$compprop89),module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper=function(usageContext){usageContext=usageContext||[];usageContext.length||usageContext.push(0);this.usageContext=new Set(usageContext);(this.supportWeb()||this.supportAmp()||this.supportCloud())&&this.resetMobileContexts()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportWeb=function(){return this.usageContext.has(0)};module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportAmp=function(){return this.usageContext.has(5)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportLegacyAndroid=function(){return this.usageContext.has(1)};module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportAndroidSdk5=function(){return this.usageContext.has(3)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportAndroid=function(){return this.supportLegacyAndroid()||this.supportAndroidSdk5()};module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportLegacyIos=function(){return this.usageContext.has(2)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportIosSdk5=function(){return this.usageContext.has(4)};module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportIos=function(){return this.supportLegacyIos()||this.supportIosSdk5()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportLegacyMobile=function(){return this.supportLegacyAndroid()||this.supportLegacyIos()};module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportMobileSdk5=function(){return this.supportAndroidSdk5()||this.supportIosSdk5()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportMobile=function(){return this.supportLegacyMobile()||this.supportMobileSdk5()};module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.supportCloud=function(){return this.usageContext.has(7)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.hasCommonContext=function(usageContext){var $jscomp$this=this;return 0===usageContext.length?!1:usageContext.some(function(context){return $jscomp$this.usageContext.has(context)})};module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.getUsageContext=function(){return Array.from(this.usageContext)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.getContainerType=function(){if(2<=this.usageContext.size)return this.supportLegacyAndroid()&&this.supportLegacyIos()?"Mobile (legacy)":"Unknown";var context=[].concat($jscomp$arrayFromIterable(this.usageContext))[0];return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper_CONTEXT_MSG_MAPPING[context]||"Unknown"};
module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper.prototype.resetMobileContexts=function(){var oldContext=this.usageContext;this.usageContext=new Set;oldContext.has(0)&&this.usageContext.add(0);oldContext.has(5)&&this.usageContext.add(5);oldContext.has(7)&&this.usageContext.add(7)};var module$contents$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory_TO_MODEL_KEY_NO_COLLECTION=function(){return"."},module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayerProvider=function(){this.cacheSerial=1};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayerProvider.prototype.$get=function($http,$log,$q,$cacheFactory){var $jscomp$this=this;return function(configuration){return new module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer($http,$log,$q,configuration,$cacheFactory("model_layer_model_"+$jscomp$this.cacheSerial++),$cacheFactory("model_layer_collection_"+$jscomp$this.cacheSerial++))}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayerProvider.prototype.$get.$inject=["$http","$log","$q","$cacheFactory"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer=function($http,$log,$q,configuration,modelCache,collectionCache){var $jscomp$this=this;this.$http=$http;this.$log=$log;this.$q=$q;this.modelCache=modelCache;this.collectionCache=collectionCache;this.viewCache={};this.notifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.transactionInProgress=!1;this.configuration=module$exports$google3$third_party$javascript$typings$angular$index.extend({resultKey:"default",
modelToModelKey:function(model){return model.key},toServer:function(obj){return $jscomp$this.$q.when(obj)},toClient:function(obj){return obj},isDeleted:function(obj){return 2===module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(obj,"containerDraftMetadata.changeStatus",0)}},configuration);"collectionUrl"in this.configuration||(this.configuration.modelToModelKey=module$contents$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory_TO_MODEL_KEY_NO_COLLECTION);
this.getModelHash=this.buildHashFunctionFromUrl(this.configuration.modelUrl);this.getCollectionHash=this.buildHashFunctionFromUrl(this.configuration.collectionUrl);this.getModelUrl=goog$partial(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$route_utils_interpolateParameters,this.configuration.modelUrl);this.getCollectionUrl=goog$partial(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$route_utils_interpolateParameters,this.configuration.collectionUrl)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.buildHashFunctionFromUrl=function(url){var $jscomp$this=this,modelParameters=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$route_utils_getParametersFromRouteString(url);return function(key){key||$jscomp$this.$log.error(Error("Attempting to create a hash from a null key: "+url));for(var result=[],i=0;i<modelParameters.length;i++)result.push(key[modelParameters[i]]);
return result.join(":")}};module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.populateCollectionCache=function(objectList,options){if(0===objectList.length)return this.$q.when();var collectionKey=this.configuration.modelToModelKey(objectList[0]);return this.populateCollectionCacheInternal(collectionKey,objectList,options)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.populateCollectionCacheInternal=function(collectionKey,objectList,optionsParam){var $jscomp$this=this,options=module$exports$google3$third_party$javascript$typings$angular$index.isObject(optionsParam)?optionsParam:{forceRefresh:!!optionsParam},collectionHash=this.getCollectionHash(collectionKey),collectionCacheEntry=this.collectionCache.get(collectionHash);collectionCacheEntry||
(collectionCacheEntry={},this.collectionCache.put(collectionHash,collectionCacheEntry));collectionCacheEntry.collection||(collectionCacheEntry.collection=[]);module$contents$goog$array_clear(collectionCacheEntry.collection);collectionCacheEntry.collection.push.apply(collectionCacheEntry.collection,objectList);collectionCacheEntry.timestamp=this.getTime();options.whitelist&&(collectionCacheEntry.whitelist=Array.isArray(options.whitelist)?options.whitelist:[options.whitelist]);options.blacklist&&(collectionCacheEntry.blacklist=
Array.isArray(options.blacklist)?options.blacklist:[options.blacklist]);this.rebuildViews(collectionKey);return this.$q.all(collectionCacheEntry.collection.map(function(model$jscomp$0){return $jscomp$this.$q.when($jscomp$this.configuration.toClient(model$jscomp$0)).then(function(model){$jscomp$this.configuration.listItemEqualsFullItem&&$jscomp$this.updateModelCache(model,collectionCacheEntry)})}))};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.addUpdateListener=function(listener){return this.notifier.addListener(listener)};module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.getUpdateNotifier=function(){return this.notifier.getScopedNotifier()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.fireOnUpdate=function(modelKey){this.notifier.fire(modelKey)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.getList=function(collectionKey,optionsParam){var $jscomp$this=this,options=module$exports$google3$third_party$javascript$typings$angular$index.isObject(optionsParam)?optionsParam:{forceRefresh:!!optionsParam},collectionHash=this.getCollectionHash(collectionKey),collectionCacheEntry=this.collectionCache.get(collectionHash);options.whitelist&&!Array.isArray(options.whitelist)&&
(options.whitelist=[options.whitelist]);options.blacklist&&!Array.isArray(options.blacklist)&&(options.blacklist=[options.blacklist]);if(collectionCacheEntry){if(collectionCacheEntry.promise)return options.forceRefresh&&(collectionCacheEntry.refreshAgain=!0),collectionCacheEntry.promise;if(this.isCacheEntryValid(collectionCacheEntry,options))return this.$q.when(collectionCacheEntry.collection)}else collectionCacheEntry={collection:[],cancelPromise:!1,refreshAgain:!1},this.collectionCache.put(collectionHash,
collectionCacheEntry);var queryParams=this.getWhitelistParamStr(options,this.configuration.collectionResultProperty+"."),promise=this.$http.get(this.getCollectionUrl(collectionKey)+queryParams).then(function(response){var result=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(response.data,$jscomp$this.configuration.resultKey);result&&!collectionCacheEntry.cancelPromise&&$jscomp$this.populateCollectionCacheInternal(collectionKey,result[$jscomp$this.configuration.collectionResultProperty],
options)}).then(function(){if(collectionCacheEntry.refreshAgain)return $jscomp$this.cleanupPromise(collectionCacheEntry),$jscomp$this.getList(collectionKey,module$exports$google3$third_party$javascript$typings$angular$index.extend(options,{forceRefresh:!0}));$jscomp$this.cleanupPromise(collectionCacheEntry);return collectionCacheEntry.collection}).catch(function(err){collectionCacheEntry.timestamp=-1;$jscomp$this.cleanupPromise(collectionCacheEntry);return $jscomp$this.$q.reject(err)});return collectionCacheEntry.promise=
promise};module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.getView=function(collectionKey,viewName,options){var $jscomp$this=this;return this.getList(collectionKey,options).then(function(){var collectionHash=$jscomp$this.getCollectionHash(collectionKey);return($jscomp$this.viewCache[collectionHash]||{})[viewName]||[]})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.get=function(modelKey,optionsParam){var $jscomp$this=this,options=module$exports$google3$third_party$javascript$typings$angular$index.isObject(optionsParam)?optionsParam:{forceRefresh:!!optionsParam},modelHash=this.getModelHash(modelKey),modelCacheEntry=this.modelCache.get(modelHash);options.whitelist&&!Array.isArray(options.whitelist)&&(options.whitelist=[options.whitelist]);
options.blacklist&&!Array.isArray(options.blacklist)&&(options.blacklist=[options.blacklist]);if(modelCacheEntry){if(modelCacheEntry.promise)return options.forceRefresh&&(modelCacheEntry.refreshAgain=!0),modelCacheEntry.promise;if(this.isCacheEntryValid(modelCacheEntry,options))return this.$q.when(modelCacheEntry.model)}if(this.configuration.listItemEqualsFullItem){var collectionHash=this.getCollectionHash(modelKey),collectionCacheEntry=this.collectionCache.get(collectionHash);if(null==collectionCacheEntry?
0:collectionCacheEntry.promise)return collectionCacheEntry.promise.then(function(){return $jscomp$this.get(modelKey,options)}).catch(function(){return $jscomp$this.get(modelKey,options)})}var queryParams=this.getWhitelistParamStr(options);modelCacheEntry||(modelCacheEntry={model:{},cancelPromise:!1,refreshAgain:!1},this.modelCache.put(modelHash,modelCacheEntry));var promise=this.$http.get(this.getModelUrl(modelKey)+queryParams).then(function(result){return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(result.data,
$jscomp$this.configuration.resultKey)}).then(function(model){return $jscomp$this.configuration.toClient(model)}).then(function(model){if(!modelCacheEntry.cancelPromise&&module$exports$google3$third_party$javascript$typings$angular$index.isObject(model)&&$jscomp$this.configuration.modelToModelKey(model)){if(options.whitelist)for(var i=0;i<options.whitelist.length;i++){var dstObj=modelCacheEntry.model,keys=options.whitelist[i],srcValue=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(model,
keys);srcValue?module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_set(dstObj,keys,JSON.parse(JSON.stringify(srcValue))):module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_set(dstObj,keys,srcValue)}else module$exports$google3$third_party$javascript$typings$angular$index.copy(model,modelCacheEntry.model);modelCacheEntry.timestamp=$jscomp$this.getTime();modelCacheEntry.whitelist=options.whitelist;modelCacheEntry.blacklist=
options.blacklist;$jscomp$this.addToCollectionCache(model)}if(modelCacheEntry.refreshAgain)return $jscomp$this.cleanupPromise(modelCacheEntry),$jscomp$this.get(modelKey,module$exports$google3$third_party$javascript$typings$angular$index.extend(options,{forceRefresh:!0}));$jscomp$this.cleanupPromise(modelCacheEntry);return modelCacheEntry.model}).catch(function(err){modelCacheEntry.timestamp=-1;$jscomp$this.cleanupPromise(modelCacheEntry);return $jscomp$this.$q.reject(err)});return modelCacheEntry.promise=
promise};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.updateModelCache=function(model,collectionCacheEntry,override){var modelKey=this.configuration.modelToModelKey(model),modelHash=this.getModelHash(modelKey),modelCacheEntry=this.modelCache.get(modelHash),$jscomp$optchain$tmpm2073838136$1;if(null==($jscomp$optchain$tmpm2073838136$1=modelCacheEntry)?0:$jscomp$optchain$tmpm2073838136$1.promise)return override&&(module$exports$google3$third_party$javascript$typings$angular$index.copy(model,modelCacheEntry.model),
modelCacheEntry.cancelPromise=!0),modelCacheEntry.model;modelCacheEntry||(modelCacheEntry={model:{},cancelPromise:!1,refreshAgain:!1},this.modelCache.put(modelHash,modelCacheEntry));module$exports$google3$third_party$javascript$typings$angular$index.copy(model,modelCacheEntry.model);module$exports$google3$third_party$javascript$typings$angular$index.isObject(collectionCacheEntry)?(modelCacheEntry.whitelist=collectionCacheEntry.whitelist,modelCacheEntry.blacklist=collectionCacheEntry.blacklist,modelCacheEntry.timestamp=
collectionCacheEntry.timestamp||this.getTime()):modelCacheEntry.timestamp=this.getTime();return modelCacheEntry.model};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.create=function(collectionKey,model$jscomp$0){var $jscomp$this=this;if(this.transactionInProgress)return this.$q.reject("Transaction in progress");this.transactionInProgress=!0;return this.$q.when(this.configuration.toServer(model$jscomp$0)).then(function(model){return $jscomp$this.$http.post($jscomp$this.getCollectionUrl(collectionKey),model)}).then(function(result){return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(result.data,
$jscomp$this.configuration.resultKey)}).then(function(model){return $jscomp$this.configuration.toClient(model)}).then(function(model){var cached=$jscomp$this.updateModelCache(model,null,!0);$jscomp$this.addToCollectionCache(cached,!0);$jscomp$this.fireOnUpdate($jscomp$this.configuration.modelToModelKey(model));return cached}).finally(function(){$jscomp$this.transactionInProgress=!1})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.update=function(model$jscomp$0){var $jscomp$this=this;if(this.transactionInProgress)return this.$q.reject("Transaction in progress");this.transactionInProgress=!0;var modelKey=this.configuration.modelToModelKey(model$jscomp$0);return this.$q.when(this.configuration.toServer(model$jscomp$0)).then(function(model){return $jscomp$this.$http.put($jscomp$this.getModelUrl(modelKey),
model)}).then(function(result){return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(result.data,$jscomp$this.configuration.resultKey)}).then(function(model){return $jscomp$this.configuration.toClient(model)}).then(function(model){var cached=$jscomp$this.updateModelCache(model,null,!0);$jscomp$this.addToCollectionCache(cached,!0);$jscomp$this.fireOnUpdate($jscomp$this.configuration.modelToModelKey(model));return cached}).finally(function(){$jscomp$this.transactionInProgress=
!1})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.addToCollectionCache=function(model,isMutation){var $jscomp$this=this,modelKey=this.configuration.modelToModelKey(model),collectionHash=this.getCollectionHash(modelKey),collectionCacheEntry=this.collectionCache.get(collectionHash);if(collectionCacheEntry){collectionCacheEntry.collection||(collectionCacheEntry.collection=[]);var isModelCached=function(modelHash){for(var i=0;i<
collectionCacheEntry.collection.length;i++){var collectionEntry=collectionCacheEntry.collection[i];if(collectionEntry&&$jscomp$this.getModelHash($jscomp$this.configuration.modelToModelKey(collectionEntry))===modelHash)return!0}return!1},insertModelInCollection=function(){for(var modelHash=$jscomp$this.getModelHash(modelKey),i=0;i<collectionCacheEntry.collection.length;i++){var currentCollection=collectionCacheEntry.collection[i];if(currentCollection&&$jscomp$this.getModelHash($jscomp$this.configuration.modelToModelKey(currentCollection))===
modelHash){model!==currentCollection&&module$exports$google3$third_party$javascript$typings$angular$index.copy(model,currentCollection);$jscomp$this.rebuildViews(modelKey);return}}collectionCacheEntry.collection.push(model);$jscomp$this.rebuildViews(modelKey)};collectionCacheEntry&&(this.configuration.isDeleted(model)||(this.configuration.listItemEqualsFullItem?collectionCacheEntry.promise?collectionCacheEntry.promise.finally(insertModelInCollection):insertModelInCollection():(isMutation||!isModelCached(this.getModelHash(modelKey)))&&
this.getList(modelKey,{forceRefresh:!0})))}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.delete=function(modelKey){var $jscomp$this=this;if(this.transactionInProgress)return this.$q.reject("Transaction in progress");this.transactionInProgress=!0;var modelHash=this.getModelHash(modelKey);return this.$http.delete(this.getModelUrl(modelKey)).then(function(result){var modelCacheEntry=$jscomp$this.modelCache.get(modelHash);(null==modelCacheEntry?0:modelCacheEntry.promise)?
modelCacheEntry.promise.finally(function(){$jscomp$this.modelCache.remove(modelHash)}):$jscomp$this.modelCache.remove(modelHash);$jscomp$this.removeFromCollectionCache(modelKey);$jscomp$this.fireOnUpdate(modelKey);return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(result.data,$jscomp$this.configuration.resultKey)}).finally(function(){$jscomp$this.transactionInProgress=!1})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.removeFromCollectionCache=function(modelKey){var $jscomp$this=this,removeFn=function(collection,modelHash){for(var i=0;i<collection.length;i++)if($jscomp$this.getModelHash($jscomp$this.configuration.modelToModelKey(collection[i]))===modelHash){collection.splice(i,1);break}$jscomp$this.rebuildViews(modelKey)},collectionHash=this.getCollectionHash(modelKey),collectionCacheEntry=
this.collectionCache.get(collectionHash);if(collectionCacheEntry){var modelHash$jscomp$0=this.getModelHash(modelKey);collectionCacheEntry.promise?collectionCacheEntry.promise.finally(function(){removeFn(collectionCacheEntry.collection||[],modelHash$jscomp$0)}):removeFn(collectionCacheEntry.collection||[],modelHash$jscomp$0)}};module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.getTime=function(){return(new Date).getTime()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.cleanupPromise=function(cacheEntry){cacheEntry.promise=void 0;cacheEntry.cancelPromise=!1;cacheEntry.refreshAgain=!1};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.invalidateCollectionCache=function(collectionKey,forceInvalidateModels){var collectionHash=this.getCollectionHash(collectionKey),collectionCacheEntry=this.collectionCache.get(collectionHash);if(collectionCacheEntry&&(collectionCacheEntry.timestamp=-1,this.configuration.listItemEqualsFullItem||forceInvalidateModels))for(var $jscomp$iter$127=$jscomp$makeIterator(collectionCacheEntry.collection||
[]),$jscomp$key$model=$jscomp$iter$127.next();!$jscomp$key$model.done;$jscomp$key$model=$jscomp$iter$127.next()){var modelKey=this.configuration.modelToModelKey($jscomp$key$model.value);this.invalidateModelCache(modelKey)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.invalidateModelCache=function(modelKey){var modelHash=this.getModelHash(modelKey),modelCacheEntry=this.modelCache.get(modelHash);modelCacheEntry&&(modelCacheEntry.timestamp=-1)};module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.clearModelCache=function(){this.modelCache.removeAll()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.clearCollectionCache=function(){this.collectionCache.removeAll()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.rebuildViews=function(collectionKey){var viewDefs=this.configuration.views;if(viewDefs&&viewDefs.length){var collectionHash=this.getCollectionHash(collectionKey),collectionCacheEntry=this.collectionCache.get(collectionHash),collectionViews=this.viewCache[collectionHash];collectionViews||(collectionViews={},this.viewCache[collectionHash]=collectionViews);for(var v=0;v<viewDefs.length;v++){var viewName=
viewDefs[v].name,filter=viewDefs[v].filter;Array.isArray(collectionViews[viewName])?module$contents$goog$array_clear(collectionViews[viewName]):collectionViews[viewName]=[];var $jscomp$optchain$tmpm2073838136$3=void 0;if(null==($jscomp$optchain$tmpm2073838136$3=collectionCacheEntry)?0:$jscomp$optchain$tmpm2073838136$3.collection){for(var i=0;i<collectionCacheEntry.collection.length;i++){var entry=collectionCacheEntry.collection[i];filter(entry)&&collectionViews[viewName].push(entry)}viewDefs[v].sort&&
collectionViews[viewName].sort(viewDefs[v].sort)}}}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.getWhitelistParamStr=function(options,prefix){if(!options||!options.whitelist&&!options.blacklist)return"";var queryParams="?";if(options.whitelist){Array.isArray(options.whitelist)||(options.whitelist=[options.whitelist]);var requiredFields=this.configuration.requiredFields;if(Array.isArray(requiredFields))for(var i=0;i<requiredFields.length;i++)options.whitelist.push(requiredFields[i]);else module$exports$google3$third_party$javascript$typings$angular$index.isString(requiredFields)&&
options.whitelist.push(requiredFields);var whitelist=options.whitelist;if(prefix){whitelist=module$exports$google3$third_party$javascript$typings$angular$index.copy(options.whitelist);for(var i$228=0;i$228<whitelist.length;i$228++)whitelist[i$228]=prefix+whitelist[i$228]}queryParams+="whitelist="+encodeURIComponent(whitelist.join(","));options.blacklist&&(queryParams+="&")}if(options.blacklist){Array.isArray(options.blacklist)||(options.blacklist=[options.blacklist]);var blacklist=options.blacklist;
if(prefix){blacklist=module$exports$google3$third_party$javascript$typings$angular$index.copy(options.blacklist);for(var i$229=0;i$229<blacklist.length;i$229++)blacklist[i$229]=prefix+blacklist[i$229]}queryParams+="blacklist="+encodeURIComponent(blacklist.join(","))}return queryParams};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.isCacheEntryValid=function(cacheEntry,options){options=options||{};if(!module$exports$google3$third_party$javascript$typings$angular$index.isObject(cacheEntry)||null!=cacheEntry.timestamp&&0>cacheEntry.timestamp||options.forceRefresh||!this.configuration.allowEmptyLists&&module$contents$goog$object_isEmpty(cacheEntry.model||cacheEntry.collection||null))return!1;var now=this.getTime();
if(this.configuration.cacheTtlMs&&(cacheEntry.timestamp||0)+this.configuration.cacheTtlMs<now)return!1;options.whitelist&&!Array.isArray(options.whitelist)&&(options.whitelist=[options.whitelist]);options.blacklist&&!Array.isArray(options.blacklist)&&(options.blacklist=[options.blacklist]);return!this.isWhitelistSatisfied(cacheEntry.whitelist,options.whitelist)||this.isBlacklistTooRestrictive(cacheEntry.blacklist,options.whitelist,options.blacklist)?!1:!0};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.isWhitelistSatisfied=function(cachedWhitelist,requestWhitelist){if(!Array.isArray(cachedWhitelist))return!0;if(!Array.isArray(requestWhitelist))return!1;for(var i=0;i<requestWhitelist.length;i++){for(var requestedField=requestWhitelist[i],isFieldCached=!1,j=0;j<cachedWhitelist.length;j++){var cachedField=cachedWhitelist[j];if(requestedField===cachedField||0===requestedField.indexOf(cachedField+
".")){isFieldCached=!0;break}}if(!isFieldCached)return!1}return!0};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.isBlacklistTooRestrictive=function(cachedBlacklist,requestWhitelist,requestBlacklist){if(!Array.isArray(cachedBlacklist))return!1;if(!Array.isArray(requestWhitelist))return Array.isArray(requestBlacklist)?!this.isWhitelistSatisfied(requestBlacklist,cachedBlacklist):!0;for(var i=0;i<requestWhitelist.length;i++)for(var requestedField=requestWhitelist[i],j=0;j<cachedBlacklist.length;j++){var blockedField=
cachedBlacklist[j];if(requestedField===blockedField||0===blockedField.indexOf(requestedField+".")||0===requestedField.indexOf(blockedField+"."))return!0}return!1};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.getCachedOrNull=function(modelKey){var modelHash=this.getModelHash(modelKey),modelCacheEntry=this.modelCache.get(modelHash);if(!modelCacheEntry||modelCacheEntry.promise)return null;var $jscomp$nullish$tmp45;return null!=($jscomp$nullish$tmp45=modelCacheEntry.model)?$jscomp$nullish$tmp45:null};
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.clearCollectionCache=module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.clearCollectionCache;module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.clearModelCache=module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.prototype.clearModelCache;
module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayer.$inject="$http $log $q configuration modelCache collectionCache".split(" ");var module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer$module=module$exports$google3$third_party$javascript$typings$angular$index.module("gtm.components.modellayer",[]).provider("modelLayer",module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer_factory$ModelLayerProvider);var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$integration$ogt_integration_types$OgtHostApp={UNKNOWN:"UNKNOWN",DEVELOPMENT:"DEVELOPMENT",GAFE:"GAFE",ADS_AWN:"ADS_AWN"},module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$integration$ogt_integration_types$EmbeddedPageType={ADS_AWN_ROOT:1,ACTIVITY_ID:2,OGT_SNIPPET:3,GAFE_EM_ROOT:4,GTE_ROOT:5,1:"ADS_AWN_ROOT",2:"ACTIVITY_ID",3:"OGT_SNIPPET",4:"GAFE_EM_ROOT",5:"GTE_ROOT"};var module$contents$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet_generateSnippet=function(measurementId,hostApp){var productComment="";"GAFE"===hostApp?productComment=" - Google Analytics":"ADS_AWN"===hostApp&&(productComment=" - Google Ads");return"\x3c!-- Global site tag (gtag.js)"+productComment+' --\x3e\n<script async src="https://www.googletagmanager.com/gtag/js?id='+measurementId+"\">\x3c/script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', '"+
measurementId+"');\n\x3c/script>"},module$contents$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet_OgtSnippetController=function(){};
module$contents$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet_OgtSnippetController.prototype.$onChanges=function(changes){if(!changes.tagId||changes.tagId.currentValue)this.cachedSnippet=module$contents$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet_generateSnippet(this.tagId,this.hostApp)};
$jscomp$global.Object.defineProperties(module$contents$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet_OgtSnippetController.prototype,{snippet:{configurable:!0,enumerable:!0,get:function(){!this.cachedSnippet&&this.tagId&&(this.cachedSnippet=module$contents$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet_generateSnippet(this.tagId,this.hostApp));return this.cachedSnippet}}});
var module$exports$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet$ogtSnippetComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet_OgtSnippetController,controllerAs:"ctrl",bindings:{tagId:"<?",hostApp:"<?",isTextarea:"<?"},templateUrl:"/ctui/ogtsnippet/ogt_snippet.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.ogtsnippet",[]).component("ogtSnippet",module$exports$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet$ogtSnippetComponent);var module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService=function($mdPanel){this.$mdPanel=$mdPanel;this.panelGroup=this.$mdPanel.newPanelGroup("ctuiPanels",{maxOpen:1});this.registerGlobalEvents()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.createMdPanel=function(config){var $jscomp$this=this,extendedConfig=Object.assign({},{zIndex:90},config);extendedConfig.groupName=["ctuiPanels"];extendedConfig.onOpenComplete=function(){$jscomp$this.collapseAllPanels();var $jscomp$optchain$tmpm1245917378$1;null==($jscomp$optchain$tmpm1245917378$1=config.onOpenComplete)||$jscomp$optchain$tmpm1245917378$1.call(config)};config.groupName&&
(Array.isArray(config.groupName)?extendedConfig.groupName=[].concat($jscomp$arrayFromIterable(extendedConfig.groupName),$jscomp$arrayFromIterable(config.groupName)):extendedConfig.groupName.push(config.groupName));return this.$mdPanel.create(extendedConfig)};module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.destroyMdPanel=function(panelRef){panelRef.removeAllInterceptors();panelRef.close().then(function(){return panelRef.destroy()})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.collapseAllPanels=function(){for(var $jscomp$iter$128=$jscomp$makeIterator(this.panelGroup.openPanels),$jscomp$key$panel=$jscomp$iter$128.next();!$jscomp$key$panel.done;$jscomp$key$panel=$jscomp$iter$128.next())$jscomp$key$panel.value.hide();this.collapseRegisteredPanels()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.registerPanel=function(parentElement,selector){var popUpPanel=module$exports$google3$third_party$javascript$typings$angular$index.isString(selector)?$(parentElement).find(selector):selector;popUpPanel.addClass("ctui-managed-popup-panel");parentElement.addClass("ctui-managed-element");parentElement.data({popUpPanel:popUpPanel})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.isPanelExpanded=function(element){return element.hasClass("ctui-managed-element--visible")};
module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.togglePanel=function(element,shouldShowPopUp){module$exports$google3$third_party$javascript$typings$angular$index.isUndefined(shouldShowPopUp)&&(shouldShowPopUp=!this.isPanelExpanded(element));shouldShowPopUp?this.expandPanel(element):this.collapsePanel(element)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.registerGlobalEvents=function(){var $jscomp$this=this;module$exports$google3$third_party$javascript$typings$angular$index.element(document.body).on("mousedown",function(event){0<$(event.target).closest(".ctui-managed-element, .ctui-managed-popup-panel").length||$jscomp$this.collapseRegisteredPanels()})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.collapseRegisteredPanels=function(){for(var managedPanels=$(".ctui-managed-element--visible"),i=0;i<managedPanels.length;i++){var panel=managedPanels.get(i);this.collapsePanel($(panel))}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.collapsePanel=function(element){element.removeClass("ctui-managed-element--visible");element.data("popUpPanel").hide()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.prototype.expandPanel=function(element){element.hasClass("disabled")||element.attr("disabled")||(this.collapseAllPanels(),element.addClass("ctui-managed-element--visible"),element.data("popUpPanel").show())};module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService.$inject=["$mdPanel"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.panel",[]).service("panelService",module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel_service$PanelService);function module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(value){return module$exports$google3$third_party$javascript$typings$angular$index.isString(value)?module$exports$google3$third_party$javascript$typings$angular$index.element(document.querySelectorAll(value)):module$exports$google3$third_party$javascript$typings$angular$index.element(value)}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_newDiv(){return module$exports$google3$third_party$javascript$typings$angular$index.element(document.createElement("div"))}
var module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService=function($rootScope,$window,$q,$http,$compile,$timeout,$templateCache,ctuiHotkeyService,gtmBackgroundClickService,config$jscomp$0){var $jscomp$this=this;this.$rootScope=$rootScope;this.$q=$q;this.$http=$http;this.$compile=$compile;this.$timeout=$timeout;this.$templateCache=$templateCache;this.ctuiHotkeyService=ctuiHotkeyService;this.gtmBackgroundClickService=gtmBackgroundClickService;this.deck=
[];this.closeListeners=[];this.sheetClosingNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.sheetOpeningNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.lastSheetClosingNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.lastSheetClosedNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;
this.dataLayerService=config$jscomp$0.dataLayerService;this.populateScope=config$jscomp$0.populateScope||function(){};this.contextManager=config$jscomp$0.contextManager;this.onSheetAdded=config$jscomp$0.onSheetAdded;this.onSheetRemoved=config$jscomp$0.onSheetRemoved;this.errorHandler=config$jscomp$0.errorHandler||function(){};this.closeAllPanels=config$jscomp$0.closeAllPanels||function(){};this.display=_.debounce(function(config){return $jscomp$this.closePanels().then(function(){return $jscomp$this.renderNewSheet(config)})},
300,!0);this.initialize();module$exports$google3$third_party$javascript$typings$angular$index.element($window).bind("resize",function(){$jscomp$this.updateSheetWidth()});module$exports$google3$third_party$javascript$typings$angular$index.element(document).on("keyup",function(e){27===e.which&&$jscomp$this.isVisible()&&$jscomp$this.reject()});config$jscomp$0.handleBackButton&&$rootScope.$on("$locationChangeStart",function(event){$jscomp$this.isVisible()&&($jscomp$this.reject(),event.preventDefault())})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.initialize=function(){if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(".gtm-sheet-holder").length){var holder=module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_newDiv().addClass("gtm-sheet-holder").addClass("wd-sheet-holder");document.body.appendChild(holder[0]);this.addSheetMarkup()}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.cleanUp=function(){module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(".gtm-sheet-holder").remove()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.addSheetMarkup=function(){var $jscomp$this=this,sheet=module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_newDiv().addClass("gtm-sheet");sheet.css({transform:"translate(100vw, 0px)"});var overlay=module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_newDiv().addClass("gtm-sheet-overlay");overlay.on("click",
_.debounce(function(){$jscomp$this.reject()},300,!0));module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(".gtm-sheet-holder").append(overlay,sheet)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.displayAll=function(configs){var $jscomp$this=this;return this.closePanels().then(function(){var promises=configs.map(function(config,index){var depth=configs.length-(index+1);return 0<depth&&!config.templateUrl?$jscomp$this.renderDeferredSheet(config,depth):$jscomp$this.renderNewSheet(config)});return $jscomp$this.$q.all(promises)})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.renderDeferredSheet=function(deferredConfig,depth){var config=Object.assign({},deferredConfig);config.template='\n      <deferred-sheet\n          data-depth="'+depth+'"\n          data-deferred-config="deferredConfig"\n          data-sheet_service="sheetService">\n      </deferred-sheet>';config.context={deferredConfig:deferredConfig,sheetService:this};return this.renderNewSheet(config)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.closePanels=function(){this.closeAllPanels();return this.$timeout(function(){},0)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.renderNewSheet=function(config){var $jscomp$this=this,appContext=config.appContext,newScope=this.createSheetScope(config.context||{}),deferred=this.$q.defer(),sheet={appContext:appContext,deferred:deferred,maxWidth:config.maxWidth,openAsRoute:config.openAsRoute,onClose:config.onClose,scope:newScope,tabStops:[],useFullWidth:config.useFullWidth};appContext&&this.contextManager&&this.contextManager.push(appContext);
this.deck.push(sheet);this.gtmBackgroundClickService.push();this.ctuiHotkeyService.push();module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(document.body).addClass("gtm-disable-scroll");document.activeElement.blur();this.prepareAndRenderSheet(sheet,config).finally(function(){if($jscomp$this.onSheetAdded)$jscomp$this.onSheetAdded(sheet);$jscomp$this.sheetOpeningNotifier.fire()});this.addSheetMarkup();this.updateSheetWidth();config.trackView&&this.updateSheetView(config.trackView);
return deferred.promise};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.prepareAndRenderSheet=function(sheet,config){var $jscomp$this=this,lastSheetElement=module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(".gtm-sheet").last();lastSheetElement.html('<div class="gtm-sheet-loading"></div>');return this.prepareSheetContent(config).then(function(contentElement){sheet.innerElement=$jscomp$this.$compile(contentElement)(sheet.scope);lastSheetElement.html(sheet.innerElement);
$jscomp$this.addTabStops(sheet)})};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.prepareSheetContent=function(config){return config.template?this.$q.resolve(config.template):this.$http.get(config.templateUrl,{cache:this.$templateCache}).then(function(result){return result.data})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.createSheetScope=function(context){var $jscomp$this=this;if(module$exports$google3$third_party$javascript$typings$angular$index.isFunction(context.$new))var newScope=context.$new();else newScope=this.$rootScope.$new(),module$exports$google3$third_party$javascript$typings$angular$index.extend(newScope,context);newScope.resolve||(newScope.resolve=function(result){return $jscomp$this.resolve(result)});
newScope.reject||(newScope.reject=function(result){return $jscomp$this.reject(result)});return newScope};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.getTopSheet=function(){return 0===this.deck.length?null:this.deck[this.deck.length-1]};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.getTopSheetElement=function(){return 0===this.deck.length?null:this.deck[this.deck.length-1].innerElement||null};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.isOpenAsRoute=function(){return 0===this.deck.length?!1:this.deck[this.deck.length-1].openAsRoute};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.getSheetCount=function(){return this.deck.length};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.removeTopSheet=function(){var $jscomp$this=this;if(0===this.deck.length)return null;var sheet=this.deck.pop();sheet.appContext&&this.contextManager&&this.contextManager.pop();this.sheetClosingNotifier.fire();var $jscomp$optchain$tmpm299996920$1;null==($jscomp$optchain$tmpm299996920$1=this.onSheetRemoved)||$jscomp$optchain$tmpm299996920$1.call(this);0===this.deck.length&&this.lastSheetClosingNotifier.fire();
this.$timeout(this.gtmBackgroundClickService.pop.bind(this.gtmBackgroundClickService));this.ctuiHotkeyService.pop();this.cleanupTabStops(sheet);this.cleanupCloseListeners();module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(".gtm-sheet-overlay").last().remove();module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(".gtm-sheet").last().remove();this.updateSheetWidth();this.$timeout(function(){0===$jscomp$this.deck.length&&
module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(document.body).removeClass("gtm-disable-scroll");var sheetScope=sheet.scope;sheetScope&&sheetScope.$destroy&&sheetScope.$destroy();var $jscomp$optchain$tmpm299996920$2;null==($jscomp$optchain$tmpm299996920$2=sheet.innerElement)||$jscomp$optchain$tmpm299996920$2.remove();sheet.scope=null},500).then(function(){0===$jscomp$this.deck.length&&$jscomp$this.lastSheetClosedNotifier.fire()});var $jscomp$optchain$tmpm299996920$4;
null==($jscomp$optchain$tmpm299996920$4=sheet.onClose)||$jscomp$optchain$tmpm299996920$4.call(sheet);return sheet};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.resolve=function(result){var $jscomp$this=this;return this.fireCloseEvent().then(function(){return $jscomp$this.resolveTopSheet(result)}).catch(this.errorHandler)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.resolveIfVisible=function(result){return this.isVisible()?(this.resolve(result),!0):!1};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.resolveTopSheet=function(result){var sheet=this.removeTopSheet();if(null!=sheet)return sheet.deferred.resolve(result),sheet.deferred.promise};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.reject=function(optException){var $jscomp$this=this;return this.fireCloseEvent().then(function(){return $jscomp$this.rejectTopSheet(optException)}).catch(this.errorHandler)};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.rejectIfVisible=function(exception){return this.isVisible()?(this.reject(exception),!0):!1};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.rejectTopSheet=function(optException){var sheet=this.removeTopSheet();if(null!==sheet)return sheet.deferred.reject(optException)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.updateSheetWidth=function(){var $jscomp$this=this,sheetHolder=module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(".gtm-sheet-holder"),width=sheetHolder.width();if(0===width)this.$timeout(function(){$jscomp$this.updateSheetWidth()});else{sheetHolder.addClass("gtm-sheet-holder--animated");var padding=0,maxWidth=0,useFullWidth=!1;0<this.deck.length&&
(useFullWidth=!!this.deck[this.deck.length-1].useFullWidth,maxWidth=this.deck[this.deck.length-1].maxWidth||0);if(!useFullWidth){var minWidth=Math.floor((width-960)/2);maxWidth?(maxWidth=Math.max(maxWidth,minWidth),padding=Math.max(width-maxWidth,0),width=Math.min(maxWidth,width)):1160<=width?(padding=Math.floor((width-960)/2),width-=padding):768<=width&&(padding=Math.floor((width-768)/2),width-=padding)}this.setSheetCss(".gtm-sheet",0,void 0,padding);this.setSheetCss(".gtm-sheet:nth-last-of-type(3)",
padding,width);this.setSheetCss(".gtm-sheet:last-of-type",window.innerWidth);for(var i=0;i<this.deck.length;i++)this.deck[i].horizontalOffset=i===this.deck.length-1?padding:0}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.setSheetCss=function(selector,offset,maxWidth,minWidth){var transformStr="translate("+(offset+"px, 0)"),css={"-moz-transform":transformStr,"-ms-transform":transformStr,"-webkit-transform":transformStr,transform:transformStr};null!=maxWidth&&(css["max-width"]=maxWidth+"px");css["min-width"]=null!=minWidth?minWidth+"px":"";module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_getEl(selector).css(css)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.clearAllSheets=function(exception){return this.clearAllSheetsButN(0,exception)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.clearAllSheetsButN=function(n,exception){var $jscomp$this=this;return this.fireCloseEvent(!0).then(function(){for(var promise=$jscomp$this.$q.when(),i=0;i<$jscomp$this.deck.length-n;i++)promise=promise.then(function(){return $jscomp$this.rejectTopSheet(exception)});return promise})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.resolveAllSheets=function(result){var $jscomp$this=this;return this.fireCloseEvent(!0).then(function(){for(var promise=$jscomp$this.$q.when(),i=0;i<$jscomp$this.deck.length;i++)promise=promise.then(function(){return $jscomp$this.resolveTopSheet(result)});return promise}).catch(this.errorHandler)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.getSheetHolder=function(){return module$exports$google3$third_party$javascript$typings$angular$index.element(".gtm-sheet-holder")};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.isVisible=function(){return 0<this.deck.length};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.updateSheetView=function(trackView){this.dataLayerService&&this.dataLayerService.pushEvent("trackView",{slide:trackView})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.addCloseListener=function(callback){var $jscomp$this=this;return callback?(this.closeListeners.push({callback:callback,sheetIndex:this.deck.length-1}),function(){return $jscomp$this.removeCloseListener(callback)}):function(){}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.removeCloseListener=function(callback){for(var i=this.closeListeners.length-1;0<=i;i--)this.closeListeners[i].callback===callback&&this.closeListeners.splice(i,1)};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.onSheetOpening=function(callback){return this.sheetOpeningNotifier.addListener(callback)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.onSheetClosing=function(callback){return this.sheetClosingNotifier.addListener(callback)};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.onLastSheetClosing=function(callback){return this.lastSheetClosingNotifier.addListener(callback)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.onLastSheetClosed=function(callback){return this.lastSheetClosedNotifier.addListener(callback)};module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.cleanupCloseListeners=function(){for(var i=this.closeListeners.length-1;0<=i;i--)this.closeListeners[i].sheetIndex>=this.deck.length&&this.closeListeners.splice(i,1)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.fireCloseEvent=function(allSheets){for(var promise=this.$q.when(),i=this.closeListeners.length-1;0<=i;i--){var listener=this.closeListeners[i];listener&&(allSheets||listener.sheetIndex===this.deck.length-1)&&(promise=promise.then(listener.callback))}return promise};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.addTabStops=function(sheet){if(sheet.innerElement){var target=sheet.innerElement.parent(),genTabStop=function(tabindex){return module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service_newDiv().attr("tabindex",tabindex)},focusBefore=sheet.tabStops[0]=genTabStop(0),targetBefore=sheet.tabStops[1]=genTabStop(-1),targetAfter=sheet.tabStops[2]=genTabStop(-1),
focusAfter=sheet.tabStops[3]=genTabStop(0);target.prepend(targetBefore).prepend(focusBefore);target.append(targetAfter).append(focusAfter);focusBefore.focus(function(){targetAfter.focus()});focusAfter.focus(function(){targetBefore.focus()});targetAfter.focus()}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.cleanupTabStops=function(sheet){for(var $jscomp$iter$129=$jscomp$makeIterator(sheet.tabStops),$jscomp$key$tabStop=$jscomp$iter$129.next();!$jscomp$key$tabStop.done;$jscomp$key$tabStop=$jscomp$iter$129.next())$jscomp$key$tabStop.value.remove()};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService,{MAX_WIDTH_SMALL:{configurable:!0,enumerable:!0,get:function(){return 640}}});module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.reject=module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.reject;
module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.resolve=module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.prototype.resolve;var module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$deferred_sheet_DeferredSheetController=function($compile,$element,$timeout){this.$compile=$compile;this.$element=$element;this.$timeout=$timeout};module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$deferred_sheet_DeferredSheetController.prototype.$onInit=function(){var $jscomp$this=this;this.$timeout(function(){return void $jscomp$this.render()},500*Number(this.depth))};
module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$deferred_sheet_DeferredSheetController.prototype.$onDestroy=function(){var $jscomp$optchain$tmp972593432$0;null==($jscomp$optchain$tmp972593432$0=this.elementScope)||$jscomp$optchain$tmp972593432$0.$destroy();var $jscomp$optchain$tmp972593432$1;null==($jscomp$optchain$tmp972593432$1=this.innerElement)||$jscomp$optchain$tmp972593432$1.remove();this.innerElement=void 0};
module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$deferred_sheet_DeferredSheetController.prototype.render=function(){var $jscomp$optchain$tmp972593432$2;this.elementScope=this.sheetService.createSheetScope(null==($jscomp$optchain$tmp972593432$2=this.deferredConfig)?void 0:$jscomp$optchain$tmp972593432$2.context);var $jscomp$optchain$tmp972593432$3;this.innerElement=this.$compile(null==($jscomp$optchain$tmp972593432$3=this.deferredConfig)?void 0:$jscomp$optchain$tmp972593432$3.template)(this.elementScope);
this.$element.append(this.innerElement)};module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$deferred_sheet_DeferredSheetController.$inject=["$compile","$element","$timeout"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$deferred_sheet$deferredSheetComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$sheet$deferred_sheet_DeferredSheetController,controllerAs:"ctrl",bindings:{depth:"@",deferredConfig:"<",sheetService:"<"}};var module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.sheet",[]).component("deferredSheet",module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$deferred_sheet$deferredSheetComponent);var module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$identity_service$IdentityService=function($window,$q){this.$window=$window;this.$q=$q};module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$identity_service$IdentityService.prototype.getIdentity=function(){var preloadData=this.$window.preloadData;return null==preloadData?this.$q.reject("no identity available"):this.$q.when({userId:preloadData.userId})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$identity_service$IdentityService.$inject=["$window","$q"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService=function($q,$window,identityService){this.$q=$q;this.$window=$window;this.identityService=identityService};module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.getAccountValue=function(accountId,key){return accountId?this.getFromLocalStorage("account."+accountId,key):this.$q.when(null)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.getContainerValue=function(containerId,key){return containerId?this.getFromLocalStorage("container."+containerId,key):this.$q.when(null)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.getUserValue=function(key){var $jscomp$this=this;return this.identityService.getIdentity().then(function(identity){return identity&&identity.userId?$jscomp$this.getFromLocalStorage("user."+identity.userId,key):$jscomp$this.$q.when(null)})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.getGlobalValue=function(key){return this.getFromLocalStorage("global",key)};module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.setAccountValue=function(accountId,key,value){this.setLocalStorage("account."+accountId,key,value)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.setContainerValue=function(containerId,key,value){this.setLocalStorage("container."+containerId,key,value)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.setUserValue=function(key,value){var $jscomp$this=this;this.identityService.getIdentity().then(function(identity){$jscomp$this.setLocalStorage("user."+identity.userId,key,value)})};module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.setGlobalValue=function(key,value){this.setLocalStorage("global",key,value)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.getLocalStorageKey=function(storeName,key){return"gtm.storage."+storeName+"."+key};
module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.getFromLocalStorage=function(storeName,key){var storageKey=this.getLocalStorageKey(storeName,key),result;try{var storedData=this.$window.localStorage.getItem(storageKey);null!=storedData&&(result=JSON.parse(storedData))}catch(e){result=null}return this.$q.when(result)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.prototype.setLocalStorage=function(storeName,key,value){this.$window.localStorage.setItem(this.getLocalStorageKey(storeName,key),JSON.stringify(value))};module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService.$inject=["$q","$window","identityService"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$storage_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.storage.module",[]).service("identityService",module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$identity_service$IdentityService).service("keyValueService",module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$key_value_service$KeyValueService);var module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PAGE_SIZE_OPTIONS=[10,25,50,100,200,"ALL"],module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController=function($attrs,$compile,$element,$log,$scope,keyValueService){this.$attrs=$attrs;this.$compile=$compile;this.$element=$element;this.$log=$log;this.$scope=$scope;this.keyValueService=keyValueService;this.customSelectedKey="key";this.inSheet=!1;this.offset=
this.currentPage=0;this.endOfStream=!1;this.limit=Infinity;this.filterBy="";this.internalItems=[];this.selectedItems=new Map;this.selectionUpdateNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.isSearchEmpty=this.isSortReversed=!1;this.range={start:0,end:0,total:0,firstPage:!0,lastPage:!0};this.isDynamicDataSource=!!$attrs.fetchMoreData};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$onInit=function(){var $jscomp$this=this;this.$scope.$watch("tableCtrl.filterBy",function(newValue,oldValue){$jscomp$this.onFilterByChange(newValue,oldValue)});this.$scope.$watchCollection(this.$attrs.items,function(){$jscomp$this.updateInternalCopy(!0)});this.$attrs.$addClass("gtm-table-component");this.useServerSort=void 0===this.useServerSort?!0:this.useServerSort;this.useServerFilter=
void 0===this.useServerFilter?!0:this.useServerFilter;this.updateNotifier&&this.updateNotifier.addListener(function(){$jscomp$this.updateInternalCopy(!0)});this.bindToParent&&this.bindToParent(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$onChanges=function(changesObj){var $jscomp$this=this;if(changesObj.limitTo){this.tableId||(this.tableId=this.$attrs.items.replace(/\./g,"-"),this.$log.warn('"table-id" should be specified for pagination to work. Using value of "items" ("'+(this.tableId+'") as a fall-back.')));this.limitStorageKey="table."+this.tableId+".limit";var applyDefaultLimit=function(){changesObj.limitTo.currentValue&&
$jscomp$this.setPageSize($jscomp$this.limitTo)};this.keyValueService.getUserValue(this.limitStorageKey).then(function(limit){"ALL"===limit||0<=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PAGE_SIZE_OPTIONS.indexOf(Number(limit))?$jscomp$this.setPageSize(limit):applyDefaultLimit()}).catch(applyDefaultLimit)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$postLink=function(){this.$element.append(this.$compile(this.inSheet?'<div class="sheet-footer gtm-table__footer"><gtm-pagination></gtm-pagination></div>':"<gtm-pagination></gtm-pagination>")(this.$scope))};module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$onDestroy=function(){this.updateNotifier&&this.updateNotifier.destroy()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.setPageSize=function(itemsPerPage){this.currentPage=0;this.limit=Number(itemsPerPage)||Infinity;this.keyValueService.setUserValue(this.limitStorageKey,itemsPerPage);this.calculateRange()};module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.hasPrevPage=function(){return 0<this.offset};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.hasNextPage=function(){return this.offset+this.limit<this.internalItems.length};module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.nextPage=function(){this.hasNextPage()&&(this.currentPage++,this.calculateRange(),this.handleFetchMoreData())};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.prevPage=function(){this.hasPrevPage()&&(this.currentPage--,this.calculateRange())};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.handleFetchMoreData=function(opts){var $jscomp$this=this;opts=void 0===opts?{}:opts;if(this.isDynamicDataSource){var $jscomp$destructuring$var31=opts,searchParam=$jscomp$destructuring$var31.searchParam,sortParam=$jscomp$destructuring$var31.sortParam,resetData=!(!searchParam&&!sortParam);if(!this.fetchingDataPromise||resetData){var totalPages=Math.ceil(this.internalItems.length/this.limit),
shouldFetchMore=resetData||this.currentPage+2>=totalPages&&!this.endOfStream;this.fetchSearchParam=searchParam||this.fetchSearchParam;this.fetchSortParam=sortParam||this.fetchSortParam;shouldFetchMore&&(this.fetchingDataPromise=this.fetchMoreData({search:this.fetchSearchParam,sort:this.fetchSortParam,reset:resetData}).then(function(hasMoreData){$jscomp$this.endOfStream=!hasMoreData}).finally(function(){$jscomp$this.fetchingDataPromise=null}))}}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.isActiveSort=function(sortColumn){return this.currentSortColumn===sortColumn};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.doSort=function(sortColumn,sortFunc,reversed){(this.isSortReversed=this.isActiveSort(sortColumn)?!this.isSortReversed:!!reversed)?this.$attrs.$addClass("gtm-table-component--reverse-sort"):this.$attrs.$removeClass("gtm-table-component--reverse-sort");this.orderBy=sortFunc;this.currentSortColumn=sortColumn;this.currentPage=0;this.isDynamicDataSource&&this.useServerSort?this.handleFetchMoreData({sortParam:{fieldName:sortFunc,
desc:this.isSortReversed}}):this.updateInternalCopy(!1)};module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.onFilterByChange=function(newValue,oldValue){if(newValue||oldValue)this.currentPage=0,this.isDynamicDataSource&&this.useServerFilter?this.handleFetchMoreData({searchParam:{term:newValue}}):this.updateInternalCopy(!1)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.updateInternalCopy=function(){var $jscomp$this=this,chain=_.chain(this.items||[]);if(this.filters&&this.filterBy){var regExpString=this.filterBy.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),expressionRegexp=new RegExp(regExpString,"i");chain=chain.filter(function(item){return $jscomp$this.filters(item,expressionRegexp)})}this.orderBy&&(chain=chain.sortBy(function(item){var value=module$exports$google3$third_party$javascript$typings$angular$index.isFunction($jscomp$this.orderBy)?
$jscomp$this.orderBy(item):module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(item,$jscomp$this.orderBy);return module$exports$google3$third_party$javascript$typings$angular$index.isString(value)?value.toLocaleLowerCase():value}));this.isSortReversed&&(chain=chain.reverse());this.isItemsEmpty=_.isEmpty(this.items);this.$element.toggleClass("gtm-table-component--has-items",!this.isItemsEmpty);this.$element.toggleClass("gtm-table-component--empty",this.isItemsEmpty);
var initialSize=Number(this.limitTo)||Infinity;this.$element.toggleClass("gtm-table-component--single-page",!Array.isArray(this.items)||this.items.length<=initialSize);var oldSelection=this.selectedItems;this.selectedItems=new Map;this.internalItems=chain.map(function(item){var key=$jscomp$this.getKeyForItem(item);oldSelection.has(key)&&$jscomp$this.selectedItems.set(key,item);return item}).value();oldSelection.clear();this.isSearchEmpty=!this.isItemsEmpty&&0===this.internalItems.length;this.$element.toggleClass("gtm-table-component--search-empty",
this.isSearchEmpty);this.calculateRange()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.calculateRange=function(){_.isEmpty(this.internalItems)?(this.offset=0,this.range={start:0,end:0,total:0,firstPage:!0,lastPage:!0}):Infinity===this.limit?(this.offset=0,this.range={start:0,end:this.internalItems.length,total:this.internalItems.length,firstPage:!0,lastPage:!0}):(this.offset=this.currentPage*this.limit,this.range={start:this.offset,end:Math.min(this.offset+this.limit,
this.internalItems.length),total:this.internalItems.length,firstPage:!this.hasPrevPage(),lastPage:!this.hasNextPage()})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.generateSelectKey=function(item){var key=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(item,this.customSelectedKey,"");return module$exports$google3$third_party$javascript$typings$angular$index.isString(key)||module$exports$google3$third_party$javascript$typings$angular$index.isNumber(key)?""+key:module$exports$google3$third_party$javascript$typings$angular$index.isObject(key)?
Object.entries(key).sort(function(a,b){return a[0].localeCompare(b[0])}).map(function($jscomp$destructuring$var32){var $jscomp$destructuring$var33=$jscomp$makeIterator($jscomp$destructuring$var32),key__tsickle_destructured_1=$jscomp$destructuring$var33.next().value,value__tsickle_destructured_2=$jscomp$destructuring$var33.next().value;return key__tsickle_destructured_1+"-"+value__tsickle_destructured_2}).join(":"):""};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getFilteredItems=function(){return this.internalItems};module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getVisibleItems=function(){return this.internalItems.slice(this.range.start,this.range.end)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getSelectedItems=function(){return[].concat($jscomp$arrayFromIterable(this.selectedItems.values()))};module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.toggleRow=function(item){var key=this.getKeyForItem(item);this.selectedItems.has(key)?this.selectedItems.delete(key):this.selectedItems.set(key,item);this.selectionUpdateNotifier.fire()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.toggleAll=function(){var $jscomp$this=this;0<this.selectedItems.size?this.selectedItems.clear():this.selectedItems=new Map(this.getVisibleItems().map(function(item){return[$jscomp$this.getKeyForItem(item),item]}));this.selectionUpdateNotifier.fire()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.clearSelection=function(){0<this.selectedItems.size&&this.selectedItems.clear()};module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.isSelected=function(item){var key=this.getKeyForItem(item);return this.selectedItems.has(key)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.areAllSelected=function(){return this.selectedItems.size===this.items.length};module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.areNoneSelected=function(){return 0===this.selectedItems.size};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.setSelectKeyOnItem=function(item){item.gtmTableSelectKey=this.generateSelectKey(item)};module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getKeyForItem=function(item){null==item.gtmTableSelectKey&&this.setSelectKeyOnItem(item);return item.gtmTableSelectKey};
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.areNoneSelected=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.areNoneSelected;module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.areAllSelected=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.areAllSelected;
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.isSelected=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.isSelected;module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.clearSelection=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.clearSelection;
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.toggleAll=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.toggleAll;module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.toggleRow=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.toggleRow;
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getSelectedItems=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getSelectedItems;module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getVisibleItems=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getVisibleItems;
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getFilteredItems=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.getFilteredItems;module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$onDestroy=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$onDestroy;
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$postLink=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$postLink;module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$onChanges=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$onChanges;
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$onInit=module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.prototype.$onInit;module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController.$inject="$attrs $compile $element $log $scope keyValueService".split(" ");
var module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowController=function($attrs,$compile,$element,$scope){this.$attrs=$attrs;this.$compile=$compile;this.$element=$element;this.$scope=$scope};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowController.prototype.$onInit=function(){this.$attrs.$set("ngRepeat",(this.tableCtrl.customItemName||"item")+" in tableCtrl.internalItems|limitTo:tableCtrl.limit:tableCtrl.offset");this.compiled=this.$compile(this.$element,void 0,5E3)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowController.prototype.$postLink=function(){this.$scope.tableCtrl=this.tableCtrl;this.compiled(this.$scope)};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowController.prototype.$postLink=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowController.prototype.$postLink;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowController.prototype.$onInit;module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowController.$inject=["$attrs","$compile","$element","$scope"];
var module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController=function(){};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.$onInit=function(){this.isDynamicDataSource=this.tableCtrl.isDynamicDataSource;this.itemsPerPage=Infinity===this.tableCtrl.limit?"ALL":this.tableCtrl.limit;var initialSize=Number(this.tableCtrl.limitTo)||Infinity;this.options=_.chain([initialSize]).union(module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PAGE_SIZE_OPTIONS).filter(function(size){return!module$exports$google3$third_party$javascript$typings$angular$index.isNumber(size)||size>=
initialSize}).without(Infinity).value()};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.onPageSizeSelect=function(){this.tableCtrl.setPageSize(this.itemsPerPage)};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.next=function(){this.tableCtrl.nextPage()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.prev=function(){this.tableCtrl.prevPage()};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.prev=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.prev;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.next=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.next;module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.onPageSizeSelect=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.onPageSizeSelect;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController.prototype.$onInit;
var module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$paginationComponent={require:{tableCtrl:"^gtmTable"},controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_PaginationController,controllerAs:"ctrl",templateUrl:"/ctui/table/pagination_footer.html"},module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController=function($element,$parse,$scope){this.$element=
$element;this.$parse=$parse;this.$scope=$scope};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.$postLink=function(){void 0!==this.isDefault&&"false"!==this.isDefault&&this.doSort()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.doSort=function(){var localSortFunc=this.$parse(this.sortFunc)(this.$scope);module$exports$google3$third_party$javascript$typings$angular$index.isFunction(localSortFunc)&&(localSortFunc=localSortFunc.bind(this.$element.controller()));this.tableCtrl.doSort(this,localSortFunc,void 0!==this.startReverseFlag)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.isActiveSort=function(){return this.tableCtrl.isActiveSort(this)};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.isSortReversed=function(){return this.tableCtrl.isSortReversed};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.isSortReversed=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.isSortReversed;module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.isActiveSort=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.isActiveSort;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.doSort=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.doSort;module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.$postLink=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.prototype.$postLink;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController.$inject=["$element","$parse","$scope"];var module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptyController=function($attrs,$compile,$element,$scope){this.$attrs=$attrs;this.$compile=$compile;this.$element=$element;this.$scope=$scope};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptyController.prototype.$onInit=function(){this.$attrs.$set("ngIf","tableCtrl.isItemsEmpty");this.compiled=this.$compile(this.$element,void 0,5E3)};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptyController.prototype.$postLink=function(){this.$scope.tableCtrl=this.tableCtrl;this.compiled(this.$scope)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptyController.prototype.$postLink=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptyController.prototype.$postLink;module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptyController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptyController.prototype.$onInit;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptyController.$inject=["$attrs","$compile","$element","$scope"];var module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptySearchController=function($attrs,$compile,$element,$scope){this.$attrs=$attrs;this.$compile=$compile;this.$element=$element;this.$scope=$scope};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptySearchController.prototype.$onInit=function(){this.$attrs.$set("ngIf","tableCtrl.isSearchEmpty");this.compiled=this.$compile(this.$element,void 0,5E3)};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptySearchController.prototype.$postLink=function(){this.compiled(this.$scope)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptySearchController.prototype.$postLink=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptySearchController.prototype.$postLink;module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptySearchController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptySearchController.prototype.$onInit;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptySearchController.$inject=["$attrs","$compile","$element","$scope"];var module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController=function(){};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController.prototype.toggleAll=function($event){var $jscomp$optchain$tmp1705122704$1;null==($jscomp$optchain$tmp1705122704$1=$event.stopPropagation)||$jscomp$optchain$tmp1705122704$1.call($event);this.tableCtrl.toggleAll()};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController.prototype.areAllSelected=function(){return this.tableCtrl.areAllSelected()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController.prototype.areNoneSelected=function(){return this.tableCtrl.areNoneSelected()};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController.prototype.areNoneSelected=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController.prototype.areNoneSelected;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController.prototype.areAllSelected=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController.prototype.areAllSelected;module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController.prototype.toggleAll=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController.prototype.toggleAll;
var module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$tableHeaderCheckboxComponent={require:{tableCtrl:"^gtmTable"},controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableHeaderCheckboxController,controllerAs:"tableHeaderCheckboxCtrl",template:"\n      <div>\n        <i data-ng-click=\n               \"tableHeaderCheckboxCtrl.toggleAll($event)\"\n            data-ng-class=\"tableHeaderCheckboxCtrl.areNoneSelected() ?\n                'gtm-check-box-outline-blank-icon' :\n                tableHeaderCheckboxCtrl.areAllSelected() ?\n                    'gtm-check-box-icon' :\n                    'gtm-indeterminate-check-box-icon'\">\n        </i>\n      </div>"},
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowCheckboxController=function($element,$scope){var $jscomp$this=this;this.rowElement=$element.parents("tr");this.rowElement.on("click",function(){$jscomp$this.tableCtrl.toggleRow($jscomp$this.item);$scope.$apply()})};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowCheckboxController.prototype.$onDestroy=function(){this.rowElement.off("**")};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowCheckboxController.prototype.isSelected=function(){return this.tableCtrl.isSelected(this.item)};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowCheckboxController.prototype.isSelected=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowCheckboxController.prototype.isSelected;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowCheckboxController.$inject=["$element","$scope"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$tableRowCheckboxComponent={bindings:{item:"<"},require:{tableCtrl:"^gtmTable"},controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowCheckboxController,controllerAs:"tableRowCheckboxCtrl",template:"\n      <i data-ng-class=\"tableRowCheckboxCtrl.isSelected() ?\n          'gtm-check-box-icon' : 'gtm-check-box-outline-blank-icon'\">\n      </i>"},module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController=
function($element){this.isExpanded=!1;this.rowElement=$element.parents("tr")};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController.prototype.$onDestroy=function(){this.rowElement.off("**")};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController.prototype.toggleExpand=function($event){var $jscomp$optchain$tmp1705122704$3;null==($jscomp$optchain$tmp1705122704$3=$event.preventDefault)||$jscomp$optchain$tmp1705122704$3.call($event);var $jscomp$optchain$tmp1705122704$5;null==($jscomp$optchain$tmp1705122704$5=$event.stopPropagation)||$jscomp$optchain$tmp1705122704$5.call($event);this.isExpanded=!this.isExpanded};
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController.prototype.getIcon=function(){return"icon "+(this.isExpanded?"icon-expand-less":"icon-expand-more")};module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController.prototype.getIcon=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController.prototype.getIcon;
module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController.prototype.toggleExpand=module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController.prototype.toggleExpand;module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController.$inject=["$element"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$tableRowExpandableComponent={bindings:{item:"<"},require:{tableCtrl:"^gtmTable"},controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowExpandableController,controllerAs:"tableExpandable",template:'\n      <i data-ng-click="tableExpandable.toggleExpand($event)"\n         data-ng-class="tableExpandable.getIcon()">\n      </i>'};var module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.table",[module$exports$google3$java$com$google$analytics$containertag$ui$common$storage$storage_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$input$input_module$module.name]).component("gtmPagination",module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$paginationComponent).component("gtmTableFilter",
{require:{tableCtrl:"^gtmTable"},bindings:{filterKeycode:"<?"},controllerAs:"tableFilterCtrl",template:'<ctui-menu-filter\n          ng-class="{\n            \'gtm-table--hide-empty\': !tableFilterCtrl.tableCtrl.filterBy\n          }"\n          filter="tableFilterCtrl.tableCtrl.filterBy"\n          key-code="tableFilterCtrl.filterKeycode">\n      </ctui-menu-filter>'}).component("gtmTableHeaderCheckbox",module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$tableHeaderCheckboxComponent).component("gtmTableRowCheckbox",
module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$tableRowCheckboxComponent).component("gtmTableRowExpandable",module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$tableRowExpandableComponent).directive("gtmEmptyTable",function(){return{priority:5E3,require:{tableCtrl:"^gtmTable"},bindToController:!0,controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptyController,
scope:!0,terminal:!0}}).directive("gtmSortColumnBy",function(){return{controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_SortColumnByController,require:{tableCtrl:"^gtmTable"},bindToController:!0,controllerAs:"sortCtrl",scope:{sortName:"@gtmSortColumnBy",isDefault:"@gtmDefaultSortColumn",sortFunc:"&gtmSortColumnBy",startReverseFlag:"@gtmSortColumnReverse"},restrict:"A",transclude:!0,template:'<span ng-transclude ng-click="sortCtrl.doSort()" ng-class="{\n        \'sort-reversed\': sortCtrl.isSortReversed(),\n        \'active-sort\': sortCtrl.isActiveSort()\n      }"\n      class="sortable"></span>'}}).directive("gtmTable",
function(){return{priority:5E3,bindToController:{bindToParent:"<?",customItemName:"@",customSelectedKey:"<?",fetchMoreData:"=",filters:"<",inSheet:"<?",items:"<",limitTo:"<",tableId:"@",updateNotifier:"<",useServerFilter:"<?",useServerSort:"<?"},controllerAs:"tableCtrl",controller:module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_directive$TableController,scope:!0}}).directive("gtmTableEmptySearch",function(){return{priority:5E3,require:{tableCtrl:"^gtmTable"},bindToController:!0,
controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableEmptySearchController,scope:!0,terminal:!0}}).directive("gtmTableRow",function(){return{priority:5E3,require:{tableCtrl:"^gtmTable"},bindToController:!0,controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$table$table_directive_TableRowController,scope:!0,terminal:!0}});var module$contents$google3$java$com$google$analytics$containertag$ui$common$toast$toast_component_ToastController=function(){};module$contents$google3$java$com$google$analytics$containertag$ui$common$toast$toast_component_ToastController.prototype.$onInit=function(){};
var module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_component$toastComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$toast$toast_component_ToastController,controllerAs:"ctrl",templateUrl:"/ctui/toast/toast_component.html",bindings:{toast:"<"}};var module$contents$google3$java$com$google$analytics$containertag$ui$common$toast$toast_holder_component_ToastHolderController=function(toastService){this.toastService=toastService};
$jscomp$global.Object.defineProperties(module$contents$google3$java$com$google$analytics$containertag$ui$common$toast$toast_holder_component_ToastHolderController.prototype,{transientToasts:{configurable:!0,enumerable:!0,get:function(){return this.toastService.transientToasts}},persistentToasts:{configurable:!0,enumerable:!0,get:function(){return this.toastService.persistentToasts}}});
module$contents$google3$java$com$google$analytics$containertag$ui$common$toast$toast_holder_component_ToastHolderController.$inject=["toastService"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_holder_component$toastHolderComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$toast$toast_holder_component_ToastHolderController,controllerAs:"ctrl",templateUrl:"/ctui/toast/toast_holder_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_service$ToastService=function($q,$timeout){this.$q=$q;this.$timeout=$timeout;this.transientToasts=[];this.persistentToasts=[]};
module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_service$ToastService.prototype.show=function(toastConfig){var $jscomp$this=this,deferred=this.$q.defer();"string"===typeof toastConfig&&(toastConfig={message:toastConfig});if("object"!==typeof toastConfig||!toastConfig.message)return this.$q.when();var toast=Object.assign({},{deferred:deferred,isClosable:!0,type:"transient"},toastConfig);deferred.promise.catch(module$exports$google3$third_party$javascript$typings$angular$index.noop).finally(function(){$jscomp$this.destroy(toast)});
this.remove(toast.id);"persistent"===toast.type?this.persistentToasts.unshift(toast):(this.transientToasts.unshift(toast),toastConfig.promise?toastConfig.promise.then(deferred.resolve,deferred.reject):this.$timeout(deferred.reject,5E3));return deferred.promise};
module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_service$ToastService.prototype.destroy=function(toast){"persistent"===toast.type?module$contents$goog$array_remove(this.persistentToasts,toast):module$contents$goog$array_remove(this.transientToasts,toast)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_service$ToastService.prototype.removeAll=function(){for(var $jscomp$iter$130=$jscomp$makeIterator(this.transientToasts),$jscomp$key$toast=$jscomp$iter$130.next();!$jscomp$key$toast.done;$jscomp$key$toast=$jscomp$iter$130.next())$jscomp$key$toast.value.deferred.reject();var $jscomp$iter$131=$jscomp$makeIterator(this.persistentToasts);for($jscomp$key$toast=$jscomp$iter$131.next();!$jscomp$key$toast.done;$jscomp$key$toast=
$jscomp$iter$131.next())$jscomp$key$toast.value.deferred.reject()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_service$ToastService.prototype.remove=function(id){if(id){for(var $jscomp$iter$132=$jscomp$makeIterator(this.persistentToasts),$jscomp$key$toast=$jscomp$iter$132.next();!$jscomp$key$toast.done;$jscomp$key$toast=$jscomp$iter$132.next()){var toast=$jscomp$key$toast.value;toast.id===id&&toast.deferred.reject()}var $jscomp$iter$133=$jscomp$makeIterator(this.transientToasts);for($jscomp$key$toast=$jscomp$iter$133.next();!$jscomp$key$toast.done;$jscomp$key$toast=
$jscomp$iter$133.next()){var toast$231=$jscomp$key$toast.value;toast$231.id===id&&toast$231.deferred.reject()}}};module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_service$ToastService.$inject=["$q","$timeout"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.toast",[]).component("toast",module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_component$toastComponent).component("toastHolder",module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_holder_component$toastHolderComponent).service("toastService",module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_service$ToastService);var module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController=function($timeout,$scope,gtmBackgroundClickService){var $jscomp$this=this;this.$timeout=$timeout;this.$scope=$scope;this.gtmBackgroundClickService=gtmBackgroundClickService;this.inSheet=!0;this.sections=new Map;this.unregisterFn=this.gtmBackgroundClickService.registerListener(this.getVeditorSectionSelector(),function(){$jscomp$this.closeStep();$jscomp$this.$scope.$evalAsync()},this.getExcludedBackgroundSelectors())};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$onInit=function(){var value=this.bindTo;if(void 0!==(null==value?void 0:value.setVeditorController)){var $jscomp$optchain$tmp1537169528$0;null==($jscomp$optchain$tmp1537169528$0=this.bindTo)||$jscomp$optchain$tmp1537169528$0.setVeditorController(this)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$postLink=function(){var $jscomp$this=this;this.$timeout(function(){if($jscomp$this.createMode&&1===$jscomp$this.sections.size){var section=$jscomp$this.sections.values().next().value;$jscomp$this.gotoStep(section.sectionName)}},0)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$onDestroy=function(){var $jscomp$optchain$tmp1537169528$2;null==($jscomp$optchain$tmp1537169528$2=this.unregisterFn)||$jscomp$optchain$tmp1537169528$2.call(this);this.currentSection=void 0;this.sections.clear()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$onChanges=function(changes){changes.readOnly&&this.updateAllSectionStates();if(changes.createMode&&this.createMode&&1===this.sections.size){var section=this.sections.values().next().value;this.gotoStep(section.sectionName)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.getVeditorSectionSelector=function(){return"veditor-section"};module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.getExcludedBackgroundSelectors=function(){return[".goog-popupdatepicker",".ctui-filter-dropdown__suggestions"]};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.gotoStep=function(sectionName){this.isReadOnly()||(this.currentSection=this.sections.get(sectionName),this.updateAllSectionStates())};module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.gotoValidationError=function(){var section=this.getFirstInvalidSection();void 0!==section&&this.gotoStep(section.sectionName)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.setDirty=function(){var $jscomp$optchain$tmp1537169528$3;null==($jscomp$optchain$tmp1537169528$3=this.formController)||$jscomp$optchain$tmp1537169528$3.$setDirty()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isDirty=function(){var $jscomp$optchain$tmp1537169528$4,$jscomp$nullish$tmp46;return null!=($jscomp$nullish$tmp46=null==($jscomp$optchain$tmp1537169528$4=this.formController)?void 0:$jscomp$optchain$tmp1537169528$4.$dirty)?$jscomp$nullish$tmp46:!1};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.setPristine=function(){var $jscomp$optchain$tmp1537169528$5;null==($jscomp$optchain$tmp1537169528$5=this.formController)||$jscomp$optchain$tmp1537169528$5.$setPristine()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isPristine=function(){var $jscomp$optchain$tmp1537169528$6,$jscomp$nullish$tmp47;return null!=($jscomp$nullish$tmp47=null==($jscomp$optchain$tmp1537169528$6=this.formController)?void 0:$jscomp$optchain$tmp1537169528$6.$pristine)?$jscomp$nullish$tmp47:!0};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.onStepClick=function(section){this.isReadOnly()||(this.currentSection=section,this.updateAllSectionStates())};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.getFirstInvalidSection=function(){for(var $jscomp$iter$134=$jscomp$makeIterator(this.sections.values()),$jscomp$key$section=$jscomp$iter$134.next();!$jscomp$key$section.done;$jscomp$key$section=$jscomp$iter$134.next()){var section=$jscomp$key$section.value,$jscomp$optchain$tmp1537169528$7=void 0;if(null==($jscomp$optchain$tmp1537169528$7=section.form)?0:$jscomp$optchain$tmp1537169528$7.$invalid)return section}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.closeStep=function(){this.currentSection=void 0;this.updateAllSectionStates()};module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.registerStep=function(stepCtrl){this.sections.set(stepCtrl.sectionName,stepCtrl);this.updateAllSectionStates()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.removeStep=function(section){this.currentSection===section&&(this.currentSection=void 0);this.sections.delete(section.sectionName);this.updateAllSectionStates()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.updateAllSectionStates=function(){for(var $jscomp$iter$135=$jscomp$makeIterator(this.sections.values()),$jscomp$key$section=$jscomp$iter$135.next();!$jscomp$key$section.done;$jscomp$key$section=$jscomp$iter$135.next())this.updateStepsInternalState($jscomp$key$section.value)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.updateStepsInternalState=function(section){section.state=this.getSectionState(section);this.$timeout(function(){},0)};module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.getSectionState=function(section){return this.currentSection===section?1:2};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isInCreateMode=function(){return!!this.createMode};module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isReadOnly=function(){return!!this.readOnly};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isActive=function(state){return!this.isReadOnly()&&1===state};module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isEnabled=function(state){return 2===state};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isDisabled=function(state){return 3===state};module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isEditable=function(state){return!this.isReadOnly()&&!this.isDisabled(state)&&!this.isActive(state)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isInvalid=function(){var $jscomp$optchain$tmp1537169528$8,$jscomp$nullish$tmp48;return null!=($jscomp$nullish$tmp48=null==($jscomp$optchain$tmp1537169528$8=this.formController)?void 0:$jscomp$optchain$tmp1537169528$8.$invalid)?$jscomp$nullish$tmp48:!1};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isInvalid=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isInvalid;module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isEditable=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isEditable;
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isDisabled=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isDisabled;module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isEnabled=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isEnabled;
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isActive=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isActive;module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isReadOnly=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isReadOnly;
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isInCreateMode=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.isInCreateMode;module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.closeStep=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.closeStep;
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.onStepClick=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.onStepClick;module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.gotoStep=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.gotoStep;
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$onChanges=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$onChanges;module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$onDestroy=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$onDestroy;
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$postLink=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$postLink;module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$onInit=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.prototype.$onInit;
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController.$inject=["$timeout","$scope","gtmBackgroundClickService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$veditorComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$VeditorController,controllerAs:"ctrl",require:{formController:"^?form"},bindings:{createMode:"=?",readOnly:"=?",bindTo:"<?"},template:"\n<div\n    class=\"ogt-veditor\"\n    data-ng-class=\"{\n      'veditor--edit': !ctrl.readOnly,\n      'veditor--read-only': ctrl.readOnly\n    }\"\n    data-ng-transclude>\n</div>\n",
transclude:!0};var module$contents$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component_sectionCounter=1,module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$VeditorSectionController=function($scope){this.$scope=$scope;this.sectionName="section-"+module$contents$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component_sectionCounter++;this.state=2};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$VeditorSectionController.prototype.$onInit=function(){var $jscomp$optchain$tmp38365842$0;null==($jscomp$optchain$tmp38365842$0=this.veditorCtrl)||$jscomp$optchain$tmp38365842$0.registerStep(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$VeditorSectionController.prototype.$onDestroy=function(){var $jscomp$optchain$tmp38365842$1;null==($jscomp$optchain$tmp38365842$1=this.veditorCtrl)||$jscomp$optchain$tmp38365842$1.removeStep(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$VeditorSectionController.prototype.onClick=function(){var $jscomp$optchain$tmp38365842$2;null==($jscomp$optchain$tmp38365842$2=this.veditorCtrl)||$jscomp$optchain$tmp38365842$2.onStepClick(this)};module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$VeditorSectionController.prototype.onClick=module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$VeditorSectionController.prototype.onClick;
module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$VeditorSectionController.$inject=["$scope"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$veditorSectionComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$VeditorSectionController,controllerAs:"ctrl",bindings:{sectionName:"@?"},require:{veditorCtrl:"^veditor"},template:'\n<div\n    data-ng-form="ctrl.form"\n    data-gtm-read-only="!ctrl.veditorCtrl.isActive(ctrl.state)"\n    class="veditor__section blg-card"\n    data-ng-class="{\n      \'veditor__section--edit\': ctrl.veditorCtrl.isActive(ctrl.state),\n      \'veditor__section--read-only\': !ctrl.veditorCtrl.isActive(ctrl.state),\n    }"\n    data-ng-click="ctrl.onClick()">\n      <div class="veditor__section__content" data-ng-transclude>\n      </div>\n      <div class="veditor__section__overlay"></div>\n    </div>\n',
transclude:!0};var module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.vedtior",[]).component("veditorSection",module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_section_component$veditorSectionComponent).component("veditor",module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_component$veditorComponent);var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_checkbox_component_CheckboxController=function(){this.displayStyles={}};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_checkbox_component_CheckboxController.prototype.$onInit=function(){this.displayStyles=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDisplayStyleSet(this.param.displayStyle)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_checkbox_component_CheckboxController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_checkbox_component_CheckboxController.prototype.$onInit;
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_checkbox_component$vtCheckboxComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_checkbox_component_CheckboxController,controllerAs:"ctrl",bindings:{helper:"=",param:"=",instance:"=",paramDepsManager:"=",instanceFieldName:"@",fieldPathName:"@"},templateUrl:"/ctui/vendortemplate/display/vt_checkbox_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_chip_input_component$VtChipInputController=function(){var $jscomp$this=this;this.selectedItems=new Set;this.onValueChange=function(){$jscomp$this.setInstanceValueToSelections();var $jscomp$optchain$tmp1196360523$0;null==($jscomp$optchain$tmp1196360523$0=$jscomp$this.formController)||$jscomp$optchain$tmp1196360523$0.$setDirty()}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_chip_input_component$VtChipInputController.prototype.$onInit=function(){this.setSelectionsToInstanceValue()};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_chip_input_component$VtChipInputController.prototype.$onChanges=function(changes){changes.suggestions&&this.setSelectionsToInstanceValue()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_chip_input_component$VtChipInputController.prototype.setSelectionsToInstanceValue=function(){this.cachedReadonlyValues=void 0;this.selectedItems=new Set;if(this.paramValue&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isList(this.paramValue))for(var selectValues=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(this.paramValue),
$jscomp$loop$247={},$jscomp$iter$136=$jscomp$makeIterator(selectValues),$jscomp$key$value=$jscomp$iter$136.next();!$jscomp$key$value.done;$jscomp$loop$247={$jscomp$loop$prop$value$248:$jscomp$loop$247.$jscomp$loop$prop$value$248},$jscomp$key$value=$jscomp$iter$136.next()){$jscomp$loop$247.$jscomp$loop$prop$value$248=$jscomp$key$value.value;var selectItem=this.suggestions.find(function($jscomp$loop$247){return function(item){return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(item.value,
$jscomp$loop$247.$jscomp$loop$prop$value$248)}}($jscomp$loop$247));selectItem&&this.selectedItems.add(selectItem)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_chip_input_component$VtChipInputController.prototype.setInstanceValueToSelections=function(){this.cachedReadonlyValues=void 0;for(var selectedValues=[],$jscomp$iter$137=$jscomp$makeIterator(this.selectedItems.values()),$jscomp$key$item=$jscomp$iter$137.next();!$jscomp$key$item.done;$jscomp$key$item=$jscomp$iter$137.next()){var item=$jscomp$key$item.value;void 0!==item.value&&selectedValues.push(item.value)}module$exports$google3$third_party$javascript$typings$angular$index.copy(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newList(selectedValues),
this.paramValue);var $jscomp$optchain$tmp1196360523$1;null==($jscomp$optchain$tmp1196360523$1=this.helper.paramDepsManager)||$jscomp$optchain$tmp1196360523$1.paramInstancesChanged(void 0)};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_chip_input_component$VtChipInputController.prototype,{readonlyValues:{configurable:!0,enumerable:!0,get:function(){this.cachedReadonlyValues||(this.cachedReadonlyValues=[].concat($jscomp$arrayFromIterable(this.selectedItems.values())).map(function(suggestion){return suggestion.displayValue}));return this.cachedReadonlyValues}}});
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_chip_input_component$vtChipInputComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_chip_input_component$VtChipInputController,controllerAs:"ctrl",bindings:{helper:"<",paramValue:"=",suggestions:"<",suggestOnFocus:"<?",valueHint:"<?",valueUnit:"<?"},require:{formController:"?^form"},template:'\n  <ctui-chip-input\n      class="hide-read-only"\n      data-placeholder="{{ctrl.valueHint | vtDisplayText}}"\n      data-chip-values="ctrl.selectedItems"\n      data-is-disabled="ctrl.helper.isDisabled"\n      data-on-value-change="ctrl.onValueChange"\n      data-suggestions="ctrl.suggestions"\n      data-suggest-on-focus="ctrl.suggestOnFocus">\n  </ctui-chip-input>\n  <span data-ng-if="ctrl.valueUnit" class="hide-read-only input-suffix">\n    {{ctrl.valueUnit | vtDisplayText}}\n  </span>\n\n  <div class="show-read-only blg-value">\n    <span data-ng-repeat="displayValue in ctrl.readonlyValues">\n      {{displayValue}}<span ng-if="!$last">,</span>\n    </span>\n    <span data-ng-if="ctrl.valueUnit && ctrl.readonlyValues.length"\n        class="input-suffix">\n      {{ctrl.valueUnit | vtDisplayText}}\n    </span>\n  </div>'};var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_custom_ui_renderer_component$CUSTOM_UI_REGISTRY=new Map,module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_custom_ui_renderer_component_CustomUiRendererController=function($compile,$scope,$element){this.$compile=$compile;this.$scope=$scope;this.$element=$element};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_custom_ui_renderer_component_CustomUiRendererController.prototype.$onInit=function(){if(module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_custom_ui_renderer_component$CUSTOM_UI_REGISTRY.has(this.name)){var component=module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_custom_ui_renderer_component$CUSTOM_UI_REGISTRY.get(this.name),
element=this.$compile("<"+component+'\n        helper="ctrl.helper"\n        param="ctrl.param"\n        paramName="ctrl.paramName"\n        params="ctrl.params"\n        instance="ctrl.instance"\n        param-deps-manager="ctrl.paramDepsManager"\n        instance-field-name="{{ctrl.instanceFieldName}}"\n        ></'+component+">")(this.$scope.$new());this.$element.append(element)}};
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_custom_ui_renderer_component$vtCustomUiRendererComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_custom_ui_renderer_component_CustomUiRendererController,controllerAs:"ctrl",bindings:{helper:"<",name:"<",param:"<",paramName:"<",params:"<",instance:"<",paramDepsManager:"<",instanceFieldName:"<"}};var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager=function(template,containerContexts,$timeout,vtContext){vtContext=void 0===vtContext?{usageContext:containerContexts,productContext:1}:vtContext;this.template=template;this.$timeout=$timeout;this.vtContext=vtContext;this.notifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.params=new Map;this.paramInstanceMap=
{};this.depsCache=new Map;this.pendingCacheClear=null;this.pendingChanges=[];this.displayTextConstCache=new Map;this.preConditions=new Map;this.textWatcherCache=new Map;this.paramInstancesChangedNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.displayTextDynamicCache=new Map;for(var preConditionStack=[],i=0;template.param&&i<template.param.length;i++)this.buildParamsAndPreConditions(template.param[i],preConditionStack)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.buildParamsAndPreConditions=function(param,preConditionStack){if(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyContext(param,this.vtContext)){this.params.set(param.name,param);0<preConditionStack.length&&this.preConditions.set(param.name,module$exports$google3$third_party$javascript$typings$angular$index.copy(preConditionStack));
preConditionStack.push({paramName:param.name});for(var i=0;param.subParam&&i<param.subParam.length;i++)this.buildParamsAndPreConditions(param.subParam[i],preConditionStack);if(6===param.type)for(var i$232=0;param.radioItem&&i$232<param.radioItem.length;i$232++){var item=param.radioItem[i$232];if(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyContext(item,this.vtContext)){preConditionStack.push({paramCondition:{predicate:[{type:1,
arg:[module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString("{{"+param.name+"}}"),item.value]}]}});for(var j=0;item.subParam&&j<item.subParam.length;j++)this.buildParamsAndPreConditions(item.subParam[j],preConditionStack);preConditionStack.pop()}}preConditionStack.pop()}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.checkContainerContexts=function(item){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyUsageContext(item,this.vtContext)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.isItemEnabled=function(item,paramEvaluator){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_isParamEnabled(item,paramEvaluator||this,this.vtContext)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.setParamInstanceMap=function(paramInstanceMap){this.paramInstanceMap=paramInstanceMap;this.depsCache.clear();this.displayTextDynamicCache.clear();return this};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.addChangeListener=function(param,listener,referenceMapParam){referenceMapParam=void 0===referenceMapParam?{}:referenceMapParam;if(!param)return function(){};var referenceMap=Array.isArray(param.text)?this.getTextReferences(param):this.getParamReferences(param);referenceMap=Object.assign({},referenceMapParam,referenceMap);return this.notifier.addListener(function(paramNames){var isDependency=
!1;if(Array.isArray(paramNames))for(var i=0;i<paramNames.length;i++)referenceMap[paramNames[i]]&&(isDependency=!0);else isDependency=void 0!==paramNames?referenceMap[paramNames]:!0;isDependency&&listener(paramNames)})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.clearCacheImmediately=function(paramName){this.pendingCacheClear=null;this.pendingChanges=[];this.depsCache.clear();this.displayTextDynamicCache.clear();this.notifier.fire(paramName)};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getNotifier=function(){return this.notifier};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.destroy=function(){this.notifier.destroy()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getParamReferences=function(param){var referenceMap={};if(!param||!module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasEnablingConditions(param))return referenceMap;for(var i=0;i<param.enablingCondition.length;i++)for(var condition=param.enablingCondition[i],j=0;j<condition.predicate.length;j++){var paramName=
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_getPredicateParamName(condition.predicate[j]);paramName&&(referenceMap[paramName]=!0)}return referenceMap};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getTextReferences=function(displayText){var referenceMap={};if(!displayText||!displayText.text)return referenceMap;for(var text=displayText.text,i=0;i<text.length;i++)_.extend(referenceMap,this.getParamReferences(text[i]));return referenceMap};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.addParamInstancesChangedListener=function(paramName,cb){return this.paramInstancesChangedNotifier.addListener(function(fieldName){fieldName===paramName&&cb()})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.paramInstancesChanged=function(paramName){var $jscomp$this=this;this.pendingCacheClear&&this.$timeout.cancel(this.pendingCacheClear);paramName&&(this.pendingChanges.push(paramName),this.paramInstancesChangedNotifier.fire(paramName));this.pendingCacheClear=this.$timeout(function(){$jscomp$this.pendingCacheClear&&(paramName?$jscomp$this.clearCacheImmediately($jscomp$this.pendingChanges):
$jscomp$this.clearCacheImmediately())},100)};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.mayParamBeEnabled=function(paramName){return this.params.has(paramName)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.isParamEnabled=function(paramName){if(this.depsCache.has(paramName))return!!this.depsCache.get(paramName);this.depsCache.set(paramName,null);if(!this.params.has(paramName)||!this.evalPreConditions(paramName))return this.depsCache.set(paramName,!1),!1;var param=this.params.get(paramName);this.depsCache.set(paramName,2===param.type||this.evalEnablingConditions(param));
return!!this.depsCache.get(paramName)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getText=function(displayText){if(!displayText||!displayText.text)return"";if(this.displayTextConstCache.has(displayText))return this.displayTextConstCache.get(displayText);if(this.displayTextDynamicCache.has(displayText))return this.displayTextDynamicCache.get(displayText);var isDynamicText=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasEnablingTextConditions(displayText),textValue=
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_resolveDisplayText(displayText,this,this.vtContext);isDynamicText?this.displayTextDynamicCache.set(displayText,textValue):this.displayTextConstCache.set(displayText,textValue);return textValue};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.evalPreConditions=function(paramName){if(!this.preConditions.has(paramName))return!0;for(var $jscomp$iter$138=$jscomp$makeIterator(this.preConditions.get(paramName)),$jscomp$key$condition=$jscomp$iter$138.next();!$jscomp$key$condition.done;$jscomp$key$condition=$jscomp$iter$138.next()){var condition=$jscomp$key$condition.value;if(condition.hasOwnProperty("paramName")){if(!this.isParamEnabled(condition.paramName))return!1}else if(condition.hasOwnProperty("paramCondition")){if(!this.evalParamCondition(condition.paramCondition))return!1}else return!1}return!0};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.evalEnablingConditions=function(item){if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasEnablingConditions(item))return!0;for(var i=0;i<item.enablingCondition.length;i++)if(this.evalParamCondition(item.enablingCondition[i]))return!0;return!1};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.evalParamCondition=function(condition){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_evalParamCondition(condition,this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.updateInitialValueMap=function(paramInstanceMap){this.initialValueMap||(this.initialValueMap=module$exports$google3$third_party$javascript$typings$angular$index.copy(paramInstanceMap));return this};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getInitialParamValue=function(paramName,ignoreHiddenParam){return this.getParamValueFromMap(this.initialValueMap||{},paramName,ignoreHiddenParam)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getParamValue=function(paramName,ignoreHiddenParam){return this.getParamValueFromMap(this.paramInstanceMap,paramName,ignoreHiddenParam)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getParamValueFromMap=function(paramMapToUse,paramName,ignoreHiddenParam){if(!this.params.has(paramName))return null;var param=this.params.get(paramName);if(10===param.type||2===param.type){if(ignoreHiddenParam)return null;var JSCompiler_inline_result=2===param.type&&param.hiddenParamValue&&1===param.hiddenParamValue.type&&param.hiddenParamValue.arg&&1===param.hiddenParamValue.arg.length?
param.hiddenParamValue.arg[0]:void 0;return null!=JSCompiler_inline_result?JSCompiler_inline_result:null}var value=paramMapToUse.hasOwnProperty(paramName)?paramMapToUse[paramName].value:null;if(!value)return null;switch(param.type){case 4:if(1===value.type&&!value.string&&!param.canBeEmptyString)return null;break;case 8:case 9:if(2===value.type&&value.listItem&&0===value.listItem.length&&!param.canBeEmptyTable)return null}return value};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getAvailableParamInstances=function(defaultValueMap){for(var result=[],JSCompiler_inline_result,result$jscomp$0=[],$jscomp$inline_755=$jscomp$makeIterator(this.template.param),$jscomp$key$param=$jscomp$inline_755.next();!$jscomp$key$param.done;$jscomp$key$param=$jscomp$inline_755.next()){var param=$jscomp$key$param.value;result$jscomp$0.push(param);result$jscomp$0=
result$jscomp$0.concat(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager_getAllSubParams(param))}JSCompiler_inline_result=result$jscomp$0;for(var i=0;i<JSCompiler_inline_result.length;i++){var paramName=JSCompiler_inline_result[i].name;if(this.paramInstanceMap.hasOwnProperty(paramName)&&this.isParamEnabled(paramName)){var value=this.getParamValue(paramName,!0);value&&(!JSCompiler_inline_result[i].alwaysInSummary&&defaultValueMap&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(value,
defaultValueMap[paramName])||result.push({key:paramName,value:value}))}}return result};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getPendingCacheClear=function(){return this.pendingCacheClear};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager.prototype.getInternalState=function(){return{dynamicTextCache:this.displayTextDynamicCache,constantTextCache:this.displayTextConstCache}};
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager_getAllSubParams(param){var result=[];if(param.subParam)for(var $jscomp$iter$141=$jscomp$makeIterator(param.subParam),$jscomp$key$subParam=$jscomp$iter$141.next();!$jscomp$key$subParam.done;$jscomp$key$subParam=$jscomp$iter$141.next()){var subParam=$jscomp$key$subParam.value;result.push(subParam);for(var $jscomp$iter$140=$jscomp$makeIterator(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager_getAllSubParams(subParam)),
$jscomp$key$p=$jscomp$iter$140.next();!$jscomp$key$p.done;$jscomp$key$p=$jscomp$iter$140.next())result.push($jscomp$key$p.value)}if(6===param.type&&param.radioItem)for(var $jscomp$iter$144=$jscomp$makeIterator(param.radioItem),$jscomp$key$item=$jscomp$iter$144.next();!$jscomp$key$item.done;$jscomp$key$item=$jscomp$iter$144.next()){var item=$jscomp$key$item.value;if(item.subParam){var $jscomp$iter$143=$jscomp$makeIterator(item.subParam);for($jscomp$key$subParam=$jscomp$iter$143.next();!$jscomp$key$subParam.done;$jscomp$key$subParam=
$jscomp$iter$143.next()){var subParam$233=$jscomp$key$subParam.value;result.push(subParam$233);var $jscomp$iter$142=$jscomp$makeIterator(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager_getAllSubParams(subParam$233));for($jscomp$key$p=$jscomp$iter$142.next();!$jscomp$key$p.done;$jscomp$key$p=$jscomp$iter$142.next())result.push($jscomp$key$p.value)}}}return result};var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_group_component_GroupController=function(){this.isZippyOpen=this.hasZippy=this.useCustomUi=!1};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_group_component_GroupController.prototype.$onInit=function(){var $jscomp$optchain$tmpm1930314569$0;switch(null==($jscomp$optchain$tmpm1930314569$0=this.param)?void 0:$jscomp$optchain$tmpm1930314569$0.groupStyle){case 3:this.hasZippy=!0;break;case 2:this.isZippyOpen=this.hasZippy=!0;break;case 4:this.hasZippy=!0;for(var subParams=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager_getAllSubParams(this.param),
$jscomp$iter$145=$jscomp$makeIterator(subParams),$jscomp$key$subParam=$jscomp$iter$145.next();!$jscomp$key$subParam.done;$jscomp$key$subParam=$jscomp$iter$145.next()){var subParamName=$jscomp$key$subParam.value.name;if(this.instance.paramMap.hasOwnProperty(subParamName)&&this.paramDepsManager.isParamEnabled(subParamName)&&!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(this.instance.defaultValueMap[subParamName],this.instance.paramMap[subParamName].value)){this.isZippyOpen=
!0;break}}break;case 5:this.useCustomUi=!0}};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_group_component_GroupController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_group_component_GroupController.prototype.$onInit;
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_group_component$vtGroupComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_group_component_GroupController,controllerAs:"ctrl",bindings:{helper:"=",paramName:"=",param:"=",instance:"=",paramDepsManager:"=",instanceFieldName:"@"},templateUrl:"/ctui/vendortemplate/display/vt_group_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_icon_component_VtIconController=function(){this.hasIcon=this.isLoaded=!1;this.iconContent=""};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_icon_component_VtIconController.prototype.$onInit=function(){if(this.template)if(this.isLoaded=!0,this.hasIcon=!!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(this.template,"brand.thumbnail")){var brand=this.template.brand;this.iconContent=(null==brand?0:brand.thumbnail)?module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getThumbnailUrl(brand.thumbnail):
""}else{var brandNameLetter=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(this.template,"brand.displayName.text[0].value[0]",""),displayNameLetter=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(this.template,"displayName.text[0].value[0]","");this.iconContent=brandNameLetter||displayNameLetter}};
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_icon_component$vtIconComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_icon_component_VtIconController,bindings:{template:"<?"},template:'\n    <div ng-if="$ctrl.isLoaded">\n      <img class="template-thumbnail"\n          data-ng-if="$ctrl.hasIcon"\n          data-ng-src="{{::$ctrl.iconContent}}"/>\n      <div class="gtm-initials-icon-small square blue"\n          data-ng-if="!$ctrl.hasIcon">\n        {{::$ctrl.iconContent}}\n      </div>\n    </div>'};function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_instance_directive_vtInstanceDirective($compile,$window){return{restrict:"AE",scope:{helper:"=",instanceFieldName:"@"},link:function(scope$jscomp$0,element){if($window.document.body.contains(element[0])){var realScope,changeWatcher=function(newValue,oldValue){if(newValue!==oldValue){realScope&&realScope.$destroy();var scope=realScope=scope$jscomp$0.$new(!1);scope.params=scope.helper.getSubParams();
element.html('<vt-params\n              data-helper="::helper"\n              data-params="::params"\n              data-instance-field-name="{{instanceFieldName}}">\n            </vt-params>');$compile(element.contents())(scope)}};changeWatcher(!0,!1);scope$jscomp$0.$watch("helper.template",changeWatcher);scope$jscomp$0.$watch("helper.instance",changeWatcher)}}}}
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_instance_directive_vtInstanceDirective.$inject=["$compile","$window"];var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController=function(vtSuggestionService){this.vtSuggestionService=vtSuggestionService;this.displayStyles={};this.suggestions=[]};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.$onInit=function(){this.getSuggestions();this.setupListener();this.param.displayStyle&&(this.displayStyles=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDisplayStyleSet(this.param.displayStyle));this.param.notSetText&&(this.notSetText=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getNotSetText(this.param))};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.$onDestroy=function(){var $jscomp$optchain$tmp852722176$1;null==($jscomp$optchain$tmp852722176$1=this.suggestionUpdateListener)||$jscomp$optchain$tmp852722176$1.call(this)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.getSuggestions=function(){var $jscomp$this=this;this.vtSuggestionService.getSuggestions(this.param,this.helper).then(function(suggestions){$jscomp$this.suggestions=suggestions})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.setupListener=function(){var $jscomp$this=this;this.suggestionUpdateListener=this.vtSuggestionService.setupListener(this.param,this.helper,function(){$jscomp$this.getSuggestions()})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.shouldShowNotSetText=function(){var $jscomp$optchain$tmp852722176$2,$jscomp$optchain$tmp852722176$3;return this.notSetText&&!(null==($jscomp$optchain$tmp852722176$2=this.paramInstance.value)?0:null==($jscomp$optchain$tmp852722176$3=$jscomp$optchain$tmp852722176$2.listItem)?0:$jscomp$optchain$tmp852722176$3.length)};
$jscomp$global.Object.defineProperties(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype,{paramInstance:{configurable:!0,enumerable:!0,get:function(){return this.helper.getParam(this.param.name)}}});module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.shouldShowNotSetText=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.shouldShowNotSetText;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.$onDestroy=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.$onDestroy;module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.prototype.$onInit;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController.$inject=["vtSuggestionService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component$vtMultiSelectComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component_MultiSelectController,controllerAs:"ctrl",bindings:{fieldPathName:"@",helper:"<",instanceFieldName:"@",param:"="},templateUrl:"/ctui/vendortemplate/display/vt_multi_select_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow=function($q,clickCallbackMetadata,columns,vtInstanceHelper,id,paramDesc,valueRowIndex,value,vtSuggestionService,columnSuggestionState){this.$q=$q;this.columns=columns;this.vtInstanceHelper=vtInstanceHelper;this.id=id;this.paramDesc=paramDesc;this.valueRowIndex=valueRowIndex;this.vtSuggestionService=vtSuggestionService;this.columnSuggestionState=columnSuggestionState;this.textWatcherCache=
new Map;this.suggestionMap=new Map;this.deferred=this.$q.defer();this.isFirstLoad=!0;this.cellClickCallbacks=this.initializeCellClickCallbacks(clickCallbackMetadata);for(var valueMap={},i=0;i<value.mapKey.length;i++)valueMap[value.mapKey[i].string]=value.mapValue[i];this.values=valueMap;this.initialValues=module$exports$google3$third_party$javascript$typings$angular$index.copy(this.values);this.initializeSuggestions();this.setupParamListenerForSuggestions()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.destroy=function(){var $jscomp$optchain$tmpm1235256322$1;null==($jscomp$optchain$tmpm1235256322$1=this.suggestionUpdateListener)||$jscomp$optchain$tmpm1235256322$1.call(this)};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.isReady=function(){return this.deferred.promise};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.setupParamListenerForSuggestions=function(){var $jscomp$this=this;if(this.columnSuggestionState.thisRowReferences.size){for(var debouncedListener=_.debounce(function(paramNames){if(paramNames){var paramName=Array.isArray(paramNames)?paramNames[0]:paramNames,cols=new Set,$jscomp$destructuring$var35=$jscomp$makeIterator(paramName.split(".")),idOrRef__tsickle_destructured_1=
$jscomp$destructuring$var35.next().value,colName__tsickle_destructured_2=$jscomp$destructuring$var35.next().value;colName__tsickle_destructured_2&&$jscomp$this.id===idOrRef__tsickle_destructured_1&&$jscomp$this.columnSuggestionState.thisRowReferences.has(colName__tsickle_destructured_2)?cols=$jscomp$this.columnSuggestionState.thisRowReferences.get(colName__tsickle_destructured_2):$jscomp$this.columnSuggestionState.otherReferences.has(paramName)&&(cols=$jscomp$this.columnSuggestionState.otherReferences.get(paramName));
$jscomp$this.initializeSuggestions(cols)}},200),referenceMap={},$jscomp$iter$146=$jscomp$makeIterator(this.columnSuggestionState.thisRowReferences.keys()),$jscomp$key$colName=$jscomp$iter$146.next();!$jscomp$key$colName.done;$jscomp$key$colName=$jscomp$iter$146.next())referenceMap[this.addIdToColReference($jscomp$key$colName.value)]=!0;for(var $jscomp$iter$147=$jscomp$makeIterator(this.columnSuggestionState.otherReferences.keys()),$jscomp$key$otherRef=$jscomp$iter$147.next();!$jscomp$key$otherRef.done;$jscomp$key$otherRef=
$jscomp$iter$147.next())referenceMap[$jscomp$key$otherRef.value]=!0;this.suggestionUpdateListener=this.vtInstanceHelper.paramDepsManager.addChangeListener(this.columns[0],debouncedListener,referenceMap)}};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.initializeSuggestions=function(colNames){var $jscomp$this=this;if(this.columnSuggestionState.thisRowReferences.size||this.columnSuggestionState.hasLegacy){var columns=this.columns;colNames&&(columns=columns.filter(function(column){return colNames.has(column.name)}));columns.length&&this.vtSuggestionService.getSuggestionsForColumns(columns,this.vtInstanceHelper,this).then(function(suggestions){for(var $jscomp$iter$148=
$jscomp$makeIterator(suggestions),$jscomp$key$=$jscomp$iter$148.next();!$jscomp$key$.done;$jscomp$key$=$jscomp$iter$148.next()){var $jscomp$destructuring$var37=$jscomp$makeIterator($jscomp$key$.value),key__tsickle_destructured_3=$jscomp$destructuring$var37.next().value,val__tsickle_destructured_4=$jscomp$destructuring$var37.next().value;$jscomp$this.suggestionMap.set(key__tsickle_destructured_3,val__tsickle_destructured_4)}$jscomp$this.isFirstLoad&&($jscomp$this.isFirstLoad=!1,$jscomp$this.deferred.resolve())})}else this.deferred.resolve()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.getParamValue=function(paramName){if(this.isTableCellSelector(paramName)){var colName=paramName.split(".")[1];if(colName&&this.values[colName])return this.values[colName]}return this.vtInstanceHelper.getParamValue(paramName)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.getInitialParamValue=function(paramName){return this.initialValues[paramName]?this.initialValues[paramName]:this.vtInstanceHelper.getInitialParamValue(paramName)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.isParamEnabled=function(paramName){if(this.isTableCellSelector(paramName)){var $jscomp$optchain$tmpm1235256322$2,$jscomp$nullish$tmp50;paramName=null!=($jscomp$nullish$tmp50=null==($jscomp$optchain$tmpm1235256322$2=this.paramDesc)?void 0:$jscomp$optchain$tmpm1235256322$2.name)?$jscomp$nullish$tmp50:""}return!!this.vtInstanceHelper.isParamEnabled(paramName)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.getText=function(text){return this.getCachedText(text).cachedValue};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.getCachedText=function(text){return this.vtInstanceHelper.getCachedText(text,this)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.setCellValue=function(colName,value){module$exports$google3$third_party$javascript$typings$angular$index.copy(value,this.values[colName])};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.getSuggestions=function(colName){this.suggestionMap.has(colName)||this.suggestionMap.set(colName,[]);return this.suggestionMap.get(colName)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.isItemEnabled=function(item){return!!this.vtInstanceHelper.isItemEnabled(item,this)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.getReferences=function(refs){for(var newRefs={},$jscomp$iter$149=$jscomp$makeIterator(Object.keys(refs)),$jscomp$key$key=$jscomp$iter$149.next();!$jscomp$key$key.done;$jscomp$key$key=$jscomp$iter$149.next()){var key=$jscomp$key$key.value;this.isTableCellSelector(key)?newRefs[this.addIdToColReference(key.split(".")[1])]=!0:newRefs[key]=!0}return newRefs};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.addIdToColReference=function(colName){return this.id+"."+colName};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.isTableCellSelector=function(paramName){return paramName.startsWith("_thisRow.")};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow.prototype.initializeCellClickCallbacks=function(clickCallbackMetadata){for(var $jscomp$this=this,callbacks={},$jscomp$loop$249={},$jscomp$iter$150=$jscomp$makeIterator(this.columns),$jscomp$key$column=$jscomp$iter$150.next();!$jscomp$key$column.done;$jscomp$loop$249={$jscomp$loop$prop$metadata$250:$jscomp$loop$249.$jscomp$loop$prop$metadata$250,$jscomp$loop$prop$colName$251:$jscomp$loop$249.$jscomp$loop$prop$colName$251},
$jscomp$key$column=$jscomp$iter$150.next())$jscomp$loop$249.$jscomp$loop$prop$colName$251=$jscomp$key$column.value.name,$jscomp$loop$249.$jscomp$loop$prop$metadata$250=clickCallbackMetadata.get($jscomp$loop$249.$jscomp$loop$prop$colName$251),callbacks[$jscomp$loop$249.$jscomp$loop$prop$colName$251]=$jscomp$loop$249.$jscomp$loop$prop$metadata$250?{iconClass:$jscomp$loop$249.$jscomp$loop$prop$metadata$250.iconClass,callback:function($jscomp$loop$249){return function(){$jscomp$loop$249.$jscomp$loop$prop$metadata$250.callback().then(function(suggestion){var $jscomp$optchain$tmpm1235256322$3,
oldValue=(null==($jscomp$optchain$tmpm1235256322$3=$jscomp$this.values[$jscomp$loop$249.$jscomp$loop$prop$colName$251])?void 0:$jscomp$optchain$tmpm1235256322$3.string)||"";$jscomp$this.setCellValue($jscomp$loop$249.$jscomp$loop$prop$colName$251,module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(oldValue+suggestion.displayValue))}).catch(function(){})}}($jscomp$loop$249)}:{};return callbacks};
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper=function($q,paramDesc,helper,vtSuggestionService,clickCallbackMetadata){var $jscomp$this=this;clickCallbackMetadata=void 0===clickCallbackMetadata?new Map:clickCallbackMetadata;this.$q=$q;this.paramDesc=paramDesc;this.helper=helper;this.vtSuggestionService=vtSuggestionService;this.clickCallbackMetadata=clickCallbackMetadata;this.columnLookup=new Map;this.rowLookup=new Map;this.suggestions=
new Map;this.canAddRow=!0;this.columns=[];this.rows=[];this.guidSeed=0;this.updateParam(paramDesc);this.fetchSuggestions().then(function(){var param=$jscomp$this.helper.getParam(paramDesc.name);$jscomp$this.setValue(param.value)});this.setupListener()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.destroy=function(){for(var $jscomp$iter$151=$jscomp$makeIterator(this.rowLookup.values()),$jscomp$key$row=$jscomp$iter$151.next();!$jscomp$key$row.done;$jscomp$key$row=$jscomp$iter$151.next())$jscomp$key$row.value.destroy();var $jscomp$optchain$tmpm1235256322$5;null==($jscomp$optchain$tmpm1235256322$5=this.suggestionUpdateListener)||$jscomp$optchain$tmpm1235256322$5.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.updateParam=function(paramDesc){var $jscomp$this=this,isSimpleTableParam=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isSimpleTable(paramDesc);this.paramDesc=paramDesc;this.columnLookup=new Map;this.columns=isSimpleTableParam?this.paramDesc.simpleTableColumn:this.paramDesc.paramTableColumn.map(function(col){return col.param});
this.columnSuggestionState=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_getColumnSuggestionState(this.columns);for(var $jscomp$iter$152=$jscomp$makeIterator(this.columns),$jscomp$key$col=$jscomp$iter$152.next();!$jscomp$key$col.done;$jscomp$key$col=$jscomp$iter$152.next()){var col$jscomp$0=$jscomp$key$col.value;this.columnLookup.set(col$jscomp$0.name,col$jscomp$0)}var $jscomp$optchain$tmpm1235256322$6,$jscomp$optchain$tmpm1235256322$7,
maxCountValue=null==($jscomp$optchain$tmpm1235256322$6=paramDesc.valueValidator)?void 0:null==($jscomp$optchain$tmpm1235256322$7=$jscomp$optchain$tmpm1235256322$6.find(function(validator){return(!$jscomp$this.helper.paramDepsManager||$jscomp$this.helper.paramDepsManager.isItemEnabled(validator))&&11===validator.type}))?void 0:$jscomp$optchain$tmpm1235256322$7.arg[1];this.maxRowCount=maxCountValue?Number(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(maxCountValue)):
void 0;this.updateIfCanAddRow()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.setupListener=function(){var $jscomp$this=this;if(this.columnSuggestionState&&this.columnSuggestionState.otherReferences.size){for(var referenceMap={},$jscomp$iter$153=$jscomp$makeIterator(this.columnSuggestionState.otherReferences.keys()),$jscomp$key$key=$jscomp$iter$153.next();!$jscomp$key$key.done;$jscomp$key$key=$jscomp$iter$153.next())referenceMap[$jscomp$key$key.value]=!0;
var debouncedListener=_.debounce(function(paramNames){if(paramNames){var paramName=Array.isArray(paramNames)?paramNames[0]:paramNames;if($jscomp$this.columnSuggestionState.otherReferences.has(paramName)){var cols=$jscomp$this.columnSuggestionState.otherReferences.get(paramName);$jscomp$this.fetchSuggestions(cols)}}},200);this.suggestionUpdateListener=this.helper.paramDepsManager.addChangeListener(this.columns[0],debouncedListener,referenceMap)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.fetchSuggestions=function(colNames){var $jscomp$this=this,columns=this.columns;colNames&&(columns=this.columns.filter(function(col){return colNames.has(col.name)}));return columns.length?this.vtSuggestionService.getSuggestionsForColumns(columns,this.helper).then(function(suggestions){for(var $jscomp$iter$154=$jscomp$makeIterator(suggestions),$jscomp$key$=$jscomp$iter$154.next();!$jscomp$key$.done;$jscomp$key$=
$jscomp$iter$154.next()){var $jscomp$destructuring$var39=$jscomp$makeIterator($jscomp$key$.value),key__tsickle_destructured_5=$jscomp$destructuring$var39.next().value,val__tsickle_destructured_6=$jscomp$destructuring$var39.next().value;$jscomp$this.suggestions.set(key__tsickle_destructured_5,val__tsickle_destructured_6)}}):this.$q.when()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.setValue=function(value){if(void 0===value||null===value)value=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newList();this.rows=[];this.updateIfCanAddRow();this.tableValue=value;this.rowLookup.clear();for(var i=0;i<value.listItem.length;i++)value.listItem[i]||(value.listItem[i]=this.createDefaultRowValue()),this.addInternalRow(value.listItem[i],
i)};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getValue=function(){return this.tableValue};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getSuggestions=function(colName,rowId){return this.columnSuggestionState&&(this.columnSuggestionState.hasLegacy||0<this.columnSuggestionState.thisRowReferences.size)?this.rowLookup.get(rowId).getSuggestions(colName):this.getSuggestionFromTable(colName)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getSuggestionFromTable=function(colName){this.suggestions.has(colName)||this.suggestions.set(colName,[]);return this.suggestions.get(colName)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.removeRow=function(id){var row$jscomp$0=this.rowLookup.get(id);if(row$jscomp$0){row$jscomp$0.destroy();this.rowLookup.delete(id);var removeRowIndex=this.rows.findIndex(function(row){return row.id===id}),valueRowIndex=this.rows[removeRowIndex].valueRowIndex;this.rows.splice(removeRowIndex,1);this.updateIfCanAddRow();var $jscomp$optchain$tmpm1235256322$8;null==($jscomp$optchain$tmpm1235256322$8=
this.tableValue)||$jscomp$optchain$tmpm1235256322$8.listItem.splice(valueRowIndex,1);for(var i=removeRowIndex;i<this.rows.length;i++)this.rows[i].valueRowIndex--}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.addRow=function(row){row=void 0===row?this.createDefaultRowValue():row;var $jscomp$optchain$tmpm1235256322$9;null==($jscomp$optchain$tmpm1235256322$9=this.tableValue)||$jscomp$optchain$tmpm1235256322$9.listItem.push(row);this.updateIfCanAddRow(this.rows.length+1);return this.addInternalRow(row)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getRow=function(id){return this.rowLookup.get(id)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.setRowForInstance=function(id,helper){var $jscomp$this=this,row=void 0;null==id&&(row=this.addRow(),id=row.id);(row?row.isReady():this.$q.when()).then(function(){for(var $jscomp$optchain$tmpm1235256322$10,$jscomp$iter$155=$jscomp$makeIterator((null==($jscomp$optchain$tmpm1235256322$10=helper.instance)?void 0:$jscomp$optchain$tmpm1235256322$10.param)||[]),$jscomp$key$param=
$jscomp$iter$155.next();!$jscomp$key$param.done;$jscomp$key$param=$jscomp$iter$155.next()){var param=$jscomp$key$param.value;param&&param.key&&param.value&&$jscomp$this.setCellValue(id,param.key,param.value)}})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getRowAsInstance=function(id){if(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isParamTable(this.paramDesc)){var template={param:[],publicId:"temp-id"},$jscomp$optchain$tmpm1235256322$11;template.type=null==($jscomp$optchain$tmpm1235256322$11=this.helper.getTemplate())?void 0:$jscomp$optchain$tmpm1235256322$11.type;
for(var $jscomp$iter$156=$jscomp$makeIterator(this.columns),$jscomp$key$col=$jscomp$iter$156.next();!$jscomp$key$col.done;$jscomp$key$col=$jscomp$iter$156.next())template.param.push($jscomp$key$col.value);for(var instance={param:[],key:{publicId:"temp-id"}},row=id?this.rowLookup.get(id):void 0,$jscomp$iter$157=$jscomp$makeIterator(Object.entries((null==row?void 0:row.values)||{})),$jscomp$key$=$jscomp$iter$157.next();!$jscomp$key$.done;$jscomp$key$=$jscomp$iter$157.next()){var $jscomp$destructuring$var42=
$jscomp$makeIterator($jscomp$key$.value),key__tsickle_destructured_7=$jscomp$destructuring$var42.next().value,value__tsickle_destructured_8=$jscomp$destructuring$var42.next().value;instance.param.push({key:key__tsickle_destructured_7,value:module$exports$google3$third_party$javascript$typings$angular$index.copy(value__tsickle_destructured_8)})}return this.helper.getNestedHelper().setTemplate(template).setInstance(instance)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getCellValue=function(id,name){var $jscomp$optchain$tmpm1235256322$13;return null==($jscomp$optchain$tmpm1235256322$13=this.rowLookup.get(id))?void 0:$jscomp$optchain$tmpm1235256322$13.values[name]};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getCellReadOnlyValue=function(id,name){var row=this.rowLookup.get(id),col=this.columnLookup.get(name);if(!col||!row)return"";var rowValue=row.values[name];if(1===col.type||4===col.type)return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringifyValue(rowValue);if(2===col.type||5===col.type)for(var $jscomp$nullish$tmp51,$jscomp$iter$158=
$jscomp$makeIterator(null!=($jscomp$nullish$tmp51=this.getSuggestions(name,id))?$jscomp$nullish$tmp51:[]),$jscomp$key$suggestion=$jscomp$iter$158.next();!$jscomp$key$suggestion.done;$jscomp$key$suggestion=$jscomp$iter$158.next()){var suggestion=$jscomp$key$suggestion.value;if(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(row.values[name],suggestion.value))return suggestion.displayValue}return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_toDisplayString(rowValue)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.setCellValue=function(id,name,value){var row=this.rowLookup.get(id);row&&row.setCellValue(name,value)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.createDefaultRowValue=function(){var $jscomp$this=this,defaultRow=this.columns.map(function(col){return[module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(col.name),$jscomp$this.getDefaultValue(col)]});return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newMap(defaultRow.flat())};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.addInternalRow=function(value,index){var $jscomp$this=this;if(value){var id=this.generateGuid();null!=index||(index=this.rows.length);var internalRow=new module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_SimpleRow(this.$q,this.clickCallbackMetadata,this.columns,this.helper,id,this.paramDesc,index,value,this.vtSuggestionService,
this.columnSuggestionState);internalRow.isReady().then(function(){$jscomp$this.rows.push(internalRow);$jscomp$this.updateIfCanAddRow();$jscomp$this.rowLookup.set(internalRow.id,internalRow)});return internalRow}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getDefaultValue=function(col){if(col.defaultValue)return module$exports$google3$third_party$javascript$typings$angular$index.copy(col.defaultValue);var defaultVal=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString("");if(1===col.type||4===col.type)return defaultVal;if(2===col.type||5===col.type){var dynamicSuggestions=this.getSuggestionFromTable(col.name),
$jscomp$nullish$tmp53,staticSuggestions=null!=($jscomp$nullish$tmp53=col.suggestedValue)?$jscomp$nullish$tmp53:[],$jscomp$optchain$tmpm1235256322$14,$jscomp$optchain$tmpm1235256322$15,$jscomp$nullish$tmp54,suggestionDefault=null!=($jscomp$nullish$tmp54=null==($jscomp$optchain$tmpm1235256322$14=dynamicSuggestions[0])?void 0:$jscomp$optchain$tmpm1235256322$14.value)?$jscomp$nullish$tmp54:null==($jscomp$optchain$tmpm1235256322$15=staticSuggestions[0])?void 0:$jscomp$optchain$tmpm1235256322$15.value,
$jscomp$nullish$tmp55;return null!=($jscomp$nullish$tmp55=module$exports$google3$third_party$javascript$typings$angular$index.copy(suggestionDefault))?$jscomp$nullish$tmp55:defaultVal}if(3===col.type||13===col.type)return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newList();if(col.name){var $jscomp$nullish$tmp56;return null!=($jscomp$nullish$tmp56=this.helper.getParamDefaultValue(col.name))?$jscomp$nullish$tmp56:defaultVal}return defaultVal};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.updateIfCanAddRow=function(length){length=void 0===length?this.rows.length:length;this.canAddRow=!this.maxRowCount||this.maxRowCount>length};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.generateGuid=function(){return"rg:"+ ++this.guidSeed};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getCellReadOnlyValue=module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getCellReadOnlyValue;module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.setRowForInstance=module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.setRowForInstance;
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getSuggestions=module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper.prototype.getSuggestions;
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper_getColumnSuggestionState(columns){for(var thisRowReferences=new Map,otherReferences=new Map,returnVal={thisRowReferences:thisRowReferences,otherReferences:otherReferences},$jscomp$iter$160=$jscomp$makeIterator(columns),$jscomp$key$column=$jscomp$iter$160.next();!$jscomp$key$column.done;$jscomp$key$column=$jscomp$iter$160.next()){var column=$jscomp$key$column.value,suggestionState=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getSuggestionState(column);
suggestionState.hasLegacy&&(returnVal.hasLegacy=!0);for(var $jscomp$iter$159=$jscomp$makeIterator(Object.keys(suggestionState.references)),$jscomp$key$refParamName=$jscomp$iter$159.next();!$jscomp$key$refParamName.done;$jscomp$key$refParamName=$jscomp$iter$159.next()){var refParamName=$jscomp$key$refParamName.value;if(refParamName.startsWith("_thisRow.")){var paramName=refParamName.split(".")[1],colName=column.name;thisRowReferences.has(paramName)||thisRowReferences.set(paramName,new Set);thisRowReferences.get(paramName).add(colName)}else{var colName$jscomp$0=
column.name;otherReferences.has(refParamName)||otherReferences.set(refParamName,new Set);otherReferences.get(refParamName).add(colName$jscomp$0)}}}return returnVal};var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController=function($q,sheetService,vtSuggestionService){this.$q=$q;this.sheetService=sheetService;this.vtSuggestionService=vtSuggestionService;this.hasTableHeaders=this.editingRow=!1;this.tableHeaders=[]};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.$onInit=function(){var $jscomp$this=this;this.initializeTableHeaders();this.tableHelper=new module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper(this.$q,this.param,this.helper,this.vtSuggestionService);this.fieldChangeListener=this.helper.addFieldModificationListener(this.instanceFieldName,
function(){if($jscomp$this.tableHelper){var param=$jscomp$this.helper.getParam($jscomp$this.param.name);$jscomp$this.tableHelper.setValue(param.value)}})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.$onDestroy=function(){var $jscomp$optchain$tmpm197652934$0;null==($jscomp$optchain$tmpm197652934$0=this.tableHelper)||$jscomp$optchain$tmpm197652934$0.destroy();var $jscomp$optchain$tmpm197652934$2;null==($jscomp$optchain$tmpm197652934$2=this.fieldChangeListener)||$jscomp$optchain$tmpm197652934$2.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.initializeTableHeaders=function(){for(var $jscomp$iter$161=$jscomp$makeIterator(this.param.paramTableColumn||[]),$jscomp$key$col=$jscomp$iter$161.next();!$jscomp$key$col.done;$jscomp$key$col=$jscomp$iter$161.next()){var col=$jscomp$key$col.value,headerText=void 0,$jscomp$optchain$tmpm197652934$3=void 0;if(null==($jscomp$optchain$tmpm197652934$3=col.param)?
0:$jscomp$optchain$tmpm197652934$3.summaryDisplayName)headerText=col.param.summaryDisplayName;else{var $jscomp$optchain$tmpm197652934$4=void 0;if(null==($jscomp$optchain$tmpm197652934$4=col.param)?0:$jscomp$optchain$tmpm197652934$4.displayName)headerText=col.param.displayName;else{var $jscomp$optchain$tmpm197652934$5=void 0,$jscomp$optchain$tmpm197652934$6=void 0;7===(null==($jscomp$optchain$tmpm197652934$5=col.param)?void 0:$jscomp$optchain$tmpm197652934$5.type)&&(null==($jscomp$optchain$tmpm197652934$6=
col.param)?0:$jscomp$optchain$tmpm197652934$6.checkboxText)&&(headerText=col.param.checkboxText)}}var textValue=this.helper.getText(headerText);this.hasTableHeaders=this.hasTableHeaders||!!textValue;this.tableHeaders.push(textValue)}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.openRowEditor=function(rowId){var $jscomp$this=this;if(!this.editingRow){this.editingRow=!0;var inCreateMode=void 0===rowId,rowFieldName=this.instanceFieldName+".param."+this.param.name+"."+(rowId||this.tableHelper.rows.length),$jscomp$optchain$tmpm197652934$7,context={helper:null==($jscomp$optchain$tmpm197652934$7=this.tableHelper)?void 0:$jscomp$optchain$tmpm197652934$7.getRowAsInstance(rowId),
inCreateMode:inCreateMode,instanceFieldName:rowFieldName,param:this.param};this.sheetService.display({context:context,maxWidth:module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.MAX_WIDTH_SMALL,template:'<vt-param-table-row-editor\n        data-helper="helper"\n        data-in-create-mode="inCreateMode"\n        data-instance-field-name="instanceFieldName"\n        data-param="param"\n        data-row="row">\n    </vt-param-table-row-editor>'}).then(function(helper){var $jscomp$optchain$tmpm197652934$8;
null==($jscomp$optchain$tmpm197652934$8=$jscomp$this.tableHelper)||$jscomp$optchain$tmpm197652934$8.setRowForInstance(rowId,helper);$jscomp$this.formController&&$jscomp$this.formController.$setDirty()}).catch(module$exports$google3$third_party$javascript$typings$angular$index.noop).finally(function(){$jscomp$this.editingRow=!1})}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.deleteRow=function(rowId){if(!this.editingRow){var $jscomp$optchain$tmpm197652934$9;null==($jscomp$optchain$tmpm197652934$9=this.tableHelper)||$jscomp$optchain$tmpm197652934$9.removeRow(rowId);this.formController&&this.formController.$setDirty()}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.getNotSetText=function(){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getNotSetText(this.param)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.getRowFieldPathName=function(rowIndex,columnName){return this.fieldPathName+"."+rowIndex+"."+columnName};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.getRowFieldPathName=module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.getRowFieldPathName;
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.getNotSetText=module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.getNotSetText;module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.deleteRow=module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.deleteRow;
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.openRowEditor=module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.prototype.openRowEditor;module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController.$inject=["$q","sheetService","vtSuggestionService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$vtParamTableComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$ParamTableController,controllerAs:"ctrl",require:{formController:"?^form"},bindings:{helper:"<",param:"=",instance:"=",instanceFieldName:"@",fieldPathName:"@"},templateUrl:"/ctui/vendortemplate/display/vt_param_table_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor=function(sheetService){this.sheetService=sheetService};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.$onInit=function(){};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.editingWebPermission=function(){return 0<=this.instanceFieldName.indexOf("___WEB_PERMISSIONS___")};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.save=function(){this.sheetService.resolve(this.helper)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.cancel=function(){this.sheetService.reject()};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.cancel=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.cancel;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.save=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.save;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.editingWebPermission=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.prototype.editingWebPermission;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor.$inject=["sheetService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component$vtParamTableRowEditorComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component_ParamTableRowEditor,controllerAs:"ctrl",bindings:{helper:"<",inCreateMode:"<",instanceFieldName:"@",param:"="},templateUrl:"/ctui/vendortemplate/display/vt_param_table_row_editor_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_params_directive_PARAM_NAME_INVALID_SEQUENCES=/&(?! )|\{|\}|\\|;|"|'|`|</,module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_params_directive_SPACES_REGEX=/\s+/;
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_params_directive_vtParamsDirective($compile){var renderedComponentsByParamType=new Map([[11,"vt-entity-picker"],[7,"vt-checkbox"],[1,"vt-group"],[3,"vt-label"],[13,"vt-multi-select"],[9,"vt-param-table"],[6,"vt-radio"],[5,"vt-select"],[8,"vt-simple-table"],[4,"vt-text"]]);return{restrict:"AE",scope:{helper:"=",params:"=",instanceFieldName:"@"},link:function(scope,element){for(var index=0;index<
scope.params.length;index++){var param=scope.params[index];if(renderedComponentsByParamType.has(param.type)&&!module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_params_directive_PARAM_NAME_INVALID_SEQUENCES.test(param.name)&&scope.helper.paramDepsManager.mayParamBeEnabled(param.name)&&(!param.isLegacy||scope.helper.paramDepsManager.getParamValue(param.name))){var componentName=renderedComponentsByParamType.get(param.type),paramEl=document.createElement(componentName);
paramEl.setAttribute("data-ng-show","helper.paramDepsManager.isParamEnabled(params["+index+"].name)");paramEl.setAttribute("data-helper","helper");paramEl.setAttribute("data-param-name","'"+param.name+"'");paramEl.setAttribute("data-param","params["+index+"]");paramEl.setAttribute("data-instance","helper.instance");paramEl.setAttribute("data-param-deps-manager","helper.paramDepsManager");paramEl.setAttribute("data-instance-field-name","{{instanceFieldName}}");paramEl.setAttribute("data-field-path-name",
scope.instanceFieldName+".param."+param.name);param.cssClass&&paramEl.classList.add.apply(paramEl.classList,$jscomp$arrayFromIterable(param.cssClass.trim().split(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_params_directive_SPACES_REGEX)));var paramClassName=scope.helper.getClassName(param.name);paramEl.classList.add(paramClassName);element.append(paramEl)}}$compile(element.contents())(scope)}}}
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_params_directive_vtParamsDirective.$inject=["$compile"];var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_radio_component_RadioController=function(){var $jscomp$this=this;this.radioValues=[];this.hasSelectedValue=!1;this.contextFilter=function(item){return $jscomp$this.helper.verifyContext(item)}};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_radio_component_RadioController.prototype.$onInit=function(){var $jscomp$this=this,paramInstance=this.instance.paramMap[this.param.name];this.param.radioItem=this.param.radioItem.filter(function(item){return $jscomp$this.paramDepsManager.isItemEnabled(item)});for(var radioValues=[],$jscomp$iter$162=$jscomp$makeIterator(this.param.radioItem),$jscomp$key$item=$jscomp$iter$162.next();!$jscomp$key$item.done;$jscomp$key$item=
$jscomp$iter$162.next()){var item$jscomp$0=$jscomp$key$item.value,isSelectedValue=module$exports$google3$third_party$javascript$typings$angular$index.equals(paramInstance.value,item$jscomp$0.value);radioValues.push(isSelectedValue?paramInstance.value:item$jscomp$0.value);this.hasSelectedValue||(this.hasSelectedValue=isSelectedValue)}this.radioValues=radioValues};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_radio_component_RadioController.prototype.onSelectionChanged=function(){this.paramDepsManager.paramInstancesChanged(void 0);this.hasSelectedValue=!0};
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_radio_component$vtRadioComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_radio_component_RadioController,controllerAs:"ctrl",bindings:{helper:"=",param:"=",instance:"=",paramDepsManager:"=",instanceFieldName:"@",fieldPathName:"@"},templateUrl:"/ctui/vendortemplate/display/vt_radio_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController=function($scope,vtSuggestionService){this.$scope=$scope;this.vtSuggestionService=vtSuggestionService;this.displayStyles={};this.selectItems=[];this.SuggestionType=module$exports$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions$SuggestionType;this.listenerCleanup=[]};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.$onInit=function(){var $jscomp$this=this;this.displayStyles=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDisplayStyleSet(this.param.displayStyle);this.$scope.$watch("ctrl.instance.paramMap[ctrl.param.name].value",function(newValue,oldValue){newValue!==oldValue&&($jscomp$this.paramDepsManager.clearCacheImmediately($jscomp$this.param.name),
$jscomp$this.setToParamInstanceValue())},!1);if(this.param.notSetText){var cleanup=this.paramDepsManager.addChangeListener(this.param.notSetText,function(){$jscomp$this.populateSelectMenu()});this.listenerCleanup.push(cleanup)}this.populateSelectMenu();this.setupListener()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.$onDestroy=function(){for(var $jscomp$iter$163=$jscomp$makeIterator(this.listenerCleanup),$jscomp$key$cleanup=$jscomp$iter$163.next();!$jscomp$key$cleanup.done;$jscomp$key$cleanup=$jscomp$iter$163.next()){var cleanup=$jscomp$key$cleanup.value;cleanup()}};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.onChange=function(){var $jscomp$this=this,selectedItem=this.selectItems.find(function(item){return item.id===$jscomp$this.selectedId});selectedItem&&(selectedItem.action?selectedItem.action().then(function(newItem){module$contents$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions_insertNewSuggestionIntoList($jscomp$this.selectItems,
newItem);$jscomp$this.selectItem(newItem)}).catch(function(){$jscomp$this.selectedId=$jscomp$this.previousSelectedId}):this.selectItem(selectedItem))};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.selectItem=function(selectedItem){this.selectedId=selectedItem.id;this.selectedItem=selectedItem;this.getParamInstance().value=this.selectedItem.value;this.paramDepsManager.paramInstancesChanged(this.param.name);this.previousSelectedId=selectedItem.id};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.getParamInstance=function(){return this.instance.paramMap[this.param.name]};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.setupListener=function(){var $jscomp$this=this,cleanup=this.vtSuggestionService.setupListener(this.param,this.helper,function(){$jscomp$this.populateSelectMenu()});this.listenerCleanup.push(cleanup)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.populateSelectMenu=function(){var $jscomp$this=this,paramInstance=this.getParamInstance();this.vtSuggestionService.getSuggestions(this.param,this.helper).then(function(suggestions){if($jscomp$this.param.notSetText){var notSetSuggestion={id:void 0,displayValue:$jscomp$this.paramDepsManager.getText($jscomp$this.param.notSetText),value:void 0,type:0};
suggestions.splice(0,0,notSetSuggestion)}$jscomp$this.selectItems=suggestions;paramInstance.value?$jscomp$this.setToParamInstanceValue():notSetSuggestion?$jscomp$this.selectItem(notSetSuggestion):$jscomp$this.selectItems[0]&&4!==$jscomp$this.selectItems[0].type&&$jscomp$this.selectItem($jscomp$this.selectItems[0])}).catch(function(){})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.setToParamInstanceValue=function(){for(var paramInstance=this.getParamInstance(),$jscomp$iter$164=$jscomp$makeIterator(this.selectItems),$jscomp$key$suggestion=$jscomp$iter$164.next();!$jscomp$key$suggestion.done;$jscomp$key$suggestion=$jscomp$iter$164.next()){var suggestion=$jscomp$key$suggestion.value;if(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(paramInstance.value,
suggestion.value)){this.selectItem(suggestion);break}}};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.onChange=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.onChange;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.$onDestroy=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.$onDestroy;module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.prototype.$onInit;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController.$inject=["$scope","vtSuggestionService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component$vtSelectComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component_SelectDirectiveController,controllerAs:"ctrl",bindings:{helper:"<",param:"=",instance:"=",paramDepsManager:"=",instanceFieldName:"@",fieldPathName:"@"},templateUrl:"/ctui/vendortemplate/display/vt_select_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController=function($q,vtSuggestionService){this.$q=$q;this.vtSuggestionService=vtSuggestionService;this.colTypeMap={};this.hasTableHeaders=!1;this.colTypeMap[3]="multi-select";this.colTypeMap[1]="text";this.colTypeMap[2]="select"};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.$onInit=function(){var $jscomp$this=this;this.$q.all({clickCallbackMap:this.vtSuggestionService.getClickCallbackForSimpleTable(this.param,this.helper)}).then(function(result){$jscomp$this.tableHelper=new module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vt_table_helper$VtTableHelper($jscomp$this.$q,$jscomp$this.param,
$jscomp$this.helper,$jscomp$this.vtSuggestionService,result.clickCallbackMap);$jscomp$this.notSetText=$jscomp$this.getNotSetText()});for(var $jscomp$iter$165=$jscomp$makeIterator(this.param.simpleTableColumn),$jscomp$key$col=$jscomp$iter$165.next();!$jscomp$key$col.done;$jscomp$key$col=$jscomp$iter$165.next())$jscomp$key$col.value.displayName&&(this.hasTableHeaders=!0);this.fieldChangeListener=this.helper.addFieldModificationListener(this.instanceFieldName,function(){var $jscomp$optchain$tmpm1344149727$0;
null==($jscomp$optchain$tmpm1344149727$0=$jscomp$this.tableHelper)||$jscomp$optchain$tmpm1344149727$0.setValue($jscomp$this.instance.paramMap[$jscomp$this.param.name].value)})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.$onDestroy=function(){var $jscomp$optchain$tmpm1344149727$1;null==($jscomp$optchain$tmpm1344149727$1=this.tableHelper)||$jscomp$optchain$tmpm1344149727$1.destroy();this.fieldChangeListener&&this.fieldChangeListener()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.getColumnClass=function(){return"simple-table-row__cell--cols"+(this.param.simpleTableColumn.length+1)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.getRowFieldPathName=function(rowIndex,columnName){return this.fieldPathName+"."+rowIndex+"."+columnName};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.getNotSetText=function(){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getNotSetText(this.param)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.addRow=function(){var $jscomp$optchain$tmpm1344149727$2;null==($jscomp$optchain$tmpm1344149727$2=this.tableHelper)||$jscomp$optchain$tmpm1344149727$2.addRow();var $jscomp$optchain$tmpm1344149727$3;null==($jscomp$optchain$tmpm1344149727$3=this.formController)||$jscomp$optchain$tmpm1344149727$3.$setDirty()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.deleteRow=function(rowId){var $jscomp$optchain$tmpm1344149727$4;null==($jscomp$optchain$tmpm1344149727$4=this.tableHelper)||$jscomp$optchain$tmpm1344149727$4.removeRow(rowId);var $jscomp$optchain$tmpm1344149727$5;null==($jscomp$optchain$tmpm1344149727$5=this.formController)||$jscomp$optchain$tmpm1344149727$5.$setDirty()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.deleteRow=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.deleteRow;module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.addRow=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.addRow;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.getRowFieldPathName=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.getRowFieldPathName;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.getColumnClass=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.getColumnClass;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.$onDestroy=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.$onDestroy;module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.prototype.$onInit;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController.$inject=["$q","vtSuggestionService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component$vtSimpleTableComponent={require:{formController:"?^form"},bindings:{helper:"<",param:"=",instance:"=",paramDepsManager:"=",instanceFieldName:"@",fieldPathName:"@"},controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component_VtSimpleTableController,controllerAs:"ctrl",templateUrl:"/ctui/vendortemplate/display/vt_simple_table_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_suggest_select_component$SuggestController=function($element){this.$element=$element};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_suggest_select_component$SuggestController.prototype.$onInit=function(){var $jscomp$this=this;this.ngModelCtrl.$formatters.push(function(value){$jscomp$this.updateToValue(value);return value});this.ngModelCtrl.$parsers.push(function(){var $jscomp$optchain$tmp503158859$0;return null==($jscomp$optchain$tmp503158859$0=$jscomp$this.selectedSuggestion)?void 0:$jscomp$optchain$tmp503158859$0.value})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_suggest_select_component$SuggestController.prototype.onChange=function(){for(var $jscomp$iter$166=$jscomp$makeIterator(this.suggestions||[]),$jscomp$key$suggestion=$jscomp$iter$166.next();!$jscomp$key$suggestion.done;$jscomp$key$suggestion=$jscomp$iter$166.next()){var suggestion=$jscomp$key$suggestion.value;if(suggestion.id===this.selectedId){this.selectedSuggestion=suggestion;Object.assign(this.ngModelCtrl.$viewValue,
this.selectedSuggestion.value);var $jscomp$optchain$tmp503158859$1=void 0;null==($jscomp$optchain$tmp503158859$1=this.helper.paramDepsManager)||$jscomp$optchain$tmp503158859$1.paramInstancesChanged(void 0);break}}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_suggest_select_component$SuggestController.prototype.updateToValue=function(value){for(var $jscomp$iter$167=$jscomp$makeIterator(this.suggestions||[]),$jscomp$key$suggestion=$jscomp$iter$167.next();!$jscomp$key$suggestion.done;$jscomp$key$suggestion=$jscomp$iter$167.next()){var suggestion=$jscomp$key$suggestion.value,$jscomp$nullish$tmp57=void 0,$jscomp$nullish$tmp58=void 0;if(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(null!=
($jscomp$nullish$tmp57=suggestion.value)?$jscomp$nullish$tmp57:null,null!=($jscomp$nullish$tmp58=value)?$jscomp$nullish$tmp58:null)){this.selectedId=suggestion.id;this.selectedSuggestion=suggestion;break}}};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_suggest_select_component$SuggestController.$inject=["$element"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_suggest_select_component$vtSuggestSelectComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_suggest_select_component$SuggestController,controllerAs:"ctrl",bindings:{value:"=",suggestions:"<",helper:"<"},require:{ngModelCtrl:"ngModel"},template:'\n<select class="hide-read-only blg-select"\n    data-ng-model="ctrl.selectedId"\n    data-ng-change="ctrl.onChange()"\n    data-ng-disabled="ctrl.helper.isDisabled"\n    data-ng-options="i.id as i.displayValue for i in ctrl.suggestions">\n</select>\n<div class="show-read-only blg-body">\n  {{ctrl.selectedSuggestion.displayValue}}\n</div>'};var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_ViewMode={SIMPLE:"simple",MULTILINE:"multiline",CODE:"code"},module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController=function($scope,sheetService,requestAnimationFrame,vtSuggestionService){this.$scope=$scope;this.sheetService=sheetService;this.requestAnimationFrame=requestAnimationFrame;this.vtSuggestionService=
vtSuggestionService;this.displayStyles={};this.isInDiff=!1;this.valueHint=null;$scope.ViewMode=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_ViewMode};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.$onInit=function(){var $jscomp$this=this;this.isInDiff=!!this.diffPageCtrl;this.param.codeLanguage?(this.displayMode="code",this.langMode=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getParamTextFormatting(this.param)):this.displayMode=this.param.lineCount&&1<Number(this.param.lineCount)?
"multiline":"simple";var callbackMetadata=this.vtSuggestionService.getClickCallback(this.param,this.helper);callbackMetadata&&(this.buttonCallback=function(){callbackMetadata.callback().then(function(suggestion){suggestion&&($jscomp$this.paramValue&&($jscomp$this.paramValue.string=($jscomp$this.paramValue.string||"")+suggestion.displayValue),$jscomp$this.makeFormDirty())}).catch(function(){})},this.iconClass=callbackMetadata.iconClass);this.valueHint=this.paramDepsManager.getText(this.param.valueHint||
null);this.param.valueHint&&(this.valueHintListener=this.paramDepsManager.addChangeListener(this.param.valueHint,function(){$jscomp$this.valueHint=$jscomp$this.paramDepsManager.getText($jscomp$this.param.valueHint||null)}));this.getSuggestions();this.setupListener();this.displayStyles=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDisplayStyleSet(this.param.displayStyle);var paramInstance=this.instance.paramMap[this.param.name];
this.param.textAsList?(this.paramValue={},this.paramValue.string=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_listToString(paramInstance.value.listItem),this.$scope.$watch("ctrl.instance.paramMap[ctrl.param.name].value.listItem",function(newList){$jscomp$this.paramValue&&($jscomp$this.paramValue.string=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_listToString(newList))},!0),this.$scope.$watch("ctrl.paramValue.string",
function(newInput){paramInstance.value.listItem=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringToList(newInput)})):module$exports$google3$third_party$javascript$typings$angular$index.isDefined(paramInstance)&&(paramInstance.value&&1!==paramInstance.value.type&&2!==paramInstance.value.type&&(paramInstance.value.string=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_toDisplayString(paramInstance.value),paramInstance.value.type=
1),this.setParamValue(paramInstance.value),this.$scope.$watch("ctrl.instance.paramMap[ctrl.param.name].value",function(newValue,oldValue){newValue!==oldValue&&$jscomp$this.setParamValue(newValue)}))};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.$onDestroy=function(){var $jscomp$optchain$tmp1046859381$1;null==($jscomp$optchain$tmp1046859381$1=this.suggestionUpdateListener)||$jscomp$optchain$tmp1046859381$1.call(this);this.valueHintListener&&this.valueHintListener()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.getSuggestions=function(){var $jscomp$this=this;this.vtSuggestionService.getSuggestions(this.param,this.helper).then(function(suggestions){$jscomp$this.suggestedValues=suggestions}).catch(function(){})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.setupListener=function(){var $jscomp$this=this;this.suggestionUpdateListener=this.vtSuggestionService.setupListener(this.param,this.helper,function(){$jscomp$this.getSuggestions()})};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.getNotSetText=function(){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getNotSetText(this.param)};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.isReadOnly=function(){return!!this.readOnlyCtrl&&this.readOnlyCtrl.isReadOnly()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.toggleExpanded=function(){var $jscomp$this=this,paramValue=module$exports$google3$third_party$javascript$typings$angular$index.copy(this.paramValue);this.sheetService.display({context:{title:module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(this.param,"displayName.text.0.value"),langMode:this.langMode||"htmlmixed",paramValue:paramValue},
templateUrl:"/gtm/app/components/vendortemplate/text-editor-sheet.html",useFullWidth:!1}).catch(module$exports$google3$third_party$javascript$typings$angular$index.noop).finally(function(){$jscomp$this.paramValue&&paramValue&&$jscomp$this.paramValue.string!==paramValue.string&&($jscomp$this.paramValue.string=paramValue.string,$jscomp$this.paramDepsManager.paramInstancesChanged($jscomp$this.param.name),$jscomp$this.makeFormDirty())})};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.setParamValue=function(newValue){var $jscomp$this=this;this.paramValue=newValue;this.requestAnimationFrame(function(){return $jscomp$this.$scope.$broadcast("CODE_MIRROR_REFRESH")})};module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.makeFormDirty=function(){this.formCtrl&&this.formCtrl.$setDirty()};
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.toggleExpanded=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.toggleExpanded;module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.isReadOnly=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.isReadOnly;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.getNotSetText=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.getNotSetText;module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.$onDestroy=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.$onDestroy;
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.$onInit=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.prototype.$onInit;module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController.$inject=["$scope","sheetService","requestAnimationFrame","vtSuggestionService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component$vtTextComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component_TextController,controllerAs:"ctrl",bindings:{helper:"<",param:"=",instance:"=",paramDepsManager:"=",instanceFieldName:"@",fieldPathName:"@"},require:{diffPageCtrl:"?^^gtmDiffPage",formCtrl:"?^form",readOnlyCtrl:"?^gtmReadOnly"},templateUrl:"/ctui/vendortemplate/display/vt_text_component.html"};function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_tooltip_directive_vtTooltipDirective($compile,$sce){return{restrict:"A",scope:{vtTooltip:"="},link:function(scope,element){var tooltipWidget=null;scope.$watch("vtTooltip",function(text){tooltipWidget&&(tooltipWidget.detach(),tooltipWidget=null,element.html(""));if(text){try{var trustedText=$sce.getTrustedHtml(text)}catch(e){}trustedText&&(scope.trustedText=trustedText,tooltipWidget=$compile('<gtm-popover><span ng-bind-html="trustedText"><span></gtm-popover>')(scope),
element.append(tooltipWidget))}});scope.$on("$destroy",function(){tooltipWidget&&tooltipWidget.detach()})}}}module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_tooltip_directive_vtTooltipDirective.$inject=["$compile","$sce"];var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vendor_template_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ctui.common.vendortemplate.display",["ngSanitize"]).component("vtCheckbox",module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_checkbox_component$vtCheckboxComponent).component("vtChipInput",module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_chip_input_component$vtChipInputComponent).component("vtCustomUiRenderer",
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_custom_ui_renderer_component$vtCustomUiRendererComponent).component("vtEntityPicker",{controller:function(){this.customUiName="entity_picker_component"},controllerAs:"ctrl",bindings:{param:"<",helper:"<",instanceFieldName:"@"},template:'\n<vt-custom-ui-renderer\n    data-helper="ctrl.helper"\n    data-name="ctrl.customUiName"\n    data-param="ctrl.param"\n    data-param-name="ctrl.param.name"\n    data-params="[ctrl.param]"\n    data-instance="ctrl.helper.instance"\n    data-param-deps-manager="ctrl.helper.paramDepsManager"\n    data-instance-field-name="ctrl.instanceFieldName">\n</vt-custom-ui-renderer>\n'}).component("vtGroup",
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_group_component$vtGroupComponent).component("vtIcon",module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_icon_component$vtIconComponent).component("vtMultiSelect",module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_multi_select_component$vtMultiSelectComponent).component("vtParamTable",module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_component$vtParamTableComponent).component("vtParamTableRowEditor",
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_param_table_row_editor_component$vtParamTableRowEditorComponent).component("vtRadio",module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_radio_component$vtRadioComponent).component("vtSelect",module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_select_component$vtSelectComponent).component("vtSimpleTable",module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_simple_table_component$vtSimpleTableComponent).component("vtSuggestSelect",
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_suggest_select_component$vtSuggestSelectComponent).component("vtText",module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_text_component$vtTextComponent).directive("vtInstance",module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_instance_directive_vtInstanceDirective).directive("vtLabel",function(){return{scope:{helper:"=",
param:"=",instance:"=",paramDepsManager:"=",instanceFieldName:"@"},templateUrl:"/ctui/vendortemplate/display/vt_label_directive.html"}}).directive("vtParams",module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_params_directive_vtParamsDirective).directive("vtTooltip",module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vt_tooltip_directive_vtTooltipDirective).filter("vtDisplayText",module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vendor_template_module_vtDisplayTextFilter);
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vendor_template_module_vtDisplayTextFilter(){return function(value){var $jscomp$nullish$tmp59;return null!=($jscomp$nullish$tmp59=null==value?void 0:value.cachedValue)?$jscomp$nullish$tmp59:""}};function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getDisplayKey(param){return param.summaryDisplayName?param.summaryDisplayName.text[0].value:param.displayName?param.displayName.text[0].value:7===param.type?param.checkboxText.text[0].value:param.name||""}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getDisplayValue(param,value){switch(param.type){case 6:return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getSelectedDisplayValue(param.radioItem,value);case 5:return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getSelectedDisplayValue(param.selectItem,
value);case 8:for(var newValue=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newList(),$jscomp$inline_890=$jscomp$makeIterator(value.listItem),$jscomp$key$row=$jscomp$inline_890.next();!$jscomp$key$row.done;$jscomp$key$row=$jscomp$inline_890.next()){for(var newRowArray=[],valueMap=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_valueToMap($jscomp$key$row.value),$jscomp$inline_894=$jscomp$makeIterator(param.simpleTableColumn),
$jscomp$key$col=$jscomp$inline_894.next();!$jscomp$key$col.done;$jscomp$key$col=$jscomp$inline_894.next()){var col=$jscomp$key$col.value;col.displayName?newRowArray.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(col.displayName.text[0].value)):newRowArray.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(""));var colValue=valueMap.hasOwnProperty(col.name)?valueMap[col.name]:module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString("");
2===col.type&&(colValue=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getSelectedDisplayValue(col.selectItem,colValue));newRowArray.push(colValue)}newValue.listItem.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newMap(newRowArray))}return newValue;case 9:for(var newValue$jscomp$0=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newList(),$jscomp$inline_902=
$jscomp$makeIterator(value.listItem),$jscomp$key$row$jscomp$0=$jscomp$inline_902.next();!$jscomp$key$row$jscomp$0.done;$jscomp$key$row$jscomp$0=$jscomp$inline_902.next()){for(var newRowArray$jscomp$0=[],valueMap$jscomp$0=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_valueToMap($jscomp$key$row$jscomp$0.value),$jscomp$inline_906=$jscomp$makeIterator(param.paramTableColumn),$jscomp$key$col$jscomp$0=$jscomp$inline_906.next();!$jscomp$key$col$jscomp$0.done;$jscomp$key$col$jscomp$0=
$jscomp$inline_906.next()){var col$jscomp$0=$jscomp$key$col$jscomp$0.value;newRowArray$jscomp$0.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getDisplayKey(col$jscomp$0.param)));valueMap$jscomp$0.hasOwnProperty(col$jscomp$0.param.name)?newRowArray$jscomp$0.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getDisplayValue(col$jscomp$0.param,
valueMap$jscomp$0[col$jscomp$0.param.name])):newRowArray$jscomp$0.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(""))}newValue$jscomp$0.listItem.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newMap(newRowArray$jscomp$0))}return newValue$jscomp$0;default:return value}}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getSelectedDisplayValue(itemList,value){for(var i=0;i<itemList.length;i++){var item=itemList[i];if(item.displayValue&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_equals(item.value,value))return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(item.displayValue.text[0].value)}return value}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_valueToMap(value){for(var result={},mapLength=Number(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_get(value,"mapKey.length",0)),i=0;i<mapLength;i++)result[value.mapKey[i].string]=value.mapValue[i];return result};function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$permissions_utils_countEnabledPermissions(list){return list.reduce(function(count,permission){return permission.isRequired?count+1:count},0)};var module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper_CSS_CLASS_INVALID_CHARACTERS=/[\s`!@#$%^&*()+=\[\]{};':"\\|,.<>\/?~]/g,module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper=function($timeout,usageContext,productContext,contextKey){this.$timeout=$timeout;this.usageContext=usageContext;this.productContext=void 0===productContext?
1:productContext;this.contextKey=contextKey;this.permissions=[];this.permissionCount=0;this.isDisabled=!1;this.templateParamMap=new Map;this.instanceParams=new Map;this.fieldModificationNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.vtContext={usageContext:this.usageContext,productContext:this.productContext,contextKey:this.contextKey}};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.destroy=function(){var $jscomp$optchain$tmp1190980340$0;null==($jscomp$optchain$tmp1190980340$0=this.paramDepsManager)||$jscomp$optchain$tmp1190980340$0.destroy()};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.setInstance=function(vtInstance){if(!vtInstance)return this.instance=void 0,this;var $jscomp$optchain$tmp1190980340$1,$jscomp$optchain$tmp1190980340$2;if(!(null==($jscomp$optchain$tmp1190980340$1=this.instance)?0:null==($jscomp$optchain$tmp1190980340$2=$jscomp$optchain$tmp1190980340$1.key)?0:$jscomp$optchain$tmp1190980340$2.publicId))return this.instance=
Object.assign({},module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizedEmptyVendorTemplateInstance(),vtInstance),this;this.instance=Object.assign({},{param:[],paramMap:{},defaultValueMap:{}},vtInstance);this.template&&(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeVendorTemplateInstance(this.template,this.instance,this.usageContext),this.updateParamInstanceMap(),
this.updateInitialValueMap());return this};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.setTemplate=function(template,keepExistingInstance){keepExistingInstance=void 0===keepExistingInstance?!1:keepExistingInstance;var $jscomp$optchain$tmp1190980340$3;this.instance&&(null==($jscomp$optchain$tmp1190980340$3=this.instance.key)?0:$jscomp$optchain$tmp1190980340$3.publicId)&&this.instanceParams.set(this.instance.key.publicId,this.instance.param);
this.template=template;if(!this.template)return this.paramDepsManager=this.instance=void 0,this.permissions=[],this.permissionCount=0,this.templateParamMap=new Map,this;var publicId=this.template.publicId;this.instance&&keepExistingInstance||(this.instance=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizedEmptyVendorTemplateInstance());this.instance=Object.assign({},this.instance,{key:{publicId:publicId}});!keepExistingInstance&&
this.instanceParams.has(publicId)&&(this.instance.param=this.instanceParams.get(publicId));for(var paramsToProcess=[].concat($jscomp$arrayFromIterable(this.template.param)),paramDescMap=new Map;paramsToProcess.length;){var param=paramsToProcess.pop();param.subParam&&(paramsToProcess=paramsToProcess.concat(param.subParam));for(var $jscomp$inline_914=void 0,$jscomp$inline_915=$jscomp$makeIterator(null!=($jscomp$inline_914=param.radioItem)?$jscomp$inline_914:[]),$jscomp$inline_916=$jscomp$inline_915.next();!$jscomp$inline_916.done;$jscomp$inline_916=
$jscomp$inline_915.next()){var radio=$jscomp$inline_916.value;radio.subParam&&(paramsToProcess=paramsToProcess.concat(radio.subParam))}paramDescMap.set(param.name,param)}this.templateParamMap=paramDescMap;module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_normalizeVendorTemplateInstance(this.template,this.instance,this.usageContext);this.paramDepsManager=new module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$param_deps_manager$ParamDepsManager(this.template,
this.usageContext,this.$timeout,this.vtContext);this.updateParamInstanceMap();this.updateInitialValueMap();if(publicId&&0===publicId.indexOf("cvt_")){var data=this.template,usageContextHelper=this.usageContext;if(usageContextHelper.supportWeb()){var $jscomp$inline_921;var JSCompiler_temp=null!=($jscomp$inline_921=null==data?void 0:data.webPermission)?$jscomp$inline_921:[]}else if(usageContextHelper.supportCloud()){var $jscomp$inline_922;JSCompiler_temp=null!=($jscomp$inline_922=null==data?void 0:
data.cloudPermission)?$jscomp$inline_922:[]}else JSCompiler_temp=[]}else JSCompiler_temp=[];this.permissions=JSCompiler_temp;this.permissionCount=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$permissions_utils_countEnabledPermissions(this.permissions);return this};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getInstance=function(){return this.instance};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getTemplate=function(){return this.template};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getContextKey=function(){return this.contextKey};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getPermissions=function(){return this.permissions};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getPermissionCount=function(){return this.permissionCount};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.addFieldModificationListener=function(paramName,cb){return this.fieldModificationNotifier.addListener(function(fieldName){(null==fieldName?0:fieldName.startsWith(paramName))&&cb()})};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.fireFieldModification=function(fieldName){this.fieldModificationNotifier.fire(fieldName)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getSubParams=function(name){if(!name){var $jscomp$optchain$tmp1190980340$5,$jscomp$nullish$tmp64;return null!=($jscomp$nullish$tmp64=null==($jscomp$optchain$tmp1190980340$5=this.template)?void 0:$jscomp$optchain$tmp1190980340$5.param)?$jscomp$nullish$tmp64:[]}var $jscomp$destructuring$var43=$jscomp$makeIterator(name.split(":-:")),actualName__tsickle_destructured_1=
$jscomp$destructuring$var43.next().value,indexStr__tsickle_destructured_2=$jscomp$destructuring$var43.next().value,param=this.getParamDesc(actualName__tsickle_destructured_1);if(!param)return[];if(param.subParam)return param.subParam;var index=Number(indexStr__tsickle_destructured_2),$jscomp$nullish$tmp65,subItems=null!=($jscomp$nullish$tmp65=param.radioItem)?$jscomp$nullish$tmp65:[];if(subItems&&index<subItems.length){var $jscomp$nullish$tmp66;return null!=($jscomp$nullish$tmp66=subItems[index].subParam)?
$jscomp$nullish$tmp66:[]}return[]};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getParamDesc=function(name){return this.templateParamMap.get(name)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getParam=function(name){var $jscomp$optchain$tmp1190980340$6;return null==($jscomp$optchain$tmp1190980340$6=this.instance)?void 0:$jscomp$optchain$tmp1190980340$6.paramMap[name]};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getParamDisplayValue=function(name){var param=this.getParam(name),paramDesc=this.getParamDesc(name);if(null!=param&&param.value&&paramDesc)return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getDisplayValue(paramDesc,param.value)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getParamDefaultValue=function(name){var paramDesc=this.getParamDesc(name);return paramDesc?module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getDefaultParamValue(paramDesc,this.usageContext):void 0};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getText=function(displayText){var $jscomp$optchain$tmp1190980340$8,$jscomp$nullish$tmp67;return null!=($jscomp$nullish$tmp67=null==($jscomp$optchain$tmp1190980340$8=this.paramDepsManager)?void 0:$jscomp$optchain$tmp1190980340$8.getText(displayText))?$jscomp$nullish$tmp67:""};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getCachedText=function(displayText,paramEvaluator){var $jscomp$this=this,$jscomp$nullish$tmp69,evaluator=null!=($jscomp$nullish$tmp69=null!=paramEvaluator?paramEvaluator:this.paramDepsManager)?$jscomp$nullish$tmp69:module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs$NO_PARAM_EVALUATOR,
$jscomp$optchain$tmp1190980340$9;if(null==($jscomp$optchain$tmp1190980340$9=evaluator.textWatcherCache)?0:$jscomp$optchain$tmp1190980340$9.has(displayText))return evaluator.textWatcherCache.get(displayText);var textWatcher={cachedValue:module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_resolveDisplayText(displayText,evaluator,this.vtContext)};if(displayText&&module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_hasEnablingTextConditions(displayText)){var references=
{};if(evaluator.getReferences){var $jscomp$optchain$tmp1190980340$10,$jscomp$nullish$tmp70;references=evaluator.getReferences(null!=($jscomp$nullish$tmp70=null==($jscomp$optchain$tmp1190980340$10=this.paramDepsManager)?void 0:$jscomp$optchain$tmp1190980340$10.getTextReferences(displayText))?$jscomp$nullish$tmp70:{})}var $jscomp$optchain$tmp1190980340$11;null==($jscomp$optchain$tmp1190980340$11=this.paramDepsManager)||$jscomp$optchain$tmp1190980340$11.addChangeListener(displayText,function(){textWatcher.cachedValue=
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_resolveDisplayText(displayText,evaluator,$jscomp$this.vtContext)},references)}var $jscomp$optchain$tmp1190980340$12;null==($jscomp$optchain$tmp1190980340$12=evaluator.textWatcherCache)||$jscomp$optchain$tmp1190980340$12.set(displayText,textWatcher);return textWatcher};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getUsageContext=function(){return this.usageContext};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.verifyContext=function(item){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_deps_utils_ctcs_verifyContext(item,this)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.copy=function(){for(var vendorTemplate=this.template,newInstance=module$exports$google3$third_party$javascript$typings$angular$index.copy(this.instance),i=0;i<vendorTemplate.param.length;i++)module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_resetParamInstanceForCopy(vendorTemplate.param[i],
newInstance);this.setInstance(newInstance);return newInstance};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getNestedHelper=function(){return new module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper(this.$timeout,this.usageContext)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.updateParamInstanceMap=function(){this.paramDepsManager&&this.instance&&this.paramDepsManager.setParamInstanceMap(this.instance.paramMap)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.updateInitialValueMap=function(){this.paramDepsManager&&this.instance&&this.paramDepsManager.updateInitialValueMap(this.instance.paramMap)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getClassName=function(paramName){return(this.template.publicId+"--"+paramName).replace(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper_CSS_CLASS_INVALID_CHARACTERS,"-")};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getParamValue=function(name){var $jscomp$optchain$tmp1190980340$13,$jscomp$nullish$tmp71;return null!=($jscomp$nullish$tmp71=null==($jscomp$optchain$tmp1190980340$13=this.paramDepsManager)?void 0:$jscomp$optchain$tmp1190980340$13.getParamValue(name))?$jscomp$nullish$tmp71:null};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.isItemEnabled=function(name,paramEvaluator){var $jscomp$optchain$tmp1190980340$14;return!(null==($jscomp$optchain$tmp1190980340$14=this.paramDepsManager)||!$jscomp$optchain$tmp1190980340$14.isItemEnabled(name,paramEvaluator))};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.isParamEnabled=function(name){var $jscomp$optchain$tmp1190980340$15;return!(null==($jscomp$optchain$tmp1190980340$15=this.paramDepsManager)||!$jscomp$optchain$tmp1190980340$15.isParamEnabled(name))};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper.prototype.getInitialParamValue=function(paramName){var $jscomp$optchain$tmp1190980340$16,$jscomp$nullish$tmp72;return null!=($jscomp$nullish$tmp72=null==($jscomp$optchain$tmp1190980340$16=this.paramDepsManager)?void 0:$jscomp$optchain$tmp1190980340$16.getInitialParamValue(paramName))?$jscomp$nullish$tmp72:null};var module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService=function($q){this.$q=$q};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService.prototype.setupListener=function(param,vtInstanceHelper,listener){var refs=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getSuggestionState(param).references;if(!Object.keys(refs).length||!vtInstanceHelper.paramDepsManager)return function(){};var debounced=_.debounce(function(paramNames){listener(paramNames)},
200);return vtInstanceHelper.paramDepsManager.addChangeListener(param,debounced,refs)};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService.prototype.getSuggestions=function(param,vtInstanceHelper,paramEvaluator){return this.$q.resolve(this.internalGetSuggestions(param,vtInstanceHelper,paramEvaluator))};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService.prototype.getSuggestionsForColumns=function(columns,vtInstanceHelper,paramEvaluator){for(var columnMap=new Map,$jscomp$iter$176=$jscomp$makeIterator(columns),$jscomp$key$col=$jscomp$iter$176.next();!$jscomp$key$col.done;$jscomp$key$col=$jscomp$iter$176.next()){var col=$jscomp$key$col.value;columnMap.set(col.name,this.internalGetSuggestions(col,
vtInstanceHelper,paramEvaluator))}return this.$q.when(columnMap)};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService.prototype.getClickCallback=function(){};module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService.prototype.getClickCallbackForSimpleTable=function(){return new Map};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService.prototype.internalGetSuggestions=function(item$jscomp$0,vtInstanceHelper,paramEvaluator){var $jscomp$this=this;paramEvaluator||(paramEvaluator=vtInstanceHelper);var evaluatorToUse=paramEvaluator,suggestionList=[],$jscomp$optchain$tmp1092097422$0;if(null==($jscomp$optchain$tmp1092097422$0=item$jscomp$0.selectItem)?0:$jscomp$optchain$tmp1092097422$0.length){var enabledSelectItems=
item$jscomp$0.selectItem.filter(function(selectItem){return $jscomp$this.isSuggestionEnabled(selectItem,evaluatorToUse,item$jscomp$0.name)});suggestionList=enabledSelectItems.filter(function(item){return void 0!==item.value}).map(function(item){return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service_getSuggestion(item,evaluatorToUse.getText(item.displayValue))});item$jscomp$0.sortSuggestions&&suggestionList.sort(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service_suggestionComparator);
var aliasedSuggestions=enabledSelectItems.filter(function(item){var $jscomp$optchain$tmp1092097422$1;return null==($jscomp$optchain$tmp1092097422$1=item.aliasedValues)?void 0:$jscomp$optchain$tmp1092097422$1.length}).map(function(selectAlias){var label=evaluatorToUse.getText(selectAlias.displayValue);return module$contents$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions_createAliasedSuggestion(selectAlias.aliasedValues,label,suggestionList)});item$jscomp$0.sortSuggestions&&
aliasedSuggestions.sort(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service_suggestionComparator);aliasedSuggestions.length&&(aliasedSuggestions.push({id:"s-"+ ++module$contents$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions_suggestionCount,displayValue:"---------",type:4}),suggestionList.unshift.apply(suggestionList,$jscomp$arrayFromIterable(aliasedSuggestions)))}else{var $jscomp$optchain$tmp1092097422$2;
if(null==($jscomp$optchain$tmp1092097422$2=item$jscomp$0.suggestedValue)?0:$jscomp$optchain$tmp1092097422$2.length){for(var $jscomp$iter$177=$jscomp$makeIterator(item$jscomp$0.suggestedValue),$jscomp$key$suggestion=$jscomp$iter$177.next();!$jscomp$key$suggestion.done;$jscomp$key$suggestion=$jscomp$iter$177.next()){var suggestion=$jscomp$key$suggestion.value;if(this.isSuggestionEnabled(suggestion,evaluatorToUse,item$jscomp$0.name)){var label$jscomp$0=void 0,$jscomp$optchain$tmp1092097422$3=void 0;
if(null==($jscomp$optchain$tmp1092097422$3=suggestion.displayValue)?0:$jscomp$optchain$tmp1092097422$3.text)label$jscomp$0=evaluatorToUse.getText(suggestion.displayValue);suggestionList.push(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service_getSuggestion(suggestion,label$jscomp$0))}}item$jscomp$0.sortSuggestions&&suggestionList.sort(module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service_suggestionComparator)}}return suggestionList};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService.prototype.isSuggestionEnabled=function(suggestion,evaluator,paramName){if(suggestion.isLegacy){var value=evaluator.getInitialParamValue(paramName);if(!suggestion.value||!value||module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(suggestion.value)!==module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(value))return!1}return evaluator.isItemEnabled(suggestion)};
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService.$inject=["$q"];
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service_getSuggestion(item,label){var $jscomp$nullish$tmp74,value=null!=($jscomp$nullish$tmp74=item.value)?$jscomp$nullish$tmp74:"",isValueType=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_isValue(value),displayValue="";null!=label?displayValue=label:isValueType?displayValue=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringifyValue(value):
null!=value&&(displayValue=""+value);var JSCompiler_temp_const="s-"+ ++module$contents$google3$java$com$google$analytics$containertag$ui$common$input$input_suggestions_suggestionCount;if(isValueType)var JSCompiler_temp=value;else a:{if(void 0!==value)switch(typeof value){case "boolean":JSCompiler_temp=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newBoolean(value);break a;case "number":JSCompiler_temp={type:6,integer:value};break a;case "string":JSCompiler_temp=
module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(value);break a;default:throw Error("Unsuppored type");}JSCompiler_temp=void 0}var JSCompiler_inline_result={id:JSCompiler_temp_const,value:JSCompiler_temp,type:1,displayValue:displayValue};JSCompiler_inline_result.includeMacros=item.includeMacros;JSCompiler_inline_result.includeTags=item.includeTags;JSCompiler_inline_result.allowlistedTemplates=item.allowlistedTemplates;return JSCompiler_inline_result}
function module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service_suggestionComparator(suggestionA,suggestionB){return suggestionA.displayValue.localeCompare(suggestionB.displayValue)};var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_AWN_GROUPS=[{title:"Configuration",slats:[{publicId:"ogt_consent_defaults"},{publicId:"ogt_1p_data"}]},{title:"Enhanced measurement",slats:[{publicId:"ogt_em_form"}]}],module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_AWN_GROUPS_EM_CCD=[{title:"Configuration",slats:[{publicId:"ogt_consent_defaults"},{publicId:"ogt_1p_data"}]}],
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$EM_SLAT={groupId:"enhanced_measurement",displayName:"Enhanced measurement",slatStyle:"ENHANCED_MEASUREMENT",subgroups:[{title:"Enhanced measurement",slats:[{publicId:"ccd_em_page_view"},{publicId:"ccd_em_scroll"},{publicId:"ccd_em_outbound_click"},{publicId:"ccd_em_site_search"},{publicId:"ccd_em_video"},{publicId:"ccd_em_download"}]}]},module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_GAFE_GROUPS=
[{title:"Event settings",slats:[module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$EM_SLAT,{publicId:"ogt_event_edit"},{publicId:"ogt_event_create"},{publicId:"ogt_1p_data"},{publicId:"ogt_ga_send"}]},{title:"Tag configuration",slats:[{publicId:"ogt_cross_domain"},{publicId:"ogt_ip_mark"},{publicId:"ogt_referral_exclusion"},{publicId:"ogt_session_timeout"},{publicId:"ogt_cookie_settings"}]}],module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_GAFE_GROUPS_MINUS_EES=
[{title:"Event settings",slats:[module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$EM_SLAT,{publicId:"ogt_1p_data"},{publicId:"ogt_ga_send"}]},{title:"Tag configuration",slats:[{publicId:"ogt_cross_domain"},{publicId:"ogt_ip_mark"},{publicId:"ogt_referral_exclusion"},{publicId:"ogt_session_timeout"},{publicId:"ogt_cookie_settings"}]}];
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_isActivitySlat(obj){return void 0!==obj.publicId}
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$ActivityGroupService=function(hostedStateService,vendorTemplateService){var $jscomp$this=this;this.hostedStateService=hostedStateService;this.vendorTemplateService=vendorTemplateService;this.publicIdMap=new Map;this.groupIdMap=new Map;this.TEST_ONLY={getRootGroup:function(){return $jscomp$this.rootGroup},setRootGroup:function(slatGroups){$jscomp$this.rootGroup.length=0;$jscomp$this.rootGroup.push.apply($jscomp$this.rootGroup,
$jscomp$arrayFromIterable(slatGroups));$jscomp$this.getGroupPromise=void 0}};switch(hostedStateService.getHostApp()){case "ADS_AWN":this.rootGroup=hostedStateService.isFlagEnabled(72)?module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_AWN_GROUPS_EM_CCD:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_AWN_GROUPS;break;case "GAFE":this.rootGroup=hostedStateService.isFlagEnabled("enableGafeNativeEventEditingAndCreation")?
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_GAFE_GROUPS_MINUS_EES:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_GAFE_GROUPS;break;default:this.rootGroup=[]}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$ActivityGroupService.prototype.getGroups=function(){var $jscomp$this=this;this.getGroupPromise||(this.getGroupPromise=this.vendorTemplateService.getList().then(function(templateList){"DEVELOPMENT"===$jscomp$this.hostedStateService.getHostApp()&&$jscomp$this.buildDevGroup(templateList);$jscomp$this.decorateSlats($jscomp$this.rootGroup,templateList);return $jscomp$this.rootGroup}));return this.getGroupPromise};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$ActivityGroupService.prototype.getGroupSlat=function(groupId){var $jscomp$this=this;return this.getGroups().then(function(){return $jscomp$this.groupIdMap.get(groupId)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$ActivityGroupService.prototype.getSubgroups=function(publicId){var $jscomp$this=this;return this.getGroups().then(function(){return $jscomp$this.publicIdMap.get(publicId)||[]})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$ActivityGroupService.prototype.decorateSlats=function(slatGroups,templateList){for(var $jscomp$this=this,$jscomp$iter$178=$jscomp$makeIterator(slatGroups),$jscomp$key$slatGroup=$jscomp$iter$178.next();!$jscomp$key$slatGroup.done;$jscomp$key$slatGroup=$jscomp$iter$178.next()){var slatGroup=$jscomp$key$slatGroup.value;slatGroup.slats=slatGroup.slats.filter(function(slat){if(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_isActivitySlat(slat)){var template=
templateList.find(function(t){return t.data.publicId===slat.publicId});if(!template)return!1;var $jscomp$optchain$tmpm728134992$1,$jscomp$optchain$tmpm728134992$2;slat.displayName=null==template?void 0:null==($jscomp$optchain$tmpm728134992$1=template.data)?void 0:null==($jscomp$optchain$tmpm728134992$2=$jscomp$optchain$tmpm728134992$1.displayName)?void 0:$jscomp$optchain$tmpm728134992$2.text[0].value;var $jscomp$optchain$tmpm728134992$4,$jscomp$optchain$tmpm728134992$5,$jscomp$optchain$tmpm728134992$6;
slat.description=null==template?void 0:null==($jscomp$optchain$tmpm728134992$4=template.data)?void 0:null==($jscomp$optchain$tmpm728134992$5=$jscomp$optchain$tmpm728134992$4.brand)?void 0:null==($jscomp$optchain$tmpm728134992$6=$jscomp$optchain$tmpm728134992$5.displayName)?void 0:$jscomp$optchain$tmpm728134992$6.text[0].value;var $jscomp$optchain$tmpm728134992$8,$jscomp$optchain$tmpm728134992$9;slat.thumbnail=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getThumbnailUrl(null==
template?void 0:null==($jscomp$optchain$tmpm728134992$8=template.data)?void 0:null==($jscomp$optchain$tmpm728134992$9=$jscomp$optchain$tmpm728134992$8.brand)?void 0:$jscomp$optchain$tmpm728134992$9.thumbnail)}slat.subgroups&&0<slat.subgroups.length&&$jscomp$this.decorateSlats(slat.subgroups,templateList);module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_isActivitySlat(slat)?$jscomp$this.publicIdMap.set(slat.publicId,slat.subgroups||
[]):void 0!==slat.groupId&&($jscomp$this.groupIdMap.has(slat.groupId),$jscomp$this.groupIdMap.set(slat.groupId,slat));return!!slat.displayName})}this.pruneEmptySlatGroups(slatGroups)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$ActivityGroupService.prototype.buildDevGroup=function(templateList){for(var devGroup={title:"All Templates",slats:[]},$jscomp$iter$179=$jscomp$makeIterator(templateList),$jscomp$key$template=$jscomp$iter$179.next();!$jscomp$key$template.done;$jscomp$key$template=$jscomp$iter$179.next())devGroup.slats.push({publicId:$jscomp$key$template.value.data.publicId});this.rootGroup.push(devGroup)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$ActivityGroupService.prototype.pruneEmptySlatGroups=function(slatGroups){for(var i=slatGroups.length-1;0<=i;i--)0===slatGroups[i].slats.length&&slatGroups.splice(i,1)};
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.activityGroupService",[]).service("activityGroupService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$ActivityGroupService);var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component_BETA_TEMPLATE_IDS=[],module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController=function($q,activityGroupService,activityService,hostedStateService,errorHandlerService,busyLayerService,routerService,vendorTemplateService){this.$q=$q;this.activityGroupService=activityGroupService;this.activityService=
activityService;this.hostedStateService=hostedStateService;this.errorHandlerService=errorHandlerService;this.busyLayerService=busyLayerService;this.routerService=routerService;this.vendorTemplateService=vendorTemplateService;this.initialized=this.isEnhancedMeasurementEnabled=!1;this.isConfigurationRequired=!0;this.templateActivityKeyMap=new Map};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.$onInit=function(){var $jscomp$this=this,$jscomp$nullish$tmp75,initPromise=this.$q.all({collectionKey:this.hostedStateService.getCollectionKey(),activityGroups:null!=($jscomp$nullish$tmp75=this.activityGroups)?$jscomp$nullish$tmp75:this.activityGroupService.getGroups(),templateList:this.vendorTemplateService.getList()}).then(function($jscomp$destructuring$var44){var activityGroups=
$jscomp$destructuring$var44.activityGroups,templateList=$jscomp$destructuring$var44.templateList;$jscomp$this.collectionKey=$jscomp$destructuring$var44.collectionKey;$jscomp$this.activityGroups=activityGroups;$jscomp$this.templateList=templateList;return $jscomp$this.initializeSingletonActivities(templateList)}).catch(this.errorHandlerService.catchGenericError()).finally(function(){$jscomp$this.initialized=!0;$jscomp$this.isConfigurationRequired=!$jscomp$this.areSlatsEmpty()});this.busyLayerService.showLayerBusyUntil(initPromise);
this.removeRefreshListener=this.activityService.onChange().addListener(function(){var refreshPromise=$jscomp$this.initializeSingletonActivities($jscomp$this.templateList).catch($jscomp$this.errorHandlerService.catchGenericError());$jscomp$this.busyLayerService.showLayerBusyUntil(refreshPromise)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.$onDestroy=function(){var $jscomp$optchain$tmp1392139503$1;null==($jscomp$optchain$tmp1392139503$1=this.removeRefreshListener)||$jscomp$optchain$tmp1392139503$1.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.isInline=function(slat){if(!module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_isActivitySlat(slat))return!1;var $jscomp$optchain$tmp1392139503$2,activityTemplate=null==($jscomp$optchain$tmp1392139503$2=this.templateList)?void 0:$jscomp$optchain$tmp1392139503$2.find(function(template){return template.data.publicId===
slat.publicId});return activityTemplate?4===activityTemplate.data.activityDetails.activityType:!1};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.initializeSingletonActivities=function(templateList){var $jscomp$this=this;templateList=void 0===templateList?[]:templateList;var singletonTemplates=templateList.filter(function(template){var type=template.data.activityDetails.activityType;return 1===type||4===type});if(!singletonTemplates.length)return this.$q.resolve();for(var promises=[],$jscomp$iter$180=
$jscomp$makeIterator(singletonTemplates),$jscomp$key$template=$jscomp$iter$180.next();!$jscomp$key$template.done;$jscomp$key$template=$jscomp$iter$180.next())promises.push(this.activityService.getList($jscomp$key$template.value.data.publicId));return this.$q.all(promises).then(function(activityLists){$jscomp$this.templateActivityKeyMap.clear();for(var $jscomp$iter$181=$jscomp$makeIterator(activityLists),$jscomp$key$activityList=$jscomp$iter$181.next();!$jscomp$key$activityList.done;$jscomp$key$activityList=
$jscomp$iter$181.next()){var activityList=$jscomp$key$activityList.value;if(activityList.length){var activity=activityList[0];$jscomp$this.templateActivityKeyMap.set(activity.properties.templateInstance.key.publicId,activity.key)}}})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.openActivityPage=function(slat){if(void 0!==slat.groupId)this.routerService.goToActivityGroup(slat.groupId);else if(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_isActivitySlat(slat)){var $jscomp$optchain$tmp1392139503$3,activityTemplate=null==($jscomp$optchain$tmp1392139503$3=
this.templateList)?void 0:$jscomp$optchain$tmp1392139503$3.find(function(template){return template.data.publicId===slat.publicId});if(activityTemplate)switch(activityTemplate.data.activityDetails.activityType){case 3:case 2:this.openListPage(activityTemplate);break;case 1:this.openEditorPage(activityTemplate)}}};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.openListPage=function(activityTemplate){this.routerService.goToActivityList(activityTemplate.data.publicId)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.openEditorPage=function(activityTemplate){var publicId=activityTemplate.data.publicId,collectionId=this.collectionKey.containerCollectionId;if(this.templateActivityKeyMap.has(publicId)){var activityId=this.templateActivityKeyMap.get(publicId).ogtActivityId;this.routerService.goToEditActivity(collectionId,activityId)}else this.routerService.goToCreateActivity(collectionId,
publicId)};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.getSlatClass=function(slat){return module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_isActivitySlat(slat)?"activity-slat--"+slat.publicId+" wd-"+slat.publicId:void 0!==slat.groupId?"activity-slat--"+slat.groupId:""};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.inBeta=function(publicId){return publicId?module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component_BETA_TEMPLATE_IDS.includes(publicId):!1};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.areSlatsEmpty=function(){for(var $jscomp$iter$182=$jscomp$makeIterator(this.activityGroups),$jscomp$key$group=$jscomp$iter$182.next();!$jscomp$key$group.done;$jscomp$key$group=$jscomp$iter$182.next())if($jscomp$key$group.value.slats.length)return!1;return!0};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.inBeta=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.inBeta;module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.getSlatClass=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.getSlatClass;
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.openActivityPage=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.openActivityPage;
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.isInline=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.prototype.isInline;module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController.$inject="$q activityGroupService activityService hostedStateService errorHandlerService busyLayerService routerService vendorTemplateService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$activityPickerComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$ActivityPickerController,controllerAs:"ctrl",bindings:{activityGroups:"<?"},templateUrl:"/ogt/components/activity/activity_picker_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_root_component_ActivityRootController=function(hostedStateService){this.hostedStateService=hostedStateService;this.isViewReady=this.isSnippetCollapsed=!1};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_root_component_ActivityRootController.prototype.$onInit=function(){var $jscomp$this=this;this.hostedStateService.waitForInit().then(function(){$jscomp$this.isViewReady=!0})};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_root_component_ActivityRootController.prototype.toggleSnippetCollapse=function(){this.isSnippetCollapsed=!this.isSnippetCollapsed};
$jscomp$global.Object.defineProperties(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_root_component_ActivityRootController.prototype,{hostApp:{configurable:!0,enumerable:!0,get:function(){return this.hostedStateService.getHostApp()}},tagId:{configurable:!0,enumerable:!0,get:function(){return this.hostedStateService.getMeasurementId()}}});
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_root_component_ActivityRootController.$inject=["hostedStateService"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_root_component$activityRootComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_root_component_ActivityRootController,controllerAs:"ctrl",templateUrl:"/ogt/components/activity/activity_root_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.activity",[module$exports$google3$java$com$google$analytics$containertag$ui$common$emptyplaceholder$emptyplaceholder_module$module.name]).component("activityPicker",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_picker_component$activityPickerComponent).component("activityRoot",
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_root_component$activityRootComponent);function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_utils_getInstanceName(helper){var nameParam=helper.getParam("instanceName");if(null==nameParam?0:nameParam.value)return module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(nameParam.value)}
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_utils_instanceOrderComparator(helper1,helper2){var orderParam1=helper1.getParam("instanceOrder"),orderParam2=helper2.getParam("instanceOrder");if(orderParam1||orderParam2){if(!orderParam1)return 1;if(!orderParam2)return-1}else return 0;var order1=Number(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(orderParam1.value)),order2=Number(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(orderParam2.value));
return order1-order2}function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_utils_setInstanceOrder(helper,order){var orderParam=helper.getParam("instanceOrder");orderParam&&(orderParam.value={type:6,integer:String(order)})};var goog$i18n$CompactNumberFormatSymbols_en={COMPACT_DECIMAL_SHORT_PATTERN:{1E3:{other:"0K"},1E4:{other:"00K"},1E5:{other:"000K"},1E6:{other:"0M"},1E7:{other:"00M"},1E8:{other:"000M"},1E9:{other:"0B"},1E10:{other:"00B"},1E11:{other:"000B"},1E12:{other:"0T"},1E13:{other:"00T"},1E14:{other:"000T"}},COMPACT_DECIMAL_LONG_PATTERN:{1E3:{other:"0 thousand"},1E4:{other:"00 thousand"},1E5:{other:"000 thousand"},1E6:{other:"0 million"},1E7:{other:"00 million"},1E8:{other:"000 million"},1E9:{other:"0 billion"},
1E10:{other:"00 billion"},1E11:{other:"000 billion"},1E12:{other:"0 trillion"},1E13:{other:"00 trillion"},1E14:{other:"000 trillion"}}},goog$i18n$CompactNumberFormatSymbols=goog$i18n$CompactNumberFormatSymbols_en;goog$i18n$CompactNumberFormatSymbols=goog$i18n$CompactNumberFormatSymbols_en;var goog$i18n$currency$CurrencyInfo={AED:[2,"dh","\u062f.\u0625."],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[32,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[50,"K\u010d","K\u010d"],DKK:[50,"kr.","kr."],DOP:[2,"RD$","RD$"],EGP:[2,"\u00a3","LE"],ETB:[2,"Birr","Birr"],EUR:[2,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],
HRK:[2,"kn","kn"],HUF:[34,"Ft","Ft"],IDR:[0,"Rp","Rp"],ILS:[34,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"\u20ae","MN\u20ae"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","PHP"],PKR:[0,"Rs","PKRs."],PLN:[50,"z\u0142","z\u0142"],RON:[2,"RON","RON"],RSD:[0,
"din","RSD"],RUB:[50,"\u20bd","RUB"],SAR:[2,"SAR","SAR"],SEK:[50,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"\u20ba","TRY"],TWD:[2,"$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"\u0433\u0440\u043d.","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[48,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};var module$exports$goog$i18n$NativeLocaleDigits$FormatWithLocaleDigits={ar:"latn","ar-EG":"arab",bn:"beng",fa:"arabext",mr:"deva",my:"mymr",ne:"deva"};var goog$i18n$NumberFormatSymbols_en={DECIMAL_SEP:".",GROUP_SEP:",",PERCENT:"%",ZERO_DIGIT:"0",PLUS_SIGN:"+",MINUS_SIGN:"-",EXP_SYMBOL:"E",PERMILL:"\u2030",INFINITY:"\u221e",NAN:"NaN",DECIMAL_PATTERN:"#,##0.###",SCIENTIFIC_PATTERN:"#E0",PERCENT_PATTERN:"#,##0%",CURRENCY_PATTERN:"\u00a4#,##0.00",DEF_CURRENCY_CODE:"USD"},goog$i18n$NumberFormatSymbols=goog$i18n$NumberFormatSymbols_en;goog$i18n$NumberFormatSymbols=goog$i18n$NumberFormatSymbols_en;var goog$i18n$NumberFormat=function(pattern,opt_currency,opt_currencyStyle,opt_symbols){var JSCompiler_temp;if(JSCompiler_temp=opt_currency){a:if(opt_currency&&3===opt_currency.length){for(var i=0;3>i;i++){var c=opt_currency[i];if("A">c||"Z"<c&&"a">c||"z"<c){var JSCompiler_inline_result=!1;break a}}JSCompiler_inline_result=!0}else JSCompiler_inline_result=!1;JSCompiler_temp=!JSCompiler_inline_result}if(JSCompiler_temp)throw new TypeError("Currency must be valid ISO code");this.intlFormatter_=null;
this.resetFractionDigits_=this.resetSignificantDigits_=!1;this.intlCurrencyCode_=opt_currency?opt_currency.toUpperCase():null;this.currencyStyle_=opt_currencyStyle||0;this.overrideNumberFormatSymbols_=opt_symbols||null;this.maximumIntegerDigits_=40;this.minimumIntegerDigits_=1;this.significantDigits_=0;this.maximumFractionDigits_=3;this.minExponentDigits_=this.minimumFractionDigits_=0;this.showTrailingZeros_=this.useSignForPositiveExponent_=!1;this.positiveSuffix_=this.positivePrefix_="";this.negativePrefix_=
this.getNumberFormatSymbols_().MINUS_SIGN;this.negativeSuffix_="";this.multiplier_=1;this.negativePercentSignExpected_=!1;this.groupingArray_=[];this.useExponentialNotation_=this.decimalSeparatorAlwaysShown_=!1;this.compactStyle_=0;this.baseFormattingNumber_=null;this.inputPattern_="number"===typeof pattern?pattern:-1;this.pattern_="string"===typeof pattern?pattern:"";this.setFormatterToPolyfill_(pattern)};
goog$i18n$NumberFormat.prototype.getNumberFormatSymbols_=function(){return this.overrideNumberFormatSymbols_||goog$i18n$NumberFormatSymbols};goog$i18n$NumberFormat.prototype.getCurrencyCode_=function(){return this.intlCurrencyCode_||this.getNumberFormatSymbols_().DEF_CURRENCY_CODE};
goog$i18n$NumberFormat.prototype.setMinimumFractionDigits=function(min){if(0<this.significantDigits_&&0<min)throw Error("Can't combine significant digits and minimum fraction digits");this.resetFractionDigits_=!0;this.minimumFractionDigits_=min;return this};goog$i18n$NumberFormat.prototype.getMinimumFractionDigits=function(){return this.minimumFractionDigits_};
goog$i18n$NumberFormat.prototype.setMaximumFractionDigits=function(max){if(308<max)throw Error("Unsupported maximum fraction digits: "+max);this.resetFractionDigits_=!0;this.maximumFractionDigits_=max;return this};goog$i18n$NumberFormat.prototype.getMaximumFractionDigits=function(){return this.maximumFractionDigits_};
goog$i18n$NumberFormat.prototype.setSignificantDigits=function(number){if(0<this.minimumFractionDigits_&&0<=number)throw Error("Can't combine significant digits and minimum fraction digits");number!==this.significantDigits_&&(this.resetSignificantDigits_=!0);this.significantDigits_=number;return this};goog$i18n$NumberFormat.prototype.getSignificantDigits=function(){return this.significantDigits_};
goog$i18n$NumberFormat.prototype.setShowTrailingZeros=function(showTrailingZeros){this.showTrailingZeros_=showTrailingZeros;return this};goog$i18n$NumberFormat.prototype.setBaseFormatting=function(baseFormattingNumber){this.baseFormattingNumber_=baseFormattingNumber;return this};goog$i18n$NumberFormat.prototype.getBaseFormatting=function(){return this.baseFormattingNumber_};
goog$i18n$NumberFormat.prototype.setFormatterToPolyfill_=function(pattern){this.intlFormatter_=null;"number"===typeof pattern?this.applyStandardPattern_(pattern):this.applyPattern_(pattern)};
goog$i18n$NumberFormat.prototype.applyPattern_=function(pattern){this.pattern_=pattern.replace(/ /g,"\u00a0");var pos=[0];this.positivePrefix_=this.parseAffix_(pattern,pos);var trunkStart=pos[0];this.parseTrunk_(pattern,pos);var trunkLen=pos[0]-trunkStart;this.positiveSuffix_=this.parseAffix_(pattern,pos);pos[0]<pattern.length&&";"==pattern.charAt(pos[0])?(pos[0]++,1!=this.multiplier_&&(this.negativePercentSignExpected_=!0),this.negativePrefix_=this.parseAffix_(pattern,pos),pos[0]+=trunkLen,this.negativeSuffix_=
this.parseAffix_(pattern,pos)):(this.negativePrefix_+=this.positivePrefix_,this.negativeSuffix_+=this.positiveSuffix_)};
goog$i18n$NumberFormat.prototype.applyStandardPattern_=function(patternType){switch(patternType){case 1:this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);break;case 2:this.applyPattern_(this.getNumberFormatSymbols_().SCIENTIFIC_PATTERN);break;case 3:this.applyPattern_(this.getNumberFormatSymbols_().PERCENT_PATTERN);break;case 4:var JSCompiler_temp_const=this.applyPattern_;var pattern=this.getNumberFormatSymbols_().CURRENCY_PATTERN,strParts=["0"],info=goog$i18n$currency$CurrencyInfo[this.getCurrencyCode_()];
if(info){var precision=info[0]&7;if(0<precision){strParts.push(".");for(var i=0;i<precision;i++)strParts.push("0")}var JSCompiler_inline_result=pattern.replace(/0.00/g,strParts.join(""))}else JSCompiler_inline_result=pattern;JSCompiler_temp_const.call(this,JSCompiler_inline_result);break;case 5:this.applyCompactStyle_(1);break;case 6:this.applyCompactStyle_(2);break;default:throw Error("Unsupported pattern type.");}};
goog$i18n$NumberFormat.prototype.applyCompactStyle_=function(style){this.compactStyle_=style;this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);this.setMinimumFractionDigits(0);this.setMaximumFractionDigits(2);this.setSignificantDigits(2)};
goog$i18n$NumberFormat.prototype.parse=function(text,opt_pos){var pos=opt_pos||[0];if(0!==this.compactStyle_)throw Error("Parsing of compact numbers is unimplemented");text=text.replace(/ |\u202f/g,"\u00a0");var gotPositive=text.indexOf(this.positivePrefix_,pos[0])==pos[0],gotNegative=text.indexOf(this.negativePrefix_,pos[0])==pos[0];gotPositive&&gotNegative&&(this.positivePrefix_.length>this.negativePrefix_.length?gotNegative=!1:this.positivePrefix_.length<this.negativePrefix_.length&&(gotPositive=
!1));gotPositive?pos[0]+=this.positivePrefix_.length:gotNegative&&(pos[0]+=this.negativePrefix_.length);if(text.indexOf(this.getNumberFormatSymbols_().INFINITY,pos[0])==pos[0]){pos[0]+=this.getNumberFormatSymbols_().INFINITY.length;var ret=Infinity}else ret=this.parseNumber_(text,pos);if(gotPositive){if(text.indexOf(this.positiveSuffix_,pos[0])!=pos[0])return NaN;pos[0]+=this.positiveSuffix_.length}else if(gotNegative){if(text.indexOf(this.negativeSuffix_,pos[0])!=pos[0])return NaN;pos[0]+=this.negativeSuffix_.length}return gotNegative?
-ret:ret};
goog$i18n$NumberFormat.prototype.parseNumber_=function(text,pos){var sawDecimal=!1,sawExponent=!1,sawDigit=!1,exponentPos=-1,scale=1,decimal=this.getNumberFormatSymbols_().DECIMAL_SEP,grouping=this.getNumberFormatSymbols_().GROUP_SEP,exponentChar=this.getNumberFormatSymbols_().EXP_SYMBOL;if(0!=this.compactStyle_)throw Error("Parsing of compact style numbers is not implemented");grouping=grouping.replace(/\u202f/g,"\u00a0");for(var normalizedText="";pos[0]<text.length;pos[0]++){var ch=text.charAt(pos[0]),digit=
this.getDigit_(ch);if(0<=digit&&9>=digit)normalizedText+=digit,sawDigit=!0;else if(ch==decimal.charAt(0)){if(sawDecimal||sawExponent)break;normalizedText+=".";sawDecimal=!0}else if(ch==grouping.charAt(0)&&("\u00a0"!=grouping.charAt(0)||pos[0]+1<text.length&&0<=this.getDigit_(text.charAt(pos[0]+1)))){if(sawDecimal||sawExponent)break}else if(ch==exponentChar.charAt(0)){if(sawExponent)break;normalizedText+="E";sawExponent=!0;exponentPos=pos[0]}else if("+"==ch||"-"==ch){if(sawDigit&&exponentPos!=pos[0]-
1)break;normalizedText+=ch}else if(1==this.multiplier_&&ch==this.getNumberFormatSymbols_().PERCENT.charAt(0)){if(1!=scale)break;scale=100;if(sawDigit){pos[0]++;break}}else if(1==this.multiplier_&&ch==this.getNumberFormatSymbols_().PERMILL.charAt(0)){if(1!=scale)break;scale=1E3;if(sawDigit){pos[0]++;break}}else break}1!=this.multiplier_&&(scale=this.multiplier_);return parseFloat(normalizedText)/scale};
goog$i18n$NumberFormat.prototype.SetUpIntlFormatter_=function(inputPattern){var options={notation:"standard",minimumIntegerDigits:Math.min(21,Math.max(1,this.minimumIntegerDigits_))};this.useSignForPositiveExponent_&&(options.signDisplay="always");this.resetSignificantDigits_?(options.minimumSignificantDigits=1,options.maximumSignificantDigits=Math.max(1,Math.min(21,this.significantDigits_))):this.resetFractionDigits_&&(options.minimumFractionDigits=Math.max(0,this.minimumFractionDigits_),options.maximumFractionDigits=
Math.min(20,Math.max(0,this.maximumFractionDigits_)));switch(inputPattern){case 1:options.style="decimal";break;case 2:options.notation="scientific";options.maximumFractionDigits=Math.min(20,Math.max(0,this.minExponentDigits_));break;case 3:options.style="percent";break;case 4:options.style="currency";var currencyCode=this.getCurrencyCode_();options.currency=currencyCode;var precision=currencyCode in goog$i18n$currency$CurrencyInfo?goog$i18n$currency$CurrencyInfo[currencyCode][0]%16:2;this.resetFractionDigits_?
(options.minimumFractionDigits=Math.max(this.minimumFractionDigits_,0),options.maximumFractionDigits=Math.min(this.maximumFractionDigits_,20)):(options.minimumFractionDigits=Math.max(0,precision),options.maximumFractionDigits=Math.min(options.minimumFractionDigits,20));switch(this.currencyStyle_){default:case 1:options.currencyDisplay="symbol";break;case 2:options.currencyDisplay="code";break;case 0:options.currencyDisplay="symbol"}break;case 5:this.compactStyle_=1;options.notation="compact";options.compactDisplay=
"short";break;case 6:this.compactStyle_=2;options.notation="compact";options.compactDisplay="long";break;default:throw Error("Unsupported ECMAScript NumberFormat custom pattern = "+this.pattern_);}try{var locale;(locale="en".replace("_","-"))&&locale in module$exports$goog$i18n$NativeLocaleDigits$FormatWithLocaleDigits&&(options.numberingSystem=module$exports$goog$i18n$NativeLocaleDigits$FormatWithLocaleDigits[locale]);this.intlFormatter_=new Intl.NumberFormat(locale,options)}catch(error){throw this.intlFormatter_=
null,Error("ECMAScript NumberFormat error: "+error);}this.resetFractionDigits_=this.resetSignificantDigits_=!1};goog$i18n$NumberFormat.prototype.NativeOptionsChanged_=function(){return this.resetSignificantDigits_||this.resetFractionDigits_||!1};
goog$i18n$NumberFormat.prototype.format=function(number){if(this.minimumFractionDigits_>this.maximumFractionDigits_)throw Error("Min value must be less than max value");if(isNaN(number))return this.getNumberFormatSymbols_().NAN;var parts=[],unit=this.getUnitAfterRounding_(null===this.baseFormattingNumber_?number:this.baseFormattingNumber_,number);number=goog$i18n$NumberFormat$decimalShift_(number,-unit.divisorBase);var isNegative=0>number||0==number&&0>1/number;isNegative?unit.negative_prefix?parts.push(unit.negative_prefix):
(parts.push(unit.prefix),parts.push(this.negativePrefix_)):(parts.push(unit.prefix),parts.push(this.positivePrefix_));isFinite(number)?(number*=isNegative?-1:1,number*=this.multiplier_,this.useExponentialNotation_?this.subformatExponential_(number,parts):this.subformatFixed_(number,this.minimumIntegerDigits_,parts)):parts.push(this.getNumberFormatSymbols_().INFINITY);isNegative?unit.negative_suffix?parts.push(unit.negative_suffix):(isFinite(number)&&parts.push(unit.suffix),parts.push(this.negativeSuffix_)):
(isFinite(number)&&parts.push(unit.suffix),parts.push(this.positiveSuffix_));return parts.join("")};
goog$i18n$NumberFormat.prototype.formatUsingNativeMode_=function(number){(null==this.intlFormatter_.format||this.NativeOptionsChanged_())&&this.SetUpIntlFormatter_(this.inputPattern_);if(1>Math.abs(number)&&this.significantDigits_>this.maximumFractionDigits_){var multipler=Math.pow(10,this.maximumFractionDigits_);number=Math.round(Math.abs(number)*multipler)*Math.sign(number)/multipler}var options=this.intlFormatter_.resolvedOptions();if("percent"===options.style&&this.overrideNumberFormatSymbols_&&
this.overrideNumberFormatSymbols_.PERCENT){var resultParts=this.intlFormatter_.formatToParts(number),percentReplacement=this.overrideNumberFormatSymbols_.PERCENT;return resultParts.map(function(element){return"percentSign"===element.type?percentReplacement:element.value}).join("")}if(this.showTrailingZeros_){var resultParts$235=this.intlFormatter_.formatToParts(number),intSize=0;resultParts$235.forEach(function(element){return"integer"===element.type&&"0"!==element.value?intSize+=element.value.length:
0});for(var fracSize=0,i=0;i<resultParts$235.length;i++)"fraction"===resultParts$235[i].type&&(fracSize+=resultParts$235[i].value.length);if(intSize+fracSize<this.significantDigits_){delete options.minimumSignificantDigits;delete options.maximumSignificantDigits;options.minimumFractionDigits=this.significantDigits_-intSize;this.resetFractionDigits_=!0;try{return(new Intl.NumberFormat(options.locale,options)).format(number)}catch($jscomp$unused$catch){return this.intlFormatter_.format(number)}}}if(this.baseFormattingNumber_){var scaledResult=
this.intlFormatter_.formatToParts(this.baseFormattingNumber_);delete options.compactDisplay;options.notation="standard";if(0!=number){var scaledForFraction=this.baseFormattingNumber_/number,fractionDigits=0;1<Math.abs(scaledForFraction)&&(fractionDigits=this.intLog10_(this.baseFormattingNumber_/number),Math.round(scaledForFraction)!=scaledForFraction&&(fractionDigits+=1));Number.isNaN(fractionDigits)||options.minimumFractionDigits?options.maximumFractionDigits=options.minimumFractionDigits:(options.minimumFractionDigits=
fractionDigits,options.maximumFractionDigits=options.maximumFractionDigits?Math.max(options.maximumFractionDigits,fractionDigits):fractionDigits);delete options.minimumSignificantDigits;delete options.maximumSignificantDigits}var unit=this.getUnitAfterRounding_(null===this.baseFormattingNumber_?number:this.baseFormattingNumber_,number),reducedNumber=goog$i18n$NumberFormat$decimalShift_(number,-unit.divisorBase);try{var reducedFormatter=new Intl.NumberFormat(options.locale,options)}catch($jscomp$unused$catch$236){return this.intlFormatter_.format(number)}var baseFormattedParts=
reducedFormatter.formatToParts(reducedNumber).map(function(element){return"integer"===element.type||"group"===element.type||"decimal"===element.type||"fraction"===element.type?element.value:""}),compactAdditions=scaledResult.filter(function(entry){return"compact"===entry.type||"literal"===entry.type}).map(function(entry){return entry.value});return baseFormattedParts.concat(compactAdditions).join("")}return this.intlFormatter_.format(number)};
goog$i18n$NumberFormat.prototype.roundNumber_=function(number){var shiftedNumber=goog$i18n$NumberFormat$decimalShift_(number,this.maximumFractionDigits_);0<this.significantDigits_&&(shiftedNumber=this.roundToSignificantDigits_(shiftedNumber,this.significantDigits_,this.maximumFractionDigits_));shiftedNumber=Math.round(shiftedNumber);if(isFinite(shiftedNumber)){var intValue=Math.floor(goog$i18n$NumberFormat$decimalShift_(shiftedNumber,-this.maximumFractionDigits_));var fracValue=Math.floor(shiftedNumber-
goog$i18n$NumberFormat$decimalShift_(intValue,this.maximumFractionDigits_))}else intValue=number,fracValue=0;return{intValue:intValue,fracValue:fracValue}};
goog$i18n$NumberFormat.prototype.formatNumberGroupingRepeatingDigitsParts_=function(parts,zeroCode,intPart,groupingArray,repeatedDigitLen){for(var nonRepeatedGroupCompleteCount=0,currentGroupSizeIndex=0,currentGroupSize,grouping=this.getNumberFormatSymbols_().GROUP_SEP,digitLen=intPart.length,i=0;i<digitLen;i++)if(parts.push(String.fromCharCode(zeroCode+1*Number(intPart.charAt(i)))),1<digitLen-i)if(currentGroupSize=groupingArray[currentGroupSizeIndex],i<repeatedDigitLen){var repeatedDigitIndex=repeatedDigitLen-
i;(1===currentGroupSize||0<currentGroupSize&&1===repeatedDigitIndex%currentGroupSize)&&parts.push(grouping)}else currentGroupSizeIndex<groupingArray.length&&(i===repeatedDigitLen?currentGroupSizeIndex+=1:currentGroupSize===i-repeatedDigitLen-nonRepeatedGroupCompleteCount+1&&(parts.push(grouping),nonRepeatedGroupCompleteCount+=currentGroupSize,currentGroupSizeIndex+=1));return parts};
goog$i18n$NumberFormat.prototype.formatNumberGroupingNonRepeatingDigitsParts_=function(parts,zeroCode,intPart,groupingArray){var grouping=this.getNumberFormatSymbols_().GROUP_SEP,currentGroupSizeIndex,digitLenLeft=intPart.length,rightToLeftParts=[];for(currentGroupSizeIndex=groupingArray.length-1;0<=currentGroupSizeIndex&&0<digitLenLeft;currentGroupSizeIndex--){var currentGroupSize=groupingArray[currentGroupSizeIndex];for(var rightDigitIndex=0;rightDigitIndex<currentGroupSize&&0<=digitLenLeft-rightDigitIndex-
1;rightDigitIndex++)rightToLeftParts.push(String.fromCharCode(zeroCode+1*Number(intPart.charAt(digitLenLeft-rightDigitIndex-1))));digitLenLeft-=currentGroupSize;0<digitLenLeft&&rightToLeftParts.push(grouping)}parts.push.apply(parts,rightToLeftParts.reverse());return parts};
goog$i18n$NumberFormat.prototype.subformatFixed_=function(number,minIntDigits,parts){if(this.minimumFractionDigits_>this.maximumFractionDigits_)throw Error("Min value must be less than max value");parts||(parts=[]);var rounded=this.roundNumber_(number),intValue=rounded.intValue,fracValue=rounded.fracValue,numIntDigits=0==intValue?0:this.intLog10_(intValue)+1,fractionPresent=0<this.minimumFractionDigits_||0<fracValue||this.showTrailingZeros_&&numIntDigits<this.significantDigits_,minimumFractionDigits=
this.minimumFractionDigits_;fractionPresent&&(minimumFractionDigits=this.showTrailingZeros_&&0<this.significantDigits_?this.significantDigits_-numIntDigits:this.minimumFractionDigits_);for(var intPart="",translatableInt=intValue;1E20<translatableInt;)intPart="0"+intPart,translatableInt=Math.round(goog$i18n$NumberFormat$decimalShift_(translatableInt,-1));intPart=translatableInt+intPart;var decimal=this.getNumberFormatSymbols_().DECIMAL_SEP,zeroCode=this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0),
digitLen=intPart.length,nonRepeatedGroupCount=0;if(0<intValue||0<minIntDigits){for(var i=digitLen;i<minIntDigits;i++)parts.push(String.fromCharCode(zeroCode));if(2<=this.groupingArray_.length)for(var j=1;j<this.groupingArray_.length;j++)nonRepeatedGroupCount+=this.groupingArray_[j];var repeatedDigitLen=digitLen-nonRepeatedGroupCount;parts=0<repeatedDigitLen?this.formatNumberGroupingRepeatingDigitsParts_(parts,zeroCode,intPart,this.groupingArray_,repeatedDigitLen):this.formatNumberGroupingNonRepeatingDigitsParts_(parts,
zeroCode,intPart,this.groupingArray_)}else fractionPresent||parts.push(String.fromCharCode(zeroCode));(this.decimalSeparatorAlwaysShown_||fractionPresent)&&parts.push(decimal);var fracPart=String(fracValue),fracPartSplit=fracPart.split("e+");2==fracPartSplit.length&&(fracPart=String(this.roundToSignificantDigits_(parseFloat(fracPartSplit[0]),this.significantDigits_,1)),fracPart=fracPart.replace(".",""),fracPart+=goog$string$repeat("0",parseInt(fracPartSplit[1],10)-fracPart.length+1));this.maximumFractionDigits_+
1>fracPart.length&&(fracPart="1"+goog$string$repeat("0",this.maximumFractionDigits_-fracPart.length)+fracPart);for(var fracLen=fracPart.length;"0"==fracPart.charAt(fracLen-1)&&fracLen>minimumFractionDigits+1;)fracLen--;for(var i$237=1;i$237<fracLen;i$237++)parts.push(String.fromCharCode(zeroCode+1*Number(fracPart.charAt(i$237))))};
goog$i18n$NumberFormat.prototype.addExponentPart_=function(exponent,parts){parts.push(this.getNumberFormatSymbols_().EXP_SYMBOL);0>exponent?(exponent=-exponent,parts.push(this.getNumberFormatSymbols_().MINUS_SIGN)):this.useSignForPositiveExponent_&&parts.push(this.getNumberFormatSymbols_().PLUS_SIGN);for(var exponentDigits=""+exponent,zeroChar=this.getNumberFormatSymbols_().ZERO_DIGIT,i=exponentDigits.length;i<this.minExponentDigits_;i++)parts.push(zeroChar);parts.push(exponentDigits)};
goog$i18n$NumberFormat.prototype.getMantissa_=function(value,exponent){return goog$i18n$NumberFormat$decimalShift_(value,-exponent)};
goog$i18n$NumberFormat.prototype.subformatExponential_=function(number,parts){if(0==number)this.subformatFixed_(number,this.minimumIntegerDigits_,parts),this.addExponentPart_(0,parts);else{var exponent=Math.floor(Math.log(number)/Math.log(10)+2E-15);number=this.getMantissa_(number,exponent);var minIntDigits=this.minimumIntegerDigits_;if(1<this.maximumIntegerDigits_&&this.maximumIntegerDigits_>this.minimumIntegerDigits_){var remainder=exponent%this.maximumIntegerDigits_;0>remainder&&(remainder=this.maximumIntegerDigits_+
remainder);number=goog$i18n$NumberFormat$decimalShift_(number,remainder);exponent-=remainder;minIntDigits=1}else 1>this.minimumIntegerDigits_?(exponent++,number=goog$i18n$NumberFormat$decimalShift_(number,-1)):(exponent-=this.minimumIntegerDigits_-1,number=goog$i18n$NumberFormat$decimalShift_(number,this.minimumIntegerDigits_-1));this.subformatFixed_(number,minIntDigits,parts);this.addExponentPart_(exponent,parts)}};
goog$i18n$NumberFormat.prototype.getDigit_=function(ch){var code=ch.charCodeAt(0);if(48<=code&&58>code)return code-48;var zeroCode=this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0);return zeroCode<=code&&code<zeroCode+10?code-zeroCode:-1};
goog$i18n$NumberFormat.prototype.parseAffix_=function(pattern,pos){for(var affix="",inQuote=!1,len=pattern.length;pos[0]<len;pos[0]++){var ch=pattern.charAt(pos[0]);if("'"==ch)pos[0]+1<len&&"'"==pattern.charAt(pos[0]+1)?(pos[0]++,affix+="'"):inQuote=!inQuote;else if(inQuote)affix+=ch;else switch(ch){case "#":case "0":case ",":case ".":case ";":return affix;case "\u00a4":if(pos[0]+1<len&&"\u00a4"==pattern.charAt(pos[0]+1))pos[0]++,affix+=this.getCurrencyCode_();else switch(this.currencyStyle_){case 0:var currencyCode=
this.getCurrencyCode_();affix+=currencyCode in goog$i18n$currency$CurrencyInfo?goog$i18n$currency$CurrencyInfo[currencyCode][1]:currencyCode;break;case 2:var currencyCode$jscomp$0=this.getCurrencyCode_(),info=goog$i18n$currency$CurrencyInfo[currencyCode$jscomp$0];affix+=info?currencyCode$jscomp$0==info[1]?currencyCode$jscomp$0:currencyCode$jscomp$0+" "+info[1]:currencyCode$jscomp$0;break;case 1:var currencyCode$jscomp$1=this.getCurrencyCode_();affix+=currencyCode$jscomp$1 in goog$i18n$currency$CurrencyInfo?
goog$i18n$currency$CurrencyInfo[currencyCode$jscomp$1][2]:currencyCode$jscomp$1}break;case "%":if(!this.negativePercentSignExpected_&&1!=this.multiplier_)throw Error("Too many percent/permill");if(this.negativePercentSignExpected_&&100!=this.multiplier_)throw Error("Inconsistent use of percent/permill characters");this.multiplier_=100;this.negativePercentSignExpected_=!1;affix+=this.getNumberFormatSymbols_().PERCENT;break;case "\u2030":if(!this.negativePercentSignExpected_&&1!=this.multiplier_)throw Error("Too many percent/permill");
if(this.negativePercentSignExpected_&&1E3!=this.multiplier_)throw Error("Inconsistent use of percent/permill characters");this.multiplier_=1E3;this.negativePercentSignExpected_=!1;affix+=this.getNumberFormatSymbols_().PERMILL;break;default:affix+=ch}}return affix};
goog$i18n$NumberFormat.prototype.parseTrunk_=function(pattern,pos){for(var decimalPos=-1,digitLeftCount=0,zeroDigitCount=0,digitRightCount=0,groupingCount=-1,len=pattern.length,loop=!0;pos[0]<len&&loop;pos[0]++)switch(pattern.charAt(pos[0])){case "#":0<zeroDigitCount?digitRightCount++:digitLeftCount++;0<=groupingCount&&0>decimalPos&&groupingCount++;break;case "0":if(0<digitRightCount)throw Error('Unexpected "0" in pattern "'+pattern+'"');zeroDigitCount++;0<=groupingCount&&0>decimalPos&&groupingCount++;
break;case ",":0<groupingCount&&this.groupingArray_.push(groupingCount);groupingCount=0;break;case ".":if(0<=decimalPos)throw Error('Multiple decimal separators in pattern "'+pattern+'"');decimalPos=digitLeftCount+zeroDigitCount+digitRightCount;break;case "E":if(this.useExponentialNotation_)throw Error('Multiple exponential symbols in pattern "'+pattern+'"');this.useExponentialNotation_=!0;this.minExponentDigits_=0;pos[0]+1<len&&"+"==pattern.charAt(pos[0]+1)&&(pos[0]++,this.useSignForPositiveExponent_=
!0);for(;pos[0]+1<len&&"0"==pattern.charAt(pos[0]+1);)pos[0]++,this.minExponentDigits_++;if(1>digitLeftCount+zeroDigitCount||1>this.minExponentDigits_)throw Error('Malformed exponential pattern "'+pattern+'"');loop=!1;break;default:pos[0]--,loop=!1}if(0==zeroDigitCount&&0<digitLeftCount&&0<=decimalPos){var n=decimalPos;0==n&&n++;digitRightCount=digitLeftCount-n;digitLeftCount=n-1;zeroDigitCount=1}if(0>decimalPos&&0<digitRightCount||0<=decimalPos&&(decimalPos<digitLeftCount||decimalPos>digitLeftCount+
zeroDigitCount)||0==groupingCount)throw Error('Malformed pattern "'+pattern+'"');var totalDigits=digitLeftCount+zeroDigitCount+digitRightCount;this.maximumFractionDigits_=0<=decimalPos?totalDigits-decimalPos:0;0<=decimalPos&&(this.minimumFractionDigits_=digitLeftCount+zeroDigitCount-decimalPos,0>this.minimumFractionDigits_&&(this.minimumFractionDigits_=0));this.minimumIntegerDigits_=(0<=decimalPos?decimalPos:totalDigits)-digitLeftCount;this.useExponentialNotation_&&(this.maximumIntegerDigits_=digitLeftCount+
this.minimumIntegerDigits_,0==this.maximumFractionDigits_&&0==this.minimumIntegerDigits_&&(this.minimumIntegerDigits_=1));this.groupingArray_.push(Math.max(0,groupingCount));this.decimalSeparatorAlwaysShown_=0==decimalPos||decimalPos==totalDigits};var goog$i18n$NumberFormat$NULL_UNIT_={divisorBase:0,negative_prefix:"",negative_suffix:"",prefix:"",suffix:""};
goog$i18n$NumberFormat.prototype.getUnitFor_=function(base,plurality){var table=1==this.compactStyle_?goog$i18n$CompactNumberFormatSymbols.COMPACT_DECIMAL_SHORT_PATTERN:goog$i18n$CompactNumberFormatSymbols.COMPACT_DECIMAL_LONG_PATTERN;null==table&&(table=goog$i18n$CompactNumberFormatSymbols.COMPACT_DECIMAL_SHORT_PATTERN);if(3>base)return goog$i18n$NumberFormat$NULL_UNIT_;base=Math.min(14,base);for(var patterns=table[goog$i18n$NumberFormat$decimalShift_(1,base)],previousNonNullBase=base-1;!patterns&&
3<=previousNonNullBase;)patterns=table[goog$i18n$NumberFormat$decimalShift_(1,previousNonNullBase)],previousNonNullBase--;if(!patterns)return goog$i18n$NumberFormat$NULL_UNIT_;var pattern=patterns[plurality],neg_prefix="",neg_suffix="",index_of_neg_part=pattern.indexOf(";"),neg_pattern;if(0<=index_of_neg_part&&(pattern=pattern.substring(0,index_of_neg_part),neg_pattern=pattern.substring(index_of_neg_part+1))){var neg_parts=/([^0]*)(0+)(.*)/.exec(neg_pattern);neg_prefix=neg_parts[1];neg_suffix=neg_parts[3]}if(!pattern||
"0"==pattern)return goog$i18n$NumberFormat$NULL_UNIT_;var parts=/([^0]*)(0+)(.*)/.exec(pattern);return parts?{divisorBase:previousNonNullBase+1-(parts[2].length-1),negative_prefix:neg_prefix,negative_suffix:neg_suffix,prefix:parts[1],suffix:parts[3]}:goog$i18n$NumberFormat$NULL_UNIT_};
goog$i18n$NumberFormat.prototype.getUnitAfterRounding_=function(formattingNumber,pluralityNumber){if(0==this.compactStyle_)return goog$i18n$NumberFormat$NULL_UNIT_;formattingNumber=Math.abs(formattingNumber);pluralityNumber=Math.abs(pluralityNumber);var initialDivisor=this.getUnitFor_(1>=formattingNumber?0:this.intLog10_(formattingNumber),this.pluralForm_(formattingNumber)).divisorBase,pluralityRounded=this.roundNumber_(goog$i18n$NumberFormat$decimalShift_(pluralityNumber,-initialDivisor));return this.getUnitFor_(initialDivisor+
this.intLog10_(this.roundNumber_(goog$i18n$NumberFormat$decimalShift_(formattingNumber,-initialDivisor)).intValue),this.pluralForm_(pluralityRounded.intValue+pluralityRounded.fracValue))};goog$i18n$NumberFormat.prototype.intLog10_=function(number){if(!isFinite(number))return 0<number?number:0;for(var i=0;1<=(number/=10);)i++;return i};
var goog$i18n$NumberFormat$decimalShift_=function(number,digitCount){if(!number||!isFinite(number)||0==digitCount)return number;var numParts=String(number).split("e");return parseFloat(numParts[0]+"e"+(parseInt(numParts[1]||0,10)+digitCount))},goog$i18n$NumberFormat$decimalRound_=function(number,decimalCount){return number&&isFinite(number)?goog$i18n$NumberFormat$decimalShift_(Math.round(goog$i18n$NumberFormat$decimalShift_(number,decimalCount)),-decimalCount):number};
goog$i18n$NumberFormat.prototype.roundToSignificantDigits_=function(number,significantDigits,scale){if(!number)return number;var magnitude=significantDigits-this.intLog10_(number)-1;return magnitude<-scale?goog$i18n$NumberFormat$decimalRound_(number,-scale):goog$i18n$NumberFormat$decimalRound_(number,magnitude)};goog$i18n$NumberFormat.prototype.pluralForm_=function(){return"other"};
goog$i18n$NumberFormat.prototype.isCurrencyCodeBeforeValue=function(){var posCurrSymbol=this.pattern_.indexOf("\u00a4"),posPound=this.pattern_.indexOf("#"),posZero=this.pattern_.indexOf("0"),posCurrValue=Number.MAX_VALUE;0<=posPound&&posPound<posCurrValue&&(posCurrValue=posPound);0<=posZero&&posZero<posCurrValue&&(posCurrValue=posZero);return posCurrSymbol<posCurrValue};var goog$i18n$ordinalRules$enSelect_=function(n){return 1==n%10&&11!=n%100?"one":2==n%10&&12!=n%100?"two":3==n%10&&13!=n%100?"few":"other"},goog$i18n$ordinalRules$select=goog$i18n$ordinalRules$enSelect_;goog$i18n$ordinalRules$select=goog$i18n$ordinalRules$enSelect_;var goog$i18n$pluralRules$enSelect_=function(n,precision){var i=n|0;if(void 0===precision){var JSCompiler_temp_const=Math,JSCompiler_temp_const$jscomp$0=JSCompiler_temp_const.min,str=n+"",result=str.indexOf(".");var JSCompiler_temp=JSCompiler_temp_const$jscomp$0.call(JSCompiler_temp_const,-1===result?0:str.length-result-1,3)}else JSCompiler_temp=precision;return 1==i&&0==JSCompiler_temp?"one":"other"},goog$i18n$pluralRules$select=goog$i18n$pluralRules$enSelect_;goog$i18n$pluralRules$select=goog$i18n$pluralRules$enSelect_;var goog$i18n$MessageFormat=function(pattern){this.pattern_=pattern;this.parsedPattern_=this.literals_=this.initialLiterals_=null;var currentSymbols=goog$i18n$NumberFormatSymbols,currentCompactSymbols=goog$i18n$CompactNumberFormatSymbols;if(goog$i18n$MessageFormat$numberFormatterSymbols_!==currentSymbols||goog$i18n$MessageFormat$compactNumberFormatterSymbols_!==currentCompactSymbols)goog$i18n$MessageFormat$numberFormatterSymbols_=currentSymbols,goog$i18n$MessageFormat$compactNumberFormatterSymbols_=
currentCompactSymbols,goog$i18n$MessageFormat$numberFormatter_=new goog$i18n$NumberFormat(1);this.numberFormatter_=goog$i18n$MessageFormat$numberFormatter_},goog$i18n$MessageFormat$numberFormatterSymbols_=null,goog$i18n$MessageFormat$compactNumberFormatterSymbols_=null,goog$i18n$MessageFormat$numberFormatter_=null,goog$i18n$MessageFormat$REGEX_LITERAL_=RegExp("'([{}#].*?)'","g"),goog$i18n$MessageFormat$REGEX_DOUBLE_APOSTROPHE_=RegExp("''","g");
goog$i18n$MessageFormat.prototype.format=function(namedParameters){return this.format_(namedParameters,!1)};goog$i18n$MessageFormat.prototype.formatIgnoringPound=function(namedParameters){return this.format_(namedParameters,!0)};
goog$i18n$MessageFormat.prototype.format_=function(namedParameters,ignorePound){this.init_();if(!this.parsedPattern_||0==this.parsedPattern_.length)return"";var object=this.initialLiterals_,length=object.length;if(0<length){for(var rv=Array(length),i=0;i<length;i++)rv[i]=object[i];var JSCompiler_inline_result=rv}else JSCompiler_inline_result=[];this.literals_=JSCompiler_inline_result;var result=[];this.formatBlock_(this.parsedPattern_,namedParameters,ignorePound,result);for(var message=result.join("");0<
this.literals_.length;)message=message.replace(this.buildPlaceholder_(this.literals_),this.literals_.pop());return message};
goog$i18n$MessageFormat.prototype.formatBlock_=function(parsedPattern,namedParameters,ignorePound,result){for(var i=0;i<parsedPattern.length;i++)switch(parsedPattern[i].type){case 4:result.push(parsedPattern[i].value);break;case 3:var pattern=parsedPattern[i].value;this.formatSimplePlaceholder_(pattern,namedParameters,result);break;case 2:pattern=parsedPattern[i].value;this.formatSelectBlock_(pattern,namedParameters,ignorePound,result);break;case 0:pattern=parsedPattern[i].value;this.formatPluralOrdinalBlock_(pattern,
namedParameters,goog$i18n$pluralRules$select,ignorePound,result);break;case 1:pattern=parsedPattern[i].value,this.formatPluralOrdinalBlock_(pattern,namedParameters,goog$i18n$ordinalRules$select,ignorePound,result)}};goog$i18n$MessageFormat.prototype.formatSimplePlaceholder_=function(parsedPattern,namedParameters,result){var value=namedParameters[parsedPattern];void 0===value?result.push("Undefined parameter - "+parsedPattern):(this.literals_.push(value),result.push(this.buildPlaceholder_(this.literals_)))};
goog$i18n$MessageFormat.prototype.formatSelectBlock_=function(parsedPattern,namedParameters,ignorePound,result){var argumentIndex=parsedPattern.argumentIndex;if(void 0===namedParameters[argumentIndex])result.push("Undefined parameter - "+argumentIndex);else{var option=parsedPattern[namedParameters[argumentIndex]];void 0===option&&(option=parsedPattern.other);this.formatBlock_(option,namedParameters,ignorePound,result)}};
goog$i18n$MessageFormat.prototype.formatPluralOrdinalBlock_=function(parsedPattern,namedParameters,pluralSelector,ignorePound,result){var argumentIndex=parsedPattern.argumentIndex,argumentOffset=parsedPattern.argumentOffset,pluralValue=+namedParameters[argumentIndex];if(isNaN(pluralValue))result.push("Undefined or invalid parameter - "+argumentIndex);else{var diff=pluralValue-argumentOffset,option=parsedPattern[namedParameters[argumentIndex]];if(void 0===option){var item=pluralSelector(Math.abs(diff));
option=parsedPattern[item];void 0===option&&(option=parsedPattern.other)}var pluralResult=[];this.formatBlock_(option,namedParameters,ignorePound,pluralResult);var plural=pluralResult.join("");if(ignorePound)result.push(plural);else{var localeAwareDiff=this.numberFormatter_.format(diff);result.push(plural.replace(/#/g,localeAwareDiff))}}};
goog$i18n$MessageFormat.prototype.init_=function(){if(this.pattern_){this.initialLiterals_=[];var pattern=this.insertPlaceholders_(this.pattern_);this.parsedPattern_=this.parseBlock_(pattern);this.pattern_=null}};
goog$i18n$MessageFormat.prototype.insertPlaceholders_=function(pattern){var literals=this.initialLiterals_,buildPlaceholder=goog$bind(this.buildPlaceholder_,this);pattern=pattern.replace(goog$i18n$MessageFormat$REGEX_DOUBLE_APOSTROPHE_,function(){literals.push("'");return buildPlaceholder(literals)});return pattern=pattern.replace(goog$i18n$MessageFormat$REGEX_LITERAL_,function(match,text){literals.push(text);return buildPlaceholder(literals)})};
goog$i18n$MessageFormat.prototype.extractParts_=function(pattern){var prevPos=0,braceStack=[],results=[],braces=/[{}]/g;braces.lastIndex=0;for(var match;match=braces.exec(pattern);){var pos=match.index;if("}"==match[0]){if(braceStack.pop(),0==braceStack.length){var part={type:1};part.value=pattern.substring(prevPos,pos);results.push(part);prevPos=pos+1}}else{if(0==braceStack.length){var substring=pattern.substring(prevPos,pos);""!=substring&&results.push({type:0,value:substring});prevPos=pos+1}braceStack.push("{")}}substring=
pattern.substring(prevPos);""!=substring&&results.push({type:0,value:substring});return results};var goog$i18n$MessageFormat$PLURAL_BLOCK_RE_=/^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/,goog$i18n$MessageFormat$ORDINAL_BLOCK_RE_=/^\s*(\w+)\s*,\s*selectordinal\s*,/,goog$i18n$MessageFormat$SELECT_BLOCK_RE_=/^\s*(\w+)\s*,\s*select\s*,/;
goog$i18n$MessageFormat.prototype.parseBlockType_=function(pattern){return goog$i18n$MessageFormat$PLURAL_BLOCK_RE_.test(pattern)?0:goog$i18n$MessageFormat$ORDINAL_BLOCK_RE_.test(pattern)?1:goog$i18n$MessageFormat$SELECT_BLOCK_RE_.test(pattern)?2:/^\s*\w+\s*/.test(pattern)?3:5};
goog$i18n$MessageFormat.prototype.parseBlock_=function(pattern){for(var result=[],parts=this.extractParts_(pattern),i=0;i<parts.length;i++){var block={};if(0==parts[i].type)block.type=4,block.value=parts[i].value;else if(1==parts[i].type)switch(this.parseBlockType_(parts[i].value)){case 2:block.type=2;block.value=this.parseSelectBlock_(parts[i].value);break;case 0:block.type=0;block.value=this.parsePluralBlock_(parts[i].value);break;case 1:block.type=1;block.value=this.parseOrdinalBlock_(parts[i].value);
break;case 3:block.type=3,block.value=parts[i].value}result.push(block)}return result};
goog$i18n$MessageFormat.prototype.parseSelectBlock_=function(pattern){var argumentIndex="";pattern=pattern.replace(goog$i18n$MessageFormat$SELECT_BLOCK_RE_,function(string,name){argumentIndex=name;return""});var result={};result.argumentIndex=argumentIndex;for(var parts=this.extractParts_(pattern),pos=0;pos<parts.length;){var key=parts[pos].value;pos++;var value;1==parts[pos].type&&(value=this.parseBlock_(parts[pos].value));result[key.replace(/\s/g,"")]=value;pos++}return result};
goog$i18n$MessageFormat.prototype.parsePluralBlock_=function(pattern){var argumentIndex="",argumentOffset=0;pattern=pattern.replace(goog$i18n$MessageFormat$PLURAL_BLOCK_RE_,function(string,name,offset){argumentIndex=name;offset&&(argumentOffset=parseInt(offset,10));return""});var result={};result.argumentIndex=argumentIndex;result.argumentOffset=argumentOffset;for(var parts=this.extractParts_(pattern),pos=0;pos<parts.length;){var key=parts[pos].value;pos++;var value;1==parts[pos].type&&(value=this.parseBlock_(parts[pos].value));
result[key.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=value;pos++}return result};
goog$i18n$MessageFormat.prototype.parseOrdinalBlock_=function(pattern){var argumentIndex="";pattern=pattern.replace(goog$i18n$MessageFormat$ORDINAL_BLOCK_RE_,function(string,name){argumentIndex=name;return""});var result={};result.argumentIndex=argumentIndex;result.argumentOffset=0;for(var parts=this.extractParts_(pattern),pos=0;pos<parts.length;){var key=parts[pos].value;pos++;if(1==parts[pos].type)var value=this.parseBlock_(parts[pos].value);result[key.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=value;pos++}return result};
goog$i18n$MessageFormat.prototype.buildPlaceholder_=function(literals){return"\ufddf_"+(literals.length-1).toString(10)+"_"};var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog_deleteMsg=new goog$i18n$MessageFormat("Are you sure you want to delete <strong>{NAME}</strong>?"),module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog$DeleteActivityDialogController=function(helper,mdPanelRef,panelDeferred){module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogController.call(this,
mdPanelRef,panelDeferred);this.helper=helper};$jscomp$inherits(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog$DeleteActivityDialogController,module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogController);module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog$DeleteActivityDialogController.prototype.delete=function(){this.confirm(this.helper)};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog$DeleteActivityDialogController.prototype,{deleteDialogBody:{configurable:!0,enumerable:!0,get:function(){var name=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_utils_getInstanceName(this.helper);return name?module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog_deleteMsg.format({NAME:name}):
"Are you sure you want to delete this configuration?"}}});module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog$DeleteActivityDialogController.prototype["delete"]=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog$DeleteActivityDialogController.prototype.delete;
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog$DeleteActivityDialogController.$inject=["helper","mdPanelRef","panelDeferred"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$UnsavedActivityDialogController=function(mdPanelRef,panelDeferred){module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogController.call(this,mdPanelRef,panelDeferred)};
$jscomp$inherits(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$UnsavedActivityDialogController,module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog$DialogController);module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$UnsavedActivityDialogController.prototype.stayHere=function(){this.cancel()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$UnsavedActivityDialogController.prototype.discardChanges=function(){this.confirm()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$UnsavedActivityDialogController.prototype.stayHere=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$UnsavedActivityDialogController.prototype.stayHere;
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$UnsavedActivityDialogController.$inject=["mdPanelRef","panelDeferred"];
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$unsavedDialogConfig={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$UnsavedActivityDialogController,templateUrl:"/ogt/components/activity/editor/unsaved_activity_dialog.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component_successfulSaveFormatter=new goog$i18n$MessageFormat('Configuration "{NAME}" saved'),module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component_successfulDeleteFormatter=new goog$i18n$MessageFormat('Configuration "{NAME}" deleted'),module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component_copiedNameFormatter=
new goog$i18n$MessageFormat("Copy of {NAME}"),module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController=function($q,$timeout,activityService,hostedStateService,busyLayerService,containerService,dialogService,errorHandlerService,routerService,toastService,vendorTemplateService){this.$q=$q;this.$timeout=$timeout;this.activityService=activityService;this.hostedStateService=hostedStateService;this.busyLayerService=
busyLayerService;this.containerService=containerService;this.dialogService=dialogService;this.errorHandlerService=errorHandlerService;this.routerService=routerService;this.toastService=toastService;this.vendorTemplateService=vendorTemplateService;this.isReadOnly=!0;this.isRequestInProgress=!1};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.$onInit=function(){var $jscomp$this=this,initPromise=this.isCreateMode?this.setupCreateMode():this.setupEditMode();this.busyLayerService.showLayerBusyUntil(this.$q.all([initPromise,this.hostedStateService.waitForInit().then(function(){$jscomp$this.isReadOnly=!$jscomp$this.hostedStateService.hasEditPermission()})]).catch(this.errorHandlerService.catchGenericError()));
this.closeListener=this.routerService.addCloseListener(function(){var $jscomp$optchain$tmpm1777192336$0;return(null==($jscomp$optchain$tmpm1777192336$0=$jscomp$this.veditor)?0:$jscomp$optchain$tmpm1777192336$0.isDirty())?$jscomp$this.dialogService.showDialog(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$unsavedDialogConfig):$jscomp$this.$q.resolve()})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.$onDestroy=function(){var $jscomp$optchain$tmpm1777192336$2;null==($jscomp$optchain$tmpm1777192336$2=this.closeListener)||$jscomp$optchain$tmpm1777192336$2.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.setVeditorController=function(veditor){this.veditor=veditor};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.setupCreateMode=function(){var $jscomp$this=this;return this.publicId?this.initializeHelper(this.publicId).then(function(){$jscomp$this.activity={properties:{servingContainerIds:[],triggers:[]}};return 3===$jscomp$this.activityType?$jscomp$this.initializeInstanceOrder():$jscomp$this.$q.resolve()}):this.$q.resolve()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.setupEditMode=function(){var $jscomp$this=this;return this.activityService.get({containerCollectionId:this.collectionId,ogtActivityId:Number(this.activityId)}).then(function(activity){return $jscomp$this.initializeHelper(activity.properties.templateInstance.key.publicId).then(function(){$jscomp$this.helper.setInstance(activity.properties.templateInstance);
$jscomp$this.activity=module$exports$google3$third_party$javascript$typings$angular$index.copy(activity)})})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.initializeHelper=function(publicId){var $jscomp$this=this;return this.vendorTemplateService.get(publicId).then(function(template){var context=$jscomp$this.containerService.getContainerUsageContext($jscomp$this.hostedStateService.getMeasurementId()),contextHelper=new module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper([context]);
$jscomp$this.helper=(new module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper($jscomp$this.$timeout,contextHelper,$jscomp$this.hostedStateService.getProductContext())).setTemplate(template.data)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.initializeInstanceOrder=function(){var $jscomp$this=this;return this.activityService.getList(this.publicId).then(function(activities){$jscomp$this.helper&&module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_utils_setInstanceOrder($jscomp$this.helper,activities.length)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.close=function(){this.routerService.back()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.saveActivity=function(){var $jscomp$this=this;if(this.activity&&!this.isRequestInProgress){this.isRequestInProgress=!0;var $jscomp$optchain$tmpm1777192336$14;if(null==($jscomp$optchain$tmpm1777192336$14=this.activity)?0:$jscomp$optchain$tmpm1777192336$14.properties)this.activity.properties.templateInstance=this.helper.getInstance();var savePromise=
this.addOrUpdateActivity(module$exports$google3$third_party$javascript$typings$angular$index.copy(this.activity)).then(function(){var $jscomp$optchain$tmpm1777192336$15;null==($jscomp$optchain$tmpm1777192336$15=$jscomp$this.veditor)||$jscomp$optchain$tmpm1777192336$15.setPristine();$jscomp$this.closeAndShowToast($jscomp$this.getFormattedSuccessMessage(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component_successfulSaveFormatter,
"Configuration saved"))}).catch(function(error){var $jscomp$optchain$tmpm1777192336$16;null==($jscomp$optchain$tmpm1777192336$16=$jscomp$this.veditor)||$jscomp$optchain$tmpm1777192336$16.gotoValidationError();$jscomp$this.errorHandlerService.handleError(error)}).finally(function(){$jscomp$this.isRequestInProgress=!1});this.busyLayerService.showLayerBusyUntil(savePromise)}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.addOrUpdateActivity=function(activity){return this.isCreateMode?this.activityService.create({containerCollectionId:this.collectionId},activity):this.activityService.update(activity)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.copyActivity=function(){var $jscomp$this=this;if(!this.isCreateMode&&this.helper){this.publicId=this.helper.template.publicId;this.activityId=void 0;var copyPromise=3===this.activityType?this.initializeInstanceOrder():this.$q.resolve();copyPromise=copyPromise.then(function(){var newName=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component_copiedNameFormatter.format({NAME:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_utils_getInstanceName($jscomp$this.helper)}),
orderParam=$jscomp$this.helper.getParam("instanceName");orderParam&&(orderParam.value=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString(newName));var $jscomp$optchain$tmpm1777192336$17;null==($jscomp$optchain$tmpm1777192336$17=$jscomp$this.veditor)||$jscomp$optchain$tmpm1777192336$17.setDirty()}).catch(this.errorHandlerService.catchGenericError());this.busyLayerService.showLayerBusyUntil(copyPromise)}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.deleteActivity=function(){var $jscomp$this=this;if(!this.isContextActionsAvailable||this.isRequestInProgress)return this.$q.resolve();this.isRequestInProgress=!0;return this.dialogService.showDialog({context:{helper:this.helper},controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$delete_activity_dialog$DeleteActivityDialogController,
templateUrl:"/ogt/components/activity/editor/delete_activity_dialog.html"}).then(function(){var $jscomp$optchain$tmpm1777192336$18,key=null==($jscomp$optchain$tmpm1777192336$18=$jscomp$this.activity)?void 0:$jscomp$optchain$tmpm1777192336$18.key;if(key){var deletePromise=$jscomp$this.activityService.delete(key).then(function(){var $jscomp$optchain$tmpm1777192336$19;null==($jscomp$optchain$tmpm1777192336$19=$jscomp$this.veditor)||$jscomp$optchain$tmpm1777192336$19.setPristine();$jscomp$this.closeAndShowToast($jscomp$this.getFormattedSuccessMessage(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component_successfulDeleteFormatter,
"Configuration deleted"))}).catch($jscomp$this.errorHandlerService.catchGenericError());$jscomp$this.busyLayerService.showLayerBusyUntil(deletePromise);return deletePromise}}).catch(module$exports$google3$third_party$javascript$typings$angular$index.noop).finally(function(){$jscomp$this.isRequestInProgress=!1})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.closeAndShowToast=function(message){var $jscomp$this=this;this.close();this.$timeout(function(){$jscomp$this.toastService.show(message)},400)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype.getFormattedSuccessMessage=function(formatter,defaultMessage){var instanceName=this.helper?module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_utils_getInstanceName(this.helper):null;return instanceName?formatter.format({NAME:instanceName}):defaultMessage};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.prototype,{editorHeaderText:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmpm1777192336$3,$jscomp$optchain$tmpm1777192336$4,$jscomp$optchain$tmpm1777192336$5,$jscomp$optchain$tmpm1777192336$6,$jscomp$nullish$tmp76;return null!=($jscomp$nullish$tmp76=null==($jscomp$optchain$tmpm1777192336$3=
this.helper)?void 0:null==($jscomp$optchain$tmpm1777192336$4=$jscomp$optchain$tmpm1777192336$3.template)?void 0:null==($jscomp$optchain$tmpm1777192336$5=$jscomp$optchain$tmpm1777192336$4.activityDetails)?void 0:null==($jscomp$optchain$tmpm1777192336$6=$jscomp$optchain$tmpm1777192336$5.editorHeader)?void 0:$jscomp$optchain$tmpm1777192336$6.text[0].value)?$jscomp$nullish$tmp76:"Configuration"}},isCreateMode:{configurable:!0,enumerable:!0,get:function(){return!!this.publicId}},activityType:{configurable:!0,
enumerable:!0,get:function(){var $jscomp$optchain$tmpm1777192336$7,$jscomp$optchain$tmpm1777192336$8,$jscomp$optchain$tmpm1777192336$9;return(null==($jscomp$optchain$tmpm1777192336$7=this.helper)?void 0:null==($jscomp$optchain$tmpm1777192336$8=$jscomp$optchain$tmpm1777192336$7.template)?void 0:null==($jscomp$optchain$tmpm1777192336$9=$jscomp$optchain$tmpm1777192336$8.activityDetails)?void 0:$jscomp$optchain$tmpm1777192336$9.activityType)||0}},isSingletonActivity:{configurable:!0,enumerable:!0,get:function(){return 1===
this.activityType}},isContextActionsAvailable:{configurable:!0,enumerable:!0,get:function(){return!this.isCreateMode&&!this.isSingletonActivity}},saveButtonText:{configurable:!0,enumerable:!0,get:function(){return this.isSingletonActivity||!this.isCreateMode?"Save":"Create"}},isSaveEnabled:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmpm1777192336$10;return!!this.helper&&!!this.activity&&!this.isRequestInProgress&&(null==($jscomp$optchain$tmpm1777192336$10=this.veditor)?void 0:
$jscomp$optchain$tmpm1777192336$10.isDirty())}},isPageFilteringEnabled:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmpm1777192336$11,$jscomp$optchain$tmpm1777192336$12,$jscomp$optchain$tmpm1777192336$13;return this.hostedStateService.isFlagEnabled(48)&&(null==($jscomp$optchain$tmpm1777192336$11=this.helper)?void 0:null==($jscomp$optchain$tmpm1777192336$12=$jscomp$optchain$tmpm1777192336$11.template)?void 0:null==($jscomp$optchain$tmpm1777192336$13=$jscomp$optchain$tmpm1777192336$12.activityDetails)?
void 0:$jscomp$optchain$tmpm1777192336$13.enableTriggers)}}});module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController.$inject="$q $timeout activityService hostedStateService busyLayerService containerService dialogService errorHandlerService routerService toastService vendorTemplateService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$activityEditorComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$ActivityEditorController,controllerAs:"ctrl",bindings:{activityId:"<?",collectionId:"<",publicId:"<?"},templateUrl:"/ogt/components/activity/editor/activity_editor_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController=function($scope,$q,$timeout,activityService,hostedStateService,containerService,errorHandlerService,routerService,toastService,vendorTemplateService){var $jscomp$this=this;this.$scope=$scope;this.$q=$q;this.$timeout=$timeout;this.activityService=activityService;this.hostedStateService=hostedStateService;this.containerService=containerService;
this.errorHandlerService=errorHandlerService;this.routerService=routerService;this.toastService=toastService;this.vendorTemplateService=vendorTemplateService;this.isReadOnly=!0;this.hasPendingSave=!1;this.debouncedSave=_.debounce(function(){$jscomp$this.saveActivity()},3E3);null!=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController$executionQueue||(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController$executionQueue=
this.$q.when())},module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController$executionQueue;
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype.$onInit=function(){var $jscomp$this=this;this.$scope.$watch("ctrl.formCtrl.$dirty",function(){var $jscomp$optchain$tmpm1958549516$0,$jscomp$optchain$tmpm1958549516$1;if(null!=($jscomp$optchain$tmpm1958549516$0=$jscomp$this.formCtrl)&&$jscomp$optchain$tmpm1958549516$0.$dirty&&(null==($jscomp$optchain$tmpm1958549516$1=$jscomp$this.formCtrl)||
!$jscomp$optchain$tmpm1958549516$1.$invalid)){var $jscomp$optchain$tmpm1958549516$2;null==($jscomp$optchain$tmpm1958549516$2=$jscomp$this.formCtrl)||$jscomp$optchain$tmpm1958549516$2.$setPristine();$jscomp$this.hasPendingSave=!0;$jscomp$this.debouncedSave()}});this.closeListener=this.routerService.addCloseListener(function(){if(!$jscomp$this.hasPendingSave)return $jscomp$this.$q.resolve();var savePromise=$jscomp$this.saveActivity();$jscomp$this.toastService.show({id:"inline_activity_save",message:"Saving...",
promise:savePromise});return savePromise});this.$q.all({collectionKey:this.hostedStateService.getCollectionKey(),activityList:this.activityService.getList(this.publicId)}).then(function($jscomp$destructuring$var46){var activityList=$jscomp$destructuring$var46.activityList;$jscomp$this.collectionId=$jscomp$destructuring$var46.collectionKey.containerCollectionId;0!==activityList.length&&($jscomp$this.activityId=activityList[0].key.ogtActivityId);var initPromise=$jscomp$this.isCreateMode?$jscomp$this.setupCreateMode():
$jscomp$this.setupEditMode();return $jscomp$this.$q.all([initPromise,$jscomp$this.hostedStateService.waitForInit().then(function(){$jscomp$this.isReadOnly=!$jscomp$this.hostedStateService.hasEditPermission()})])}).then(function(){$jscomp$this.helper.isDisabled=$jscomp$this.isReadOnly}).catch(this.errorHandlerService.catchGenericError())};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype.$onDestroy=function(){var $jscomp$optchain$tmpm1958549516$4;null==($jscomp$optchain$tmpm1958549516$4=this.closeListener)||$jscomp$optchain$tmpm1958549516$4.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype.setFormController=function(formCtrl){this.formCtrl=formCtrl};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype.setupCreateMode=function(){var $jscomp$this=this;return this.publicId?this.initializeHelper(this.publicId).then(function(){$jscomp$this.activity={properties:{servingContainerIds:[],triggers:[]}};return $jscomp$this.$q.resolve()}):this.$q.resolve()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype.setupEditMode=function(){var $jscomp$this=this;return this.activityService.get({containerCollectionId:this.collectionId,ogtActivityId:Number(this.activityId)}).then(function(activity){return $jscomp$this.initializeHelper(activity.properties.templateInstance.key.publicId).then(function(){$jscomp$this.helper.setInstance(activity.properties.templateInstance);
$jscomp$this.activity=module$exports$google3$third_party$javascript$typings$angular$index.copy(activity)})})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype.initializeHelper=function(publicId){var $jscomp$this=this;return this.vendorTemplateService.get(publicId).then(function(template){var context=$jscomp$this.containerService.getContainerUsageContext($jscomp$this.hostedStateService.getMeasurementId()),contextHelper=new module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper([context]);
$jscomp$this.helper=(new module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper($jscomp$this.$timeout,contextHelper,$jscomp$this.hostedStateService.getProductContext())).setTemplate(template.data)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype.saveActivity=function(){var $jscomp$this=this;if(!this.hasPendingSave)return this.$q.resolve();this.hasPendingSave=!1;if(!this.activity||this.isReadOnly)return this.$q.resolve();this.activity.properties&&(this.activity.properties.templateInstance=this.helper.getInstance());this.helper.isDisabled=!0;return this.addOrUpdateActivity(module$exports$google3$third_party$javascript$typings$angular$index.copy(this.activity)).then(function(activity){$jscomp$this.activityId=
activity.key.ogtActivityId;var $jscomp$optchain$tmpm1958549516$5;(null==($jscomp$optchain$tmpm1958549516$5=activity.properties)?0:$jscomp$optchain$tmpm1958549516$5.templateInstance)&&$jscomp$this.helper.setInstance(activity.properties.templateInstance);$jscomp$this.activity=activity}).catch(this.errorHandlerService.errorCatcherBuilder().addHandler(function(error){return module$exports$google3$third_party$javascript$typings$angular$index.isString(error)},function(errorMessage){$jscomp$this.errorHandlerService.handleError({errorMessage:errorMessage})}).addHandler(function(error){var $jscomp$optchain$tmpm1958549516$7;
return 0<(null==error?void 0:null==($jscomp$optchain$tmpm1958549516$7=error.fieldError)?void 0:$jscomp$optchain$tmpm1958549516$7.length)},function(error){for(var $jscomp$iter$183=$jscomp$makeIterator(null==error?void 0:error.fieldError),$jscomp$key$fieldError=$jscomp$iter$183.next();!$jscomp$key$fieldError.done;$jscomp$key$fieldError=$jscomp$iter$183.next()){var fieldError=$jscomp$key$fieldError.value,$jscomp$optchain$tmpm1958549516$9=void 0;if(null==($jscomp$optchain$tmpm1958549516$9=fieldError.fieldName)?
0:$jscomp$optchain$tmpm1958549516$9.startsWith("ogtActivityProperties.templateInstance"))fieldError.fieldName=fieldError.fieldName.replace("ogtActivityProperties","ogtActivityProperties."+$jscomp$this.publicId)}$jscomp$this.errorHandlerService.handleFieldErrors(error)}).build()).finally(function(){$jscomp$this.helper.isDisabled=!1})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype.addOrUpdateActivity=function(activity$jscomp$0){var $jscomp$this=this,deferred=this.$q.defer();if(this.isCreateMode){var collectionKey={containerCollectionId:this.collectionId};this.addToExecutionQueue(function(){return $jscomp$this.activityService.create(collectionKey,activity$jscomp$0).then(function(activity){deferred.resolve(activity)}).catch(function(error){deferred.reject(error)})})}else this.addToExecutionQueue(function(){return $jscomp$this.activityService.update(activity$jscomp$0).then(function(activity){deferred.resolve(activity)}).catch(function(error){deferred.reject(error)})});
return deferred.promise};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype.addToExecutionQueue=function(callback){module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController$executionQueue=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController$executionQueue.then(function(){return callback()}).catch(this.errorHandlerService.catchGenericError())};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.prototype,{isCreateMode:{configurable:!0,enumerable:!0,get:function(){return!this.activityId}}});module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController.$inject="$scope $q $timeout activityService hostedStateService containerService errorHandlerService routerService toastService vendorTemplateService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$inlineActivityEditorComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$InlineActivityEditorController,controllerAs:"ctrl",bindings:{publicId:"<"},templateUrl:"/ogt/components/activity/editor/inline_activity_editor_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.activityEditor",["ngSanitize","ogt.activity"]).component("activityEditor",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_component$activityEditorComponent).component("inlineActivityEditor",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$inline_activity_editor_component$inlineActivityEditorComponent);var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_entry$ActivityListEntry=function(activity,helper,template){this.activity=activity;this.helper=helper;this.helper.setTemplate(template);var $jscomp$optchain$tmp805549305$0;(null==($jscomp$optchain$tmp805549305$0=activity.properties)?0:$jscomp$optchain$tmp805549305$0.templateInstance)&&this.helper.setInstance(activity.properties.templateInstance)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_entry$ActivityListEntry.prototype.hasMatchingColumnValues=function(expression){return expression.test(this.searchCache)};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_entry$ActivityListEntry.prototype,{activityId:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmp805549305$1,$jscomp$optchain$tmp805549305$2;return null==($jscomp$optchain$tmp805549305$1=this.activity)?void 0:null==($jscomp$optchain$tmp805549305$2=$jscomp$optchain$tmp805549305$1.key)?void 0:$jscomp$optchain$tmp805549305$2.ogtActivityId}},
activityType:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmp805549305$3,$jscomp$optchain$tmp805549305$4;return(null==($jscomp$optchain$tmp805549305$3=this.helper.template)?void 0:null==($jscomp$optchain$tmp805549305$4=$jscomp$optchain$tmp805549305$3.activityDetails)?void 0:$jscomp$optchain$tmp805549305$4.activityType)||0}},searchCache:{configurable:!0,enumerable:!0,get:function(){var $jscomp$this=this;if(!this.searchCacheInternal){var $jscomp$optchain$tmp805549305$5,$jscomp$optchain$tmp805549305$6;
this.searchCacheInternal=((null==($jscomp$optchain$tmp805549305$5=this.helper.getTemplate())?void 0:null==($jscomp$optchain$tmp805549305$6=$jscomp$optchain$tmp805549305$5.activityDetails)?void 0:$jscomp$optchain$tmp805549305$6.tableCols)||[]).map(function(column){var paramDesc=$jscomp$this.helper.getParamDesc(column.paramName),displayValue=$jscomp$this.helper.getParamDisplayValue(column.paramName);return paramDesc&&displayValue?module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isSimpleTable(paramDesc)||
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isParamTable(paramDesc)?displayValue.listItem.flatMap(function(mapItem){return mapItem.mapValue}).map(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringifyValue).join(" "):module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringifyValue(displayValue):!1}).join(" ")}return this.searchCacheInternal}}});var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController=function($q,$scope,$timeout,activityService,hostedStateService,busyLayerService,containerService,errorHandlerService,routerService,vendorTemplateService){this.$q=$q;this.$timeout=$timeout;this.activityService=activityService;this.hostedStateService=hostedStateService;this.busyLayerService=busyLayerService;this.containerService=containerService;this.errorHandlerService=
errorHandlerService;this.routerService=routerService;this.vendorTemplateService=vendorTemplateService;this.listEntries=[];this.readOnly=!0;$scope.Type=container_tag$VendorTemplateActivityDetails$Type;this.openActivityEditor=this.openActivityEditor.bind(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController.prototype.$onInit=function(){var $jscomp$this=this,initPromise=this.$q.all({activities:this.activityService.getList(this.publicId),collectionKey:this.hostedStateService.getCollectionKey(),template:this.vendorTemplateService.get(this.publicId)}).then(function($jscomp$destructuring$var48){var activities=$jscomp$destructuring$var48.activities,template=$jscomp$destructuring$var48.template;
$jscomp$this.collectionKey=$jscomp$destructuring$var48.collectionKey;$jscomp$this.activityTemplate=template;$jscomp$this.initializeListEntries(activities);$jscomp$this.readOnly=!$jscomp$this.hostedStateService.hasEditPermission()}).catch(this.errorHandlerService.catchGenericError());this.busyLayerService.showLayerBusyUntil(initPromise);this.removeRefreshListener=this.activityService.onChange().addListener(function(){var refreshPromise=$jscomp$this.activityService.getList($jscomp$this.publicId).then(function(activities){$jscomp$this.initializeListEntries(activities)}).catch($jscomp$this.errorHandlerService.catchGenericError());
$jscomp$this.busyLayerService.showLayerBusyUntil(refreshPromise)})};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController.prototype.$onDestroy=function(){var $jscomp$optchain$tmp1938617102$1;null==($jscomp$optchain$tmp1938617102$1=this.removeRefreshListener)||$jscomp$optchain$tmp1938617102$1.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController.prototype.initializeListEntries=function(activityInstances){var $jscomp$this=this;this.listEntries=activityInstances.map(function(activity){var context=$jscomp$this.containerService.getContainerUsageContext($jscomp$this.hostedStateService.getMeasurementId()),contextHelper=new module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper([context]);
return new module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_entry$ActivityListEntry(activity,new module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper($jscomp$this.$timeout,contextHelper,$jscomp$this.hostedStateService.getProductContext()),$jscomp$this.activityTemplate.data)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController.prototype.close=function(){this.routerService.back()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController.prototype.openActivityEditor=function(entry){entry?this.routerService.goToEditActivity(this.collectionKey.containerCollectionId,entry.activityId):this.routerService.goToCreateActivity(this.collectionKey.containerCollectionId,this.publicId)};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController.prototype,{activityType:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmp1938617102$2,$jscomp$optchain$tmp1938617102$3,$jscomp$optchain$tmp1938617102$4;return(null==($jscomp$optchain$tmp1938617102$2=this.activityTemplate)?void 0:null==($jscomp$optchain$tmp1938617102$3=$jscomp$optchain$tmp1938617102$2.data)?
void 0:null==($jscomp$optchain$tmp1938617102$4=$jscomp$optchain$tmp1938617102$3.activityDetails)?void 0:$jscomp$optchain$tmp1938617102$4.activityType)||0}}});module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController.prototype.close=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController.prototype.close;
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController.$inject="$q $scope $timeout activityService hostedStateService busyLayerService containerService errorHandlerService routerService vendorTemplateService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$activityListComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$ActivityListController,controllerAs:"ctrl",bindings:{publicId:"<"},templateUrl:"/ogt/components/activity/list/activity_list_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController=function($q,$scope,activityService,busyLayerService,dialogService,errorHandlerService,routerService,toastService){this.$q=$q;this.$scope=$scope;this.activityService=activityService;this.busyLayerService=busyLayerService;this.dialogService=dialogService;this.errorHandlerService=errorHandlerService;this.routerService=routerService;this.toastService=toastService;
this.filter="";this.reorderingEnabled=this.isSaving=!1;this.dragIndex=-1};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.$onInit=function(){var $jscomp$this=this;this.$scope.$watch("ctrl.filter",function(newValue,oldValue){$jscomp$this.onFilterChange(newValue,oldValue)});this.closeListener=this.routerService.addCloseListener(function(){return $jscomp$this.reorderingEnabled?$jscomp$this.dialogService.showDialog(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$unsaved_activity_dialog$unsavedDialogConfig):$jscomp$this.$q.resolve()})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.$onChanges=function(changes){if(changes.activityListEntries){var $jscomp$optchain$tmp59860300$0;null==($jscomp$optchain$tmp59860300$0=this.activityListEntries)||$jscomp$optchain$tmp59860300$0.sort(function(entryA,entryB){return module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_utils_instanceOrderComparator(entryA.helper,
entryB.helper)})}};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.$onDestroy=function(){var $jscomp$optchain$tmp59860300$2;null==($jscomp$optchain$tmp59860300$2=this.closeListener)||$jscomp$optchain$tmp59860300$2.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.openCreateActivity=function(){var $jscomp$optchain$tmp59860300$10;null==($jscomp$optchain$tmp59860300$10=this.openActivityEditor)||$jscomp$optchain$tmp59860300$10.call(this)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.openEditActivity=function(entry){if(!this.reorderingEnabled){var $jscomp$optchain$tmp59860300$12;null==($jscomp$optchain$tmp59860300$12=this.openActivityEditor)||$jscomp$optchain$tmp59860300$12.call(this,entry)}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.getHeaderDisplayName=function(column){var $jscomp$optchain$tmp59860300$13;if(null!=($jscomp$optchain$tmp59860300$13=this.activityListEntries)&&$jscomp$optchain$tmp59860300$13.length){if(column.displayName)return this.activityListEntries[0].helper.getText(column.displayName);var colParam=this.activityListEntries[0].helper.getParamDesc(column.paramName);
return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getDisplayKey(colParam)}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.toggleReorderMode=function(){if(this.reorderingEnabled)this.activityListEntries=this.preOrderedActivityListEntries;else{this.filter="";var $jscomp$optchain$tmp59860300$14;this.preOrderedActivityListEntries=null==($jscomp$optchain$tmp59860300$14=this.activityListEntries)?void 0:$jscomp$optchain$tmp59860300$14.slice()}this.reorderingEnabled=!this.reorderingEnabled};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.applyReorder=function(){var $jscomp$this=this;if(!this.activityListEntries||!this.collectionKey)return this.$q.resolve();this.isSaving=!0;for(var activities=[],i=0;i<this.activityListEntries.length;i++){module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_utils_setInstanceOrder(this.activityListEntries[i].helper,
i);var activity=this.activityListEntries[i].activity,$jscomp$optchain$tmp59860300$15=void 0;if(null==($jscomp$optchain$tmp59860300$15=activity)?0:$jscomp$optchain$tmp59860300$15.properties)activity.properties.templateInstance=this.activityListEntries[i].helper.getInstance();activity&&activities.push(activity)}var savePromise=this.activityService.updateAll(this.collectionKey,activities).then(function(){$jscomp$this.reorderingEnabled=!$jscomp$this.reorderingEnabled;$jscomp$this.toastService.show("New order saved")}).catch(function(error){$jscomp$this.toggleReorderMode();
$jscomp$this.errorHandlerService.handleError(error)}).finally(function(){$jscomp$this.isSaving=!1});this.busyLayerService.showLayerBusyUntil(savePromise);return savePromise};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.onDragStart=function(index){this.activityListEntries&&(this.dragIndex=index,this.dragActivity=this.activityListEntries[index])};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.onDrop=function(event,toIndex,entry){if(null==this.dragActivity)return entry;toIndex>this.dragIndex&&toIndex--;this.moveTo(this.dragIndex,toIndex);this.clearDragState();return!0};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.onMoved=function(){if(null!=this.dragActivity&&this.activityListEntries){var index=this.activityListEntries.indexOf(this.dragActivity);0<=index&&this.activityListEntries.splice(index,1);this.clearDragState()}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.onDragEnd=function(){this.clearDragState()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.moveTo=function(startIndex,toIndex){var $jscomp$optchain$tmp59860300$16;if(!(null==($jscomp$optchain$tmp59860300$16=this.activityListEntries)||!$jscomp$optchain$tmp59860300$16.length||startIndex===toIndex||0>toIndex||toIndex>this.activityListEntries.length-1)){var entry=this.activityListEntries.splice(startIndex,1)[0];this.activityListEntries.splice(toIndex,
0,entry)}};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.clearDragState=function(){this.dragIndex=-1;this.dragActivity=void 0};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype.onFilterChange=function(newValue,oldValue){if(this.activityListEntries&&newValue!==oldValue)for(var expression=new RegExp(this.filter,"i"),$jscomp$iter$184=$jscomp$makeIterator(this.activityListEntries),$jscomp$key$entry=$jscomp$iter$184.next();!$jscomp$key$entry.done;$jscomp$key$entry=$jscomp$iter$184.next()){var entry=$jscomp$key$entry.value;entry.hidden=
!entry.hasMatchingColumnValues(expression)}};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.prototype,{listTitleText:{configurable:!0,enumerable:!0,get:function(){if(this.reorderingEnabled)return"Reordering";var $jscomp$optchain$tmp59860300$3,$jscomp$optchain$tmp59860300$4,$jscomp$optchain$tmp59860300$5;return null==($jscomp$optchain$tmp59860300$3=this.activityTemplate)?void 0:null==($jscomp$optchain$tmp59860300$4=
$jscomp$optchain$tmp59860300$3.activityDetails)?void 0:null==($jscomp$optchain$tmp59860300$5=$jscomp$optchain$tmp59860300$4.tableTitle)?void 0:$jscomp$optchain$tmp59860300$5.text[0].value}},emptyListText:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmp59860300$6,$jscomp$optchain$tmp59860300$7,$jscomp$optchain$tmp59860300$8;return null==($jscomp$optchain$tmp59860300$6=this.activityTemplate)?void 0:null==($jscomp$optchain$tmp59860300$7=$jscomp$optchain$tmp59860300$6.activityDetails)?
void 0:null==($jscomp$optchain$tmp59860300$8=$jscomp$optchain$tmp59860300$7.emptyText)?void 0:$jscomp$optchain$tmp59860300$8.text[0].value}},tableColumns:{configurable:!0,enumerable:!0,get:function(){return this.activityTemplate?this.activityTemplate.activityDetails.tableCols:[]}},hasFilteredResults:{configurable:!0,enumerable:!0,get:function(){return this.activityListEntries?this.activityListEntries.some(function(entry){return!entry.hidden}):!0}}});
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController.$inject="$q $scope activityService busyLayerService dialogService errorHandlerService routerService toastService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$orderedListComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$OrderedListController,controllerAs:"ctrl",bindings:{activityTemplate:"<",activityListEntries:"<",collectionKey:"<",openActivityEditor:"<",readOnly:"<"},templateUrl:"/ogt/components/activity/list/ordered_list_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component_moreValuesFormatter=new goog$i18n$MessageFormat("And {COUNT} more"),module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component_ParamDisplayValueController=function(){};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component_ParamDisplayValueController.prototype.$onChanges=function(){this.reset();this.populateDisplayValue()};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component_ParamDisplayValueController.prototype.getOverflowMessage=function(count){return module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component_moreValuesFormatter.format({COUNT:count})};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component_ParamDisplayValueController.prototype.populateDisplayValue=function(){var paramDesc=this.helper.getParamDesc(this.paramName),displayValue=this.helper.getParamDisplayValue(this.paramName);paramDesc&&displayValue&&((this.isMultiRowValue=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isSimpleTable(paramDesc)||
module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_isParamTable(paramDesc))?this.multiRowValue=displayValue.listItem.map(function(mapItem){return mapItem.mapValue}).map(function(rowValues){return rowValues.map(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringifyValue)}):this.simpleValue=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_stringifyValue(displayValue))};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component_ParamDisplayValueController.prototype.reset=function(){this.multiRowValue=this.simpleValue=this.isMultiRowValue=void 0};
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component$paramDisplayValueComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component_ParamDisplayValueController,controllerAs:"ctrl",bindings:{paramName:"<",helper:"<"},templateUrl:"/ogt/components/activity/list/param_display_value_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$unordered_list_component_UnorderedListController=function(){};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$unordered_list_component_UnorderedListController.prototype.openCreateActivity=function(){var $jscomp$optchain$tmpm623476269$7;null==($jscomp$optchain$tmpm623476269$7=this.openActivityEditor)||$jscomp$optchain$tmpm623476269$7.call(this)};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$unordered_list_component_UnorderedListController.prototype.openEditActivity=function(entry){var $jscomp$optchain$tmpm623476269$9;null==($jscomp$optchain$tmpm623476269$9=this.openActivityEditor)||$jscomp$optchain$tmpm623476269$9.call(this,entry)};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$unordered_list_component_UnorderedListController.prototype.getHeaderDisplayName=function(column){var $jscomp$optchain$tmpm623476269$10;if(null!=($jscomp$optchain$tmpm623476269$10=this.activityListEntries)&&$jscomp$optchain$tmpm623476269$10.length){if(column.displayName)return this.activityListEntries[0].helper.getText(column.displayName);var colParam=this.activityListEntries[0].helper.getParamDesc(column.paramName);
return module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$display_value_utils_getDisplayKey(colParam)}};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$unordered_list_component_UnorderedListController.prototype.tableFilter=function(entry,expression){return entry.hasMatchingColumnValues(expression)};
$jscomp$global.Object.defineProperties(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$unordered_list_component_UnorderedListController.prototype,{listTitleText:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmpm623476269$0,$jscomp$optchain$tmpm623476269$1,$jscomp$optchain$tmpm623476269$2;return null==($jscomp$optchain$tmpm623476269$0=this.activityTemplate)?void 0:null==($jscomp$optchain$tmpm623476269$1=$jscomp$optchain$tmpm623476269$0.activityDetails)?
void 0:null==($jscomp$optchain$tmpm623476269$2=$jscomp$optchain$tmpm623476269$1.tableTitle)?void 0:$jscomp$optchain$tmpm623476269$2.text[0].value}},emptyListText:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmpm623476269$3,$jscomp$optchain$tmpm623476269$4,$jscomp$optchain$tmpm623476269$5;return null==($jscomp$optchain$tmpm623476269$3=this.activityTemplate)?void 0:null==($jscomp$optchain$tmpm623476269$4=$jscomp$optchain$tmpm623476269$3.activityDetails)?void 0:null==($jscomp$optchain$tmpm623476269$5=
$jscomp$optchain$tmpm623476269$4.emptyText)?void 0:$jscomp$optchain$tmpm623476269$5.text[0].value}},tableColumns:{configurable:!0,enumerable:!0,get:function(){return this.activityTemplate?this.activityTemplate.activityDetails.tableCols:[]}}});
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$unordered_list_component$unorderedListComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$unordered_list_component_UnorderedListController,controllerAs:"ctrl",bindings:{activityTemplate:"<",activityListEntries:"<",openActivityEditor:"<",readOnly:"<"},templateUrl:"/ogt/components/activity/list/unordered_list_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.activityList",["dndLists","ngSanitize","ogt.activity"]).component("activityList",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_component$activityListComponent).component("orderedList",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$ordered_list_component$orderedListComponent).component("paramDisplayValue",
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$param_display_value_component$paramDisplayValueComponent).component("unorderedList",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$unordered_list_component$unorderedListComponent);var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService=function($http,$q,hostedStateService,containerService,modelLayer){this.$http=$http;this.$q=$q;this.hostedStateService=hostedStateService;this.containerService=containerService;this.newlyCreatedEventNames=new Set;this.models=modelLayer({allowEmptyLists:!0,collectionResultProperty:"activities",cacheTtlMs:6E4,listItemEqualsFullItem:!0,collectionUrl:"/api/ogt/collection/:containerCollectionId/activities",
modelUrl:"/api/ogt/collection/:containerCollectionId/activities/:ogtActivityId"})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.getList=function(activityPublicId,options){var $jscomp$this=this;return this.$q.all({collectionKey:this.hostedStateService.getCollectionKey(),servingContainerId:this.getActiveServingContainerId()}).then(function($jscomp$destructuring$var50){var servingContainerId=$jscomp$destructuring$var50.servingContainerId;return $jscomp$this.models.getList($jscomp$destructuring$var50.collectionKey,
options).then(function(activities){return activities.filter(function(activity){var $jscomp$optchain$tmpm41713206$0;if(servingContainerId&&(null==($jscomp$optchain$tmpm41713206$0=activity.properties)?void 0:$jscomp$optchain$tmpm41713206$0.servingContainerIds[0])!==servingContainerId)return!1;var $jscomp$optchain$tmpm41713206$1,$jscomp$optchain$tmpm41713206$2,$jscomp$optchain$tmpm41713206$3;return!activityPublicId||(null==($jscomp$optchain$tmpm41713206$1=activity.properties)?void 0:null==($jscomp$optchain$tmpm41713206$2=
$jscomp$optchain$tmpm41713206$1.templateInstance)?void 0:null==($jscomp$optchain$tmpm41713206$3=$jscomp$optchain$tmpm41713206$2.key)?void 0:$jscomp$optchain$tmpm41713206$3.publicId)===activityPublicId})})})};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.get=function(activityKey,options){return this.models.get(activityKey,options)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.create=function(collectionKey,activity){var $jscomp$this=this;return this.addCurrentMeasurementId(activity).then(function(augmentedActivity){return $jscomp$this.models.create(collectionKey,augmentedActivity).then(function(newActivity){$jscomp$this.memoizeEventCreateEventName(newActivity);return newActivity})})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.update=function(activity){var $jscomp$this=this;return this.addCurrentMeasurementId(activity).then(function(augmentedActivity){return $jscomp$this.models.update(augmentedActivity)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.updateAll=function(collectionKey,activities){var $jscomp$this=this;return this.addCurrentMeasurementIds(activities).then(function(augmentedActivities){var payload={activities:augmentedActivities};return $jscomp$this.$http.put(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$route_utils_interpolateParameters("/api/ogt/collection/:containerCollectionId/updateactivities",
collectionKey),payload).then(function(){$jscomp$this.models.invalidateCollectionCache(collectionKey);$jscomp$this.models.fireOnUpdate()})})};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.delete=function(activityKey){return this.models.delete(activityKey)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.resetState=function(){this.models.clearModelCache();this.models.clearCollectionCache();this.models.fireOnUpdate()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.onChange=function(){return this.models.getUpdateNotifier()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.getAndClearNewlyCreatedEventNames=function(){var list=Array.from(this.newlyCreatedEventNames);this.newlyCreatedEventNames.clear();return list};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.addCurrentMeasurementIds=function(activities){var $jscomp$this=this;return this.getActiveServingContainerId().then(function(servingContainerId){return activities.map(function(activity){return $jscomp$this.setActivityProperties(activity,servingContainerId)})})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.addCurrentMeasurementId=function(activity){var $jscomp$this=this;return this.getActiveServingContainerId().then(function(servingContainerId){return $jscomp$this.setActivityProperties(activity,servingContainerId)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.getActiveServingContainerId=function(){return this.containerService.getByMeasurementId(this.hostedStateService.getMeasurementId()).then(function(servingContainer){var $jscomp$optchain$tmpm41713206$5;if(!(null==servingContainer?0:null==($jscomp$optchain$tmpm41713206$5=servingContainer.key)?0:$jscomp$optchain$tmpm41713206$5.servingContainerId))throw Error("Could not find the container ID for the active container.");
return servingContainer.key.servingContainerId})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.memoizeEventCreateEventName=function(activity){var $jscomp$optchain$tmpm41713206$6,$jscomp$optchain$tmpm41713206$7,$jscomp$optchain$tmpm41713206$8;if("ogt_event_create"===(null==($jscomp$optchain$tmpm41713206$6=activity.properties)?void 0:null==($jscomp$optchain$tmpm41713206$7=$jscomp$optchain$tmpm41713206$6.templateInstance)?void 0:null==($jscomp$optchain$tmpm41713206$8=
$jscomp$optchain$tmpm41713206$7.key)?void 0:$jscomp$optchain$tmpm41713206$8.publicId)){var $jscomp$optchain$tmpm41713206$9,$jscomp$optchain$tmpm41713206$10,$jscomp$optchain$tmpm41713206$11,eventNameValue=null==($jscomp$optchain$tmpm41713206$9=activity.properties)?void 0:null==($jscomp$optchain$tmpm41713206$10=$jscomp$optchain$tmpm41713206$9.templateInstance)?void 0:null==($jscomp$optchain$tmpm41713206$11=$jscomp$optchain$tmpm41713206$10.param.find(function(param){return"eventName"===param.key}))?
void 0:$jscomp$optchain$tmpm41713206$11.value;eventNameValue&&this.newlyCreatedEventNames.add(module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_getRawValue(eventNameValue))}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.prototype.setActivityProperties=function(activity,servingContainerId){activity.properties.servingContainerIds=[servingContainerId];activity.properties.measurementId=this.hostedStateService.getMeasurementId();return activity};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService.$inject=["$http","$q","hostedStateService","containerService","modelLayer"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.activityService",[]).service("activityService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$ActivityService);var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$activity_slider_root_component_ActivitySliderRootController=function(routerService){this.routerService=routerService};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$activity_slider_root_component_ActivitySliderRootController.prototype.close=function(){this.routerService.back()};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$activity_slider_root_component_ActivitySliderRootController.$inject=["routerService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$activity_slider_root_component$activitySliderRootComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$activity_slider_root_component_ActivitySliderRootController,controllerAs:"ctrl",templateUrl:"/ogt/components/activity/sliders/activity_slider_root_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$editor_slider_component$EditorSliderController=function($q,activityGroupService,activityService,hostedStateService,busyLayerService,errorHandlerService,routerService,vendorTemplateService){this.$q=$q;this.activityGroupService=activityGroupService;this.activityService=activityService;this.hostedStateService=hostedStateService;this.busyLayerService=busyLayerService;this.errorHandlerService=errorHandlerService;
this.routerService=routerService;this.vendorTemplateService=vendorTemplateService;this.isReadOnly=!0;this.useBottomSave=!1;this.subgroups=[]};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$editor_slider_component$EditorSliderController.prototype.$onInit=function(){var $jscomp$this=this;this.useBottomSave="ADS_AWN"===this.hostedStateService.getHostApp();var initPromise=this.publicId?this.$q.when(this.publicId):this.getActivityPublicId();this.busyLayerService.showLayerBusyUntil(initPromise.then(function(publicId){return $jscomp$this.$q.all({template:$jscomp$this.vendorTemplateService.get(publicId),subgroups:$jscomp$this.activityGroupService.getSubgroups(publicId),
isReadOnly:$jscomp$this.hostedStateService.waitForInit().then(function(){return!$jscomp$this.hostedStateService.hasEditPermission()})}).then(function($jscomp$destructuring$var52){var subgroups=$jscomp$destructuring$var52.subgroups,isReadOnly=$jscomp$destructuring$var52.isReadOnly;$jscomp$this.template=$jscomp$destructuring$var52.template;$jscomp$this.subgroups=subgroups;$jscomp$this.isReadOnly=isReadOnly})}).catch(this.errorHandlerService.catchGenericError()))};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$editor_slider_component$EditorSliderController.prototype.getActivityPublicId=function(){return this.activityService.get({containerCollectionId:this.collectionId,ogtActivityId:Number(this.activityId)}).then(function(activity){return activity.properties.templateInstance.key.publicId})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$editor_slider_component$EditorSliderController.prototype.close=function(){this.routerService.back()};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$editor_slider_component$EditorSliderController.prototype,{isCreateMode:{configurable:!0,enumerable:!0,get:function(){return!this.activityId}},editorTitleText:{configurable:!0,enumerable:!0,get:function(){var $jscomp$optchain$tmpm2116261225$0,$jscomp$optchain$tmpm2116261225$1,activityDetails=null==($jscomp$optchain$tmpm2116261225$0=this.template)?void 0:null==
($jscomp$optchain$tmpm2116261225$1=$jscomp$optchain$tmpm2116261225$0.data)?void 0:$jscomp$optchain$tmpm2116261225$1.activityDetails;if(this.isReadOnly){var $jscomp$optchain$tmpm2116261225$3;var title=null==activityDetails?void 0:null==($jscomp$optchain$tmpm2116261225$3=activityDetails.viewTitle)?void 0:$jscomp$optchain$tmpm2116261225$3.text[0].value}else if(this.isCreateMode){var $jscomp$optchain$tmpm2116261225$5;title=null==activityDetails?void 0:null==($jscomp$optchain$tmpm2116261225$5=activityDetails.newTitle)?
void 0:$jscomp$optchain$tmpm2116261225$5.text[0].value}else{var $jscomp$optchain$tmpm2116261225$7;title=null==activityDetails?void 0:null==($jscomp$optchain$tmpm2116261225$7=activityDetails.editTitle)?void 0:$jscomp$optchain$tmpm2116261225$7.text[0].value}var $jscomp$optchain$tmpm2116261225$8,$jscomp$optchain$tmpm2116261225$9,$jscomp$optchain$tmpm2116261225$10,$jscomp$nullish$tmp78,$jscomp$nullish$tmp79;return null!=($jscomp$nullish$tmp79=null!=($jscomp$nullish$tmp78=title)?$jscomp$nullish$tmp78:
null==($jscomp$optchain$tmpm2116261225$8=this.template)?void 0:null==($jscomp$optchain$tmpm2116261225$9=$jscomp$optchain$tmpm2116261225$8.data)?void 0:null==($jscomp$optchain$tmpm2116261225$10=$jscomp$optchain$tmpm2116261225$9.displayName)?void 0:$jscomp$optchain$tmpm2116261225$10.text[0].value)?$jscomp$nullish$tmp79:""}}});module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$editor_slider_component$EditorSliderController.$inject="$q activityGroupService activityService hostedStateService busyLayerService errorHandlerService routerService vendorTemplateService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$editor_slider_component$editorSliderComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$editor_slider_component$EditorSliderController,controllerAs:"ctrl",bindings:{activityId:"<?",collectionId:"<",publicId:"<?"},templateUrl:"/ogt/components/activity/sliders/editor_slider_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$group_slider_component$GroupSliderController=function(activityGroupService,busyLayerService,errorHandlerService,routerService){this.activityGroupService=activityGroupService;this.busyLayerService=busyLayerService;this.errorHandlerService=errorHandlerService;this.routerService=routerService};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$group_slider_component$GroupSliderController.prototype.$onInit=function(){var $jscomp$this=this,initPromise=this.activityGroupService.getGroupSlat(this.groupId).then(function(groupSlat){$jscomp$this.groupSlat=groupSlat}).catch(this.errorHandlerService.catchGenericError());this.busyLayerService.showLayerBusyUntil(initPromise)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$group_slider_component$GroupSliderController.prototype.close=function(){this.routerService.back()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$group_slider_component$GroupSliderController.prototype.close=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$group_slider_component$GroupSliderController.prototype.close;
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$group_slider_component$GroupSliderController.$inject=["activityGroupService","busyLayerService","errorHandlerService","routerService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$group_slider_component$groupSliderComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$group_slider_component$GroupSliderController,controllerAs:"ctrl",bindings:{groupId:"<"},templateUrl:"/ogt/components/activity/sliders/group_slider_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$list_slider_component$ListSliderController=function($q,activityGroupService,busyLayerService,errorHandlerService,routerService,vendorTemplateService){this.$q=$q;this.activityGroupService=activityGroupService;this.busyLayerService=busyLayerService;this.errorHandlerService=errorHandlerService;this.routerService=routerService;this.vendorTemplateService=vendorTemplateService;this.subgroups=[]};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$list_slider_component$ListSliderController.prototype.$onInit=function(){var $jscomp$this=this,initPromise=this.$q.all({subgroups:this.activityGroupService.getSubgroups(this.publicId),template:this.vendorTemplateService.get(this.publicId)}).then(function($jscomp$destructuring$var54){var template=$jscomp$destructuring$var54.template;$jscomp$this.subgroups=$jscomp$destructuring$var54.subgroups;$jscomp$this.activityTemplate=
template}).catch(this.errorHandlerService.catchGenericError());this.busyLayerService.showLayerBusyUntil(initPromise)};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$list_slider_component$ListSliderController.prototype.close=function(){this.routerService.back()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$list_slider_component$ListSliderController.prototype.close=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$list_slider_component$ListSliderController.prototype.close;
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$list_slider_component$ListSliderController.$inject="$q activityGroupService busyLayerService errorHandlerService routerService vendorTemplateService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$list_slider_component$listSliderComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$list_slider_component$ListSliderController,controllerAs:"ctrl",bindings:{publicId:"<"},templateUrl:"/ogt/components/activity/sliders/list_slider_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$activity_slider_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.activitySliders",["ngSanitize","ogt.activity"]).component("activitySliderRoot",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$activity_slider_root_component$activitySliderRootComponent).component("activityEditorSlider",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$editor_slider_component$editorSliderComponent).component("activityGroupSlider",
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$group_slider_component$groupSliderComponent).component("activityListSlider",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$list_slider_component$listSliderComponent);var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager$FlagManager=function($window,preloadData){this.hostCollectionLevelFlags={};for(var url=new URL($window.location.href),flags={},$jscomp$inline_1008=$jscomp$makeIterator(url.searchParams.entries()),$jscomp$key$=$jscomp$inline_1008.next();!$jscomp$key$.done;$jscomp$key$=$jscomp$inline_1008.next()){var $jscomp$inline_1010=$jscomp$makeIterator($jscomp$key$.value),key__tsickle_destructured_1=$jscomp$inline_1010.next().value,
value__tsickle_destructured_2=$jscomp$inline_1010.next().value,key=key__tsickle_destructured_1,value=value__tsickle_destructured_2;!key.startsWith("flag.")||6>key.length||"1"!==value||(flags[key.substring(5)]=!0)}this.hostAppLevelFlags=flags;this.ctuiAppLevelFlags=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager_convertToUiFlags(preloadData.flag);this.flags=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager_combineFlags(this.hostAppLevelFlags,
{},this.ctuiAppLevelFlags,{})},module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager$FlagManager$singleton;
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager$FlagManager.prototype.onHostCollectionLevelFlagsChanged=function(flags){flags&&(this.hostCollectionLevelFlags=flags,this.flags=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager_combineFlags(this.hostAppLevelFlags,this.hostCollectionLevelFlags,this.ctuiAppLevelFlags,{}))};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager$FlagManager.prototype.onCtuiCollectionLevelFlagsChanged=function(flags){null!=flags&&flags.length&&(this.flags=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager_combineFlags(this.hostAppLevelFlags,this.hostCollectionLevelFlags,this.ctuiAppLevelFlags,module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager_convertToUiFlags(flags)))};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager$FlagManager.prototype.isFlagEnabled=function(flag){return!!this.flags[flag]};
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager_combineFlags(hostAppLevelFlags,hostCollectionLevelFlags,ctuiAppLevelFlags,ctuiCollectionLevelFlags){return Object.assign({},hostAppLevelFlags,hostCollectionLevelFlags,ctuiAppLevelFlags,ctuiCollectionLevelFlags)}
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager_convertToUiFlags(flags){flags=void 0===flags?[]:flags;for(var flagMap={},$jscomp$iter$186=$jscomp$makeIterator(flags),$jscomp$key$flag=$jscomp$iter$186.next();!$jscomp$key$flag.done;$jscomp$key$flag=$jscomp$iter$186.next()){var flag=$jscomp$key$flag.value;flagMap[flag.name]=flag.value}return flagMap};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService=function($q,$window,preloadData){this.$q=$q;this.currentMeasurementId="";this.currentRole=3;this.initState=0;this.collectionKey={};this.deferredIsReady=this.$q.defer();this.deferredCollectionKey=this.$q.defer();this.hostApp=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service_parseHostApp($window);this.productContext=
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service_convertToProduct(this.hostApp);var $jscomp$nullish$tmp80;this.locale=null!=($jscomp$nullish$tmp80=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service_parseQueryStr($window,"hl"))?$jscomp$nullish$tmp80:"en";this.hostIcs=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service_parseQueryStr($window,
"ics");var page=Number(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service_parseQueryStr($window,"page"));this.embeddedPageType=page in module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$integration$ogt_integration_types$EmbeddedPageType?page:void 0;module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager$FlagManager$singleton||(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager$FlagManager$singleton=
new module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager$FlagManager($window,preloadData));this.flagManager=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$flag_manager$FlagManager$singleton};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.preInit=function(measurementId,flags){flags=void 0===flags?{}:flags;this.currentMeasurementId=measurementId;this.flagManager.onHostCollectionLevelFlagsChanged(flags);this.currentRole=3;this.initState=1;this.deferredIsReady||(this.deferredIsReady=this.$q.defer());this.deferredCollectionKey||(this.deferredCollectionKey=this.$q.defer())};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.setInitResult=function(initData){this.flagManager.onCtuiCollectionLevelFlagsChanged(initData.flags);this.currentRole=initData.role||1;var $jscomp$optchain$tmpm2034704933$0;if((null==($jscomp$optchain$tmpm2034704933$0=initData.collectionKey)?0:$jscomp$optchain$tmpm2034704933$0.containerCollectionId)||1===this.currentRole){var $jscomp$optchain$tmpm2034704933$1;
this.collectionKey.containerCollectionId=null==($jscomp$optchain$tmpm2034704933$1=initData.collectionKey)?void 0:$jscomp$optchain$tmpm2034704933$1.containerCollectionId;this.initState=2}else this.setInitFailed();return this.$q.when()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.setInitFailed=function(){this.collectionKey.containerCollectionId=void 0;this.currentRole=1;this.initState=3};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.postInit=function(){var $jscomp$optchain$tmpm2034704933$2;null==($jscomp$optchain$tmpm2034704933$2=this.deferredCollectionKey)||$jscomp$optchain$tmpm2034704933$2.resolve(this.collectionKey);this.deferredCollectionKey=void 0;var $jscomp$optchain$tmpm2034704933$3;null==($jscomp$optchain$tmpm2034704933$3=this.deferredIsReady)||$jscomp$optchain$tmpm2034704933$3.resolve();
this.deferredIsReady=void 0};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.isEmbeddedMode=function(){return!!this.getEmbeddedPageType()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.isSliderMode=function(){return!this.getEmbeddedPageType()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.getEmbeddedActivityId=function(){return this.embeddedActivityId};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.getEmbeddedPageType=function(){return this.embeddedPageType};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.isCoversFullScreen=function(){return this.isSliderMode()||1===this.embeddedPageType};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.getCollectionKey=function(){return this.deferredCollectionKey?this.deferredCollectionKey.promise:this.$q.when(this.collectionKey)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.getLocale=function(){return this.locale};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.getHostIcs=function(){return this.hostIcs};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.getMeasurementId=function(){return this.currentMeasurementId};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.getHostApp=function(){return this.hostApp};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.getProductContext=function(){return this.productContext};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.hasEditPermission=function(){return 3===this.currentRole};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.hasViewPermission=function(){return 3===this.currentRole||2===this.currentRole};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.isFlagEnabled=function(flag){return this.flagManager.isFlagEnabled(flag)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.isSuccessfullyInitialized=function(){return 2===this.initState};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.setEmbeddedActivityId=function(activityId){this.embeddedActivityId=activityId};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.prototype.waitForInit=function(){var $jscomp$this=this,$jscomp$optchain$tmpm2034704933$4;return((null==($jscomp$optchain$tmpm2034704933$4=this.deferredIsReady)?void 0:$jscomp$optchain$tmpm2034704933$4.promise)||this.$q.when()).then(function(){if(!$jscomp$this.hasViewPermission()||!$jscomp$this.isSuccessfullyInitialized())return $jscomp$this.$q.reject("Something went wrong.")})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService.$inject=["$q","$window","preloadData"];function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service_parseQueryStr(win,queryParam){var $jscomp$nullish$tmp81;return null!=($jscomp$nullish$tmp81=(new URL(win.location.href)).searchParams.get(queryParam))?$jscomp$nullish$tmp81:void 0}
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service_convertToProduct(hostApp){switch(hostApp){case "GAFE":return 4;case "ADS_AWN":return 5;case "DEVELOPMENT":return 6;default:return 4}}
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service_parseHostApp(win){var appHostStr=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service_parseQueryStr(win,"app");if(!appHostStr)return"UNKNOWN";var $jscomp$optchain$tmpm2034704933$5;return(null==($jscomp$optchain$tmpm2034704933$5=Object.entries(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$integration$ogt_integration_types$OgtHostApp).find(function($jscomp$destructuring$var58){var $jscomp$destructuring$var59=
$jscomp$makeIterator($jscomp$destructuring$var58);$jscomp$destructuring$var59.next();return $jscomp$destructuring$var59.next().value===appHostStr}))?void 0:$jscomp$optchain$tmpm2034704933$5[0])||"UNKNOWN"};var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_indicator_directive_BusyIndicatorController=function($element,busyLayerService){this.$element=$element;this.busyLayerService=busyLayerService};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_indicator_directive_BusyIndicatorController.prototype.$onInit=function(){var $jscomp$this=this,layer=this.busyLayerService.getTopLayer();if(layer){var cssClass="TOP"===this.busyIndicatorPosition?"ogt-element-top-busy":"ogt-element-bottom-busy";this.showDisposer=layer.onShowBusy(function(){$jscomp$this.$element.addClass(cssClass)});this.hideDisposer=layer.onHideBusy(function(){$jscomp$this.$element.removeClass(cssClass)})}};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_indicator_directive_BusyIndicatorController.prototype.$onDestroy=function(){var $jscomp$optchain$tmpm676749894$1;null==($jscomp$optchain$tmpm676749894$1=this.showDisposer)||$jscomp$optchain$tmpm676749894$1.call(this);var $jscomp$optchain$tmpm676749894$3;null==($jscomp$optchain$tmpm676749894$3=this.hideDisposer)||$jscomp$optchain$tmpm676749894$3.call(this)};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_indicator_directive_BusyIndicatorController.$inject=["$element","busyLayerService"];var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service_BusyLayer=function(){this.isBusy=!1;this.showBusyNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$StatefulNotifier;this.hideBusyNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$StatefulNotifier;this.awaitingPromises=new Set};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service_BusyLayer.prototype.onShowBusy=function(listener){return this.showBusyNotifier.addListener(listener)};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service_BusyLayer.prototype.onHideBusy=function(listener){return this.hideBusyNotifier.addListener(listener)};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service_BusyLayer.prototype.addAwaitingPromise=function(promise){var $jscomp$this=this;this.awaitingPromises.add(promise);promise.finally(function(){$jscomp$this.removeAwaitingPromise(promise)});this.showBusyIfNeeded()};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service_BusyLayer.prototype.removeAwaitingPromise=function(promise){this.awaitingPromises.delete(promise)&&0===this.awaitingPromises.size&&this.hideBusyIfNeeded()};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service_BusyLayer.prototype.destroy=function(){this.hideBusyIfNeeded();this.showBusyNotifier.destroy();this.hideBusyNotifier.destroy();this.awaitingPromises.clear()};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service_BusyLayer.prototype.showBusyIfNeeded=function(){this.isBusy||(this.isBusy=!0,this.showBusyNotifier.fire())};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service_BusyLayer.prototype.hideBusyIfNeeded=function(){this.isBusy&&(this.isBusy=!1,this.hideBusyNotifier.fire())};
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service$BusyLayerService=function($q,hostedStateService){this.$q=$q;this.hostedStateService=hostedStateService;this.layerStack=[];this.hostedStateService.isEmbeddedMode()&&(this.pushLayer(),this.showLayerBusyUntil(this.hostedStateService.waitForInit()))};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service$BusyLayerService.prototype.showLayerBusyUntil=function(promise){var topLayer=this.peekLayer();module$exports$google3$third_party$javascript$typings$angular$index.isArray(promise)&&(promise=this.$q.all(promise));topLayer.addAwaitingPromise(promise)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service$BusyLayerService.prototype.pushLayer=function(){this.hostedStateService.isEmbeddedMode();var newLayer=new module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service_BusyLayer;this.layerStack.push(newLayer);return newLayer};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service$BusyLayerService.prototype.popLayer=function(){this.layerStack.pop().destroy()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service$BusyLayerService.prototype.getTopLayer=function(){return this.peekLayer()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service$BusyLayerService.prototype.peekLayer=function(){return 0===this.layerStack.length?null:this.layerStack[this.layerStack.length-1]};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service$BusyLayerService.prototype.assertHasLayers=function(){};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service$BusyLayerService.$inject=["$q","hostedStateService"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.busy",[]).directive("busyIndicator",function(){return{restrict:"A",controller:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_indicator_directive_BusyIndicatorController,bindToController:{busyIndicatorPosition:"@?"},scope:!0}}).service("busyLayerService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_layer_service$BusyLayerService);var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$collection$collection_service$CollectionService=function($q,hostedStateService,modelLayer){var $jscomp$this=this;this.$q=$q;this.hostedStateService=hostedStateService;this.models=modelLayer({allowEmptyLists:!0,cacheTtlMs:9E5,listItemEqualsFullItem:!0,modelUrl:"/api/ogt/collection/:containerCollectionId"});this.models.getCollectionHash=function(){return $jscomp$this.hostedStateService.getMeasurementId()};this.models.getModelHash=
function(key){return String(key.containerCollectionId)}};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$collection$collection_service$CollectionService.$inject=["$q","hostedStateService","modelLayer"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$collection$collection_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.collection",[]).service("collectionService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$collection$collection_service$CollectionService);var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService=function($q,hostedStateService){this.$q=$q;this.hostedStateService=hostedStateService;this.hostDetails=new Map;this.containerIdMap=new Map;this.measurementIdMap=new Map};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService.prototype.getContainerName=function(measurementId){var $jscomp$optchain$tmp2073156736$0;return null==($jscomp$optchain$tmp2073156736$0=this.hostDetails.get(measurementId))?void 0:$jscomp$optchain$tmp2073156736$0.containerName};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService.prototype.getContainerUsageContext=function(measurementId){var $jscomp$optchain$tmp2073156736$1,type=null==($jscomp$optchain$tmp2073156736$1=this.hostDetails.get(measurementId))?void 0:$jscomp$optchain$tmp2073156736$1.containerType;return"ANDROID"===type||"IOS"===type?8:0};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService.prototype.get=function(containerId){var $jscomp$this=this;return this.hostedStateService.waitForInit().then(function(){return $jscomp$this.containerIdMap.get(containerId)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService.prototype.getByMeasurementId=function(measurementId){var $jscomp$this=this;return this.hostedStateService.waitForInit().then(function(){return $jscomp$this.measurementIdMap.get(measurementId)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService.prototype.getList=function(){var $jscomp$this=this;return this.hostedStateService.waitForInit().then(function(){return $jscomp$this.containerIdMap.values()})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService.prototype.setHostDetails=function(containerDetails){this.hostDetails=new Map(containerDetails.map(function(details){return[details.measurementId,details]}))};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService.prototype.setInitResult=function(initData){if(!initData.servingContainers)return this.$q.when();this.containerIdMap=new Map(initData.servingContainers.map(function(container){return[container.key.servingContainerId,container]}));this.measurementIdMap=new Map(initData.servingContainers.map(function(container){return[container.properties.measurementId,container]}));return this.$q.when()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService.$inject=["$q","hostedStateService"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$header_details_component$HeaderDetailsController=function(hostedStateService,containerService){this.hostedStateService=hostedStateService;this.containerService=containerService;this.prefix=this.measurementId=this.name=""};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$header_details_component$HeaderDetailsController.prototype.$onInit=function(){this.measurementId=this.hostedStateService.getMeasurementId();var containerName=this.containerService.getContainerName(this.measurementId);this.name=containerName||this.getDefaultContainerName();"ADS_AWN"===this.hostedStateService.getHostApp()&&containerName&&(this.prefix="Global site tag")};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$header_details_component$HeaderDetailsController.prototype.getDefaultContainerName=function(){return"ADS_AWN"===this.hostedStateService.getHostApp()?"Global site tag":"Tag ID"};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$header_details_component$HeaderDetailsController.$inject=["hostedStateService","containerService"];
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$header_details_component$headerDetailsComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$header_details_component$HeaderDetailsController,controllerAs:"ctrl",templateUrl:"/ogt/components/container/header_details_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.container",[]).component("headerDetails",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$header_details_component$headerDetailsComponent).service("containerService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_service$ContainerService);var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$embedded_activity_component$EmbeddedActivityController=function($q,$scope,busyLayerService,errorHandlerService,vendorTemplateService){this.busyLayerService=busyLayerService;this.errorHandlerService=errorHandlerService;this.vendorTemplateService=vendorTemplateService;this.initDeferred=$q.defer();$scope.Type=container_tag$VendorTemplateActivityDetails$Type;$scope.getThumbnailUrl=module$contents$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_utils_ctcs_getThumbnailUrl};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$embedded_activity_component$EmbeddedActivityController.prototype.$onInit=function(){this.busyLayerService.showLayerBusyUntil(this.initDeferred.promise)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$embedded_activity_component$EmbeddedActivityController.prototype.$onChanges=function(){var $jscomp$this=this;this.publicId&&this.vendorTemplateService.get(this.publicId).then(function(template){$jscomp$this.template=template;var $jscomp$optchain$tmpm632244434$0,$jscomp$optchain$tmpm632244434$1;$jscomp$this.activityType=null==($jscomp$optchain$tmpm632244434$0=template.data)?void 0:null==($jscomp$optchain$tmpm632244434$1=
$jscomp$optchain$tmpm632244434$0.activityDetails)?void 0:$jscomp$optchain$tmpm632244434$1.activityType}).catch(this.errorHandlerService.catchGenericError()).finally(function(){$jscomp$this.initDeferred.resolve()})};
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$embedded_activity_component$embeddedActivityComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$embedded_activity_component$EmbeddedActivityController,controllerAs:"ctrl",bindings:{publicId:"<"},templateUrl:"/ogt/components/embedded/embedded_activity_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController=function($q,$timeout,activityService,containerService,errorHandlerService,hostedStateService,vendorTemplateService){this.$q=$q;this.$timeout=$timeout;this.activityService=activityService;this.containerService=containerService;this.errorHandlerService=errorHandlerService;this.hostedStateService=hostedStateService;this.vendorTemplateService=vendorTemplateService;
this.emActivityStates=new Map;this.emPublicIds=[];this.emTemplates=new Map;this.chipsExpanded=this.initialized=this.isReadOnly=this.transactionInProgress=this.memoizedToggleAllState=!1;this.enabledChips=[]};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.$onInit=function(){for(var $jscomp$this=this,templates=[],$jscomp$iter$187=$jscomp$makeIterator(this.slat.subgroups[0].slats),$jscomp$key$s=$jscomp$iter$187.next();!$jscomp$key$s.done;$jscomp$key$s=$jscomp$iter$187.next()){var s=$jscomp$key$s.value;module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service_isActivitySlat(s)&&
(this.emPublicIds.push(s.publicId),templates.push(this.vendorTemplateService.get(s.publicId)))}this.$q.all({collectionKey:this.hostedStateService.getCollectionKey(),templates:this.$q.all(templates),waitForInit:this.hostedStateService.waitForInit()}).then(function(results){$jscomp$this.collectionId=results.collectionKey.containerCollectionId;$jscomp$this.isReadOnly=!$jscomp$this.hostedStateService.hasEditPermission();for(var $jscomp$iter$188=$jscomp$makeIterator(results.templates),$jscomp$key$template=
$jscomp$iter$188.next();!$jscomp$key$template.done;$jscomp$key$template=$jscomp$iter$188.next()){var template=$jscomp$key$template.value;$jscomp$this.emTemplates.set(template.data.publicId,template)}return $jscomp$this.refreshChips()}).finally(function(){$jscomp$this.initialized=!0});this.removeRefreshListener=this.activityService.onChange().addListener(function(){$jscomp$this.refreshChips()})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.setChipsExpanded=function(isExpanded){this.chipsExpanded=isExpanded};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.openEmPage=function(){this.openActivityPage({slat:this.slat})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.getTemplateName=function(publicId){var $jscomp$optchain$tmpm265383309$0,$jscomp$optchain$tmpm265383309$1,$jscomp$optchain$tmpm265383309$2,$jscomp$nullish$tmp82;return null!=($jscomp$nullish$tmp82=null==($jscomp$optchain$tmpm265383309$0=this.emTemplates.get(publicId))?void 0:null==($jscomp$optchain$tmpm265383309$1=$jscomp$optchain$tmpm265383309$0.data)?
void 0:null==($jscomp$optchain$tmpm265383309$2=$jscomp$optchain$tmpm265383309$1.displayName)?void 0:$jscomp$optchain$tmpm265383309$2.text[0].value)?$jscomp$nullish$tmp82:""};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.addChip=function(publicId){this.enabledChips.push({publicId:publicId,name:this.getTemplateName(publicId),iconClass:"em-chip__icon--"+publicId})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.clearChips=function(){this.enabledChips.length=0};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.makeCreateState=function(publicId){return{activity:{properties:{servingContainerIds:[],triggers:[]}},helper:this.initializeHelper(publicId)}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.makeEditState=function(publicId,activity){var helper=this.initializeHelper(publicId);helper.setInstance(activity.properties.templateInstance);return{activity:activity,helper:helper}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.initializeHelper=function(publicId){var template=this.emTemplates.get(publicId),context=this.containerService.getContainerUsageContext(this.hostedStateService.getMeasurementId()),contextHelper=new module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$usage_context_helper$UsageContextHelper([context]);return(new module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_instance_helper$VendorTemplateInstanceHelper(this.$timeout,
contextHelper,this.hostedStateService.getProductContext())).setTemplate(template.data)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.refreshActivityStates=function(){for(var $jscomp$this=this,promises={},$jscomp$iter$189=$jscomp$makeIterator(this.emPublicIds),$jscomp$key$publicId=$jscomp$iter$189.next();!$jscomp$key$publicId.done;$jscomp$key$publicId=$jscomp$iter$189.next()){var publicId=$jscomp$key$publicId.value;promises[publicId]=this.activityService.getList(publicId)}return this.$q.all(promises).then(function(results){for(var $jscomp$iter$190=
$jscomp$makeIterator(Object.entries(results)),$jscomp$key$=$jscomp$iter$190.next();!$jscomp$key$.done;$jscomp$key$=$jscomp$iter$190.next()){var $jscomp$destructuring$var61=$jscomp$makeIterator($jscomp$key$.value),publicId__tsickle_destructured_1=$jscomp$destructuring$var61.next().value,activityList__tsickle_destructured_2=$jscomp$destructuring$var61.next().value,publicId$238=publicId__tsickle_destructured_1,activityList=activityList__tsickle_destructured_2;$jscomp$this.emActivityStates.set(publicId$238,
0!==activityList.length?$jscomp$this.makeEditState(publicId$238,activityList[0]):$jscomp$this.makeCreateState(publicId$238))}})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.refreshChips=function(){var $jscomp$this=this;return this.refreshActivityStates().then(function(){$jscomp$this.clearChips();$jscomp$this.memoizedToggleAllState=!1;for(var $jscomp$iter$191=$jscomp$makeIterator($jscomp$this.emActivityStates),$jscomp$key$=$jscomp$iter$191.next();!$jscomp$key$.done;$jscomp$key$=$jscomp$iter$191.next()){var $jscomp$destructuring$var63=
$jscomp$makeIterator($jscomp$key$.value),publicId__tsickle_destructured_3=$jscomp$destructuring$var63.next().value,state__tsickle_destructured_4=$jscomp$destructuring$var63.next().value,publicId=publicId__tsickle_destructured_3,$jscomp$optchain$tmpm265383309$3=void 0,$jscomp$nullish$tmp83=void 0,value=null!=($jscomp$nullish$tmp83=null==($jscomp$optchain$tmpm265383309$3=$jscomp$this.getTargetedParam(publicId,state__tsickle_destructured_4))?void 0:$jscomp$optchain$tmpm265383309$3.value)?$jscomp$nullish$tmp83:
null,isEnabled=value?!!module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$object_utils_getValueByKeys(value,"boolean"):!1;("ccd_em_page_view"===publicId||isEnabled)&&$jscomp$this.addChip(publicId);$jscomp$this.memoizedToggleAllState=$jscomp$this.memoizedToggleAllState||isEnabled}})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.toggleAll=function(isEnabled){var $jscomp$this=this,collectionKey={containerCollectionId:this.collectionId};this.transactionInProgress=!0;for(var promise=this.$q.when(),$jscomp$loop$252={},$jscomp$iter$192=$jscomp$makeIterator(this.emActivityStates),$jscomp$key$=$jscomp$iter$192.next();!$jscomp$key$.done;$jscomp$loop$252={$jscomp$loop$prop$state$253:$jscomp$loop$252.$jscomp$loop$prop$state$253},
$jscomp$key$=$jscomp$iter$192.next()){var $jscomp$destructuring$var65=$jscomp$makeIterator($jscomp$key$.value),publicId__tsickle_destructured_5=$jscomp$destructuring$var65.next().value,state__tsickle_destructured_6=$jscomp$destructuring$var65.next().value,publicId=publicId__tsickle_destructured_5;$jscomp$loop$252.$jscomp$loop$prop$state$253=state__tsickle_destructured_6;this.getTargetedParam(publicId,$jscomp$loop$252.$jscomp$loop$prop$state$253).value=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newBoolean(isEnabled);
$jscomp$loop$252.$jscomp$loop$prop$state$253.activity.properties.templateInstance=$jscomp$loop$252.$jscomp$loop$prop$state$253.helper.getInstance();promise=promise.then(function($jscomp$loop$252){return function(){var $jscomp$optchain$tmpm265383309$4;return(null==($jscomp$optchain$tmpm265383309$4=$jscomp$loop$252.$jscomp$loop$prop$state$253.activity.key)?0:$jscomp$optchain$tmpm265383309$4.ogtActivityId)?$jscomp$this.activityService.update($jscomp$loop$252.$jscomp$loop$prop$state$253.activity).then(function(){}):
$jscomp$this.activityService.create(collectionKey,$jscomp$loop$252.$jscomp$loop$prop$state$253.activity).then(function(){})}}($jscomp$loop$252)).catch(this.errorHandlerService.catchGenericError())}return promise.finally(function(){$jscomp$this.transactionInProgress=!1})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.getTargetedParam=function(publicId,state){return state.helper.getParam("ccd_em_page_view"===publicId?"historyEvents":"isEnabled")};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype.$onDestroy=function(){var $jscomp$optchain$tmpm265383309$6;null==($jscomp$optchain$tmpm265383309$6=this.removeRefreshListener)||$jscomp$optchain$tmpm265383309$6.call(this)};
$jscomp$global.Object.defineProperties(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.prototype,{toggleAllState:{configurable:!0,enumerable:!0,get:function(){return this.memoizedToggleAllState},set:function(newValue){var $jscomp$this=this;this.memoizedToggleAllState=newValue;this.toggleAll(newValue).then(function(){return $jscomp$this.refreshChips()})}}});
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController.$inject="$q $timeout activityService containerService errorHandlerService hostedStateService vendorTemplateService".split(" ");
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$enhancedMeasurementComponent={controller:module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$EnhancedMeasurementController,controllerAs:"ctrl",bindings:{openActivityPage:"&",slat:"<"},templateUrl:"/ogt/components/embedded/enhanced_measurement_component.html"};var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$gafe_em_root_component_GafeEmRootController=function(routerService){this.routerService=routerService};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$gafe_em_root_component_GafeEmRootController.prototype.openActivityPage=function(){this.routerService.goToActivityGroup(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$EM_SLAT.groupId)};
$jscomp$global.Object.defineProperties(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$gafe_em_root_component_GafeEmRootController.prototype,{emSlat:{configurable:!0,enumerable:!0,get:function(){return module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$EM_SLAT}}});
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$gafe_em_root_component_GafeEmRootController.$inject=["routerService"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$gafe_em_root_component$gafeEmRootComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$gafe_em_root_component_GafeEmRootController,controllerAs:"ctrl",templateUrl:"/ogt/components/embedded/gafe_em_root_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$service$embedded_toast_service$EmbeddedToastService=function($q){this.$q=$q};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$service$embedded_toast_service$EmbeddedToastService.prototype.show=function(){return this.$q.when()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$service$embedded_toast_service$EmbeddedToastService.prototype.removeAll=function(){};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$service$embedded_toast_service$EmbeddedToastService.prototype.remove=function(){};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$service$embedded_toast_service$EmbeddedToastService.$inject=["$q"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$embedded_module$module=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.embedded",[]).component("adsAwnRoot",{controller:function(){},controllerAs:"ctrl",templateUrl:"/ogt/components/embedded/ads_awn_root_component.html"}).component("embeddedActivity",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$embedded_activity_component$embeddedActivityComponent).component("enhancedMeasurement",
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$enhanced_measurement_component$enhancedMeasurementComponent).component("gafeEmRoot",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$gafe_em_root_component$gafeEmRootComponent).service("embeddedToastService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$service$embedded_toast_service$EmbeddedToastService);function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$guidedflowdefinitions$guided_flow_definitions_guidedFlowDefinitionsFactoryProvider(activityService,dialogService,hostedStateService){return function(type){switch(type){case "AW_GCLIDLESS":return module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$guidedflowdefinitions$guided_flow_definitions_getAwGclidlessGuidedFlow(activityService,dialogService,hostedStateService.isFlagEnabled(72));
default:throw Error("Unsupported guided flow "+type);}}}module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$guidedflowdefinitions$guided_flow_definitions_guidedFlowDefinitionsFactoryProvider.$inject=["activityService","dialogService","hostedStateService"];
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$guidedflowdefinitions$guided_flow_definitions_getAwGclidlessGuidedFlow(activityService,dialogService,formCcdFlag){return{id:"AW_GCLIDLESS",steps:formCcdFlag?[{title:"Ensure the global site tag is installed",message:'Copy and paste this code as the first item after the &lt;head&gt; of every page of your website, or copy and paste your tag ID in the appropriate place within your CMS (example: Wordpress, Shopify) <a href="#" target="_blank">See detailed instructions</a>',
targetSelector:".snippet-card",nextButton:"Next",placement:"top",startPredicate:function(){return!!document.querySelector(".snippet-card")}},{title:"Ensure you've included user data",message:'To measure website leads that convert offline, your tag can include user-provided data with lead form events to simplify the import process. Configure how the user-provided data is included. Google is committed to protecting the confidentiality and securety of the data you share with us. <a href="#" target="_blank">Learn more</a>',
targetSelector:".activity-slat--ogt_1p_data",nextButton:"Done",placement:"top"}]:[{title:"Ensure the global site tag is installed",message:'Copy and paste this code as the first item after the &lt;head&gt; of every page of your website, or copy and paste your tag ID in the appropriate place within your CMS (example: Wordpress, Shopify) <a href="#" target="_blank">See detailed instructions</a>',targetSelector:".snippet-card",nextButton:"Next",placement:"top",startPredicate:function(){return!!document.querySelector(".snippet-card")}},
{title:"Ensure you're collecting form interactions",message:'Leads are generated when your website visitors submit a form. Your global site tag can collect form events automatically. Turn this feature on to start collecting form events. <a href="#" target="_blank">Learn more</a>',targetSelector:".activity-slat--ogt_em_form",nextButton:"Next",placement:"top"},{title:"Ensure you've included user data",message:'To measure website leads that convert offline, your tag can include user-provided data with lead form events to simplify the import process. Configure how the user-provided data is included. Google is committed to protecting the confidentiality and securety of the data you share with us. <a href="#" target="_blank">Learn more</a>',
targetSelector:".activity-slat--ogt_1p_data",nextButton:"Done",placement:"top"}],onGuidedFlowEnded:function(){activityService.getList().then(function(activities){dialogService.showDialog({templateUrl:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$guidedflowdefinitions$guided_flow_definitions_checkGclidlessSetUp(activities,formCcdFlag)?"/ogt/components/guidedflowdefinitions/aw_gclidless_flow_succeed_dialog.html":"/ogt/components/guidedflowdefinitions/aw_gclidless_flow_failed_dialog.html"})})}}}
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$guidedflowdefinitions$guided_flow_definitions_checkGclidlessSetUp(activities,formCcdFlag){for(var is1pDataEnabled,isEmFormEnabled,isEnabled=function(activity){var $jscomp$optchain$tmp722326952$1;return null==($jscomp$optchain$tmp722326952$1=activity.properties.templateInstance.param)?void 0:$jscomp$optchain$tmp722326952$1.some(function(param){var $jscomp$optchain$tmp722326952$0;return"isEnabled"===param.key&&
!(null==($jscomp$optchain$tmp722326952$0=param.value)||!$jscomp$optchain$tmp722326952$0.boolean)})},$jscomp$iter$193=$jscomp$makeIterator(activities),$jscomp$key$activity=$jscomp$iter$193.next();!$jscomp$key$activity.done;$jscomp$key$activity=$jscomp$iter$193.next()){var activity$jscomp$0=$jscomp$key$activity.value,publicId=activity$jscomp$0.properties.templateInstance.key.publicId;"ogt_1p_data"===publicId?is1pDataEnabled=isEnabled(activity$jscomp$0):"ogt_em_form"===publicId&&(isEmFormEnabled=isEnabled(activity$jscomp$0))}formCcdFlag&&
(isEmFormEnabled=!0);return!(!is1pDataEnabled||!isEmFormEnabled)};var module$exports$apps$frames$promise$Promise$CommunicationPromise=Promise;var module$exports$apps$frames$communication$Message=function(data,channel){this.data=data;this.channel=channel};module$exports$apps$frames$communication$Message.prototype.reply=function(data,onReply,transfer){this.channel.send(data,onReply,transfer)};module$exports$apps$frames$communication$Message.prototype.replyPromise=function(data,transfer){return this.channel.sendPromise(data,transfer)};var module$exports$apps$frames$communication$MessagePortChannel=function(port){this.port_=port};module$exports$apps$frames$communication$MessagePortChannel.prototype.send=function(data,onReply,transfer){transfer=void 0===transfer?[]:transfer;var messageChannel=module$exports$apps$frames$communication$MessagePortChannel$createMessageChannel(onReply);this.port_.postMessage(data,[messageChannel.port2].concat(transfer))};
module$exports$apps$frames$communication$MessagePortChannel.prototype.sendPromise=function(data,transfer){var $jscomp$this=this;return new module$exports$apps$frames$promise$Promise$CommunicationPromise(function(resolve){$jscomp$this.send(data,resolve,transfer)})};
var module$exports$apps$frames$communication$MessagePortChannel$fromPort=function(port,onMessage){module$contents$apps$frames$communication$MessagePortChannel_attachMessageHandler(port,onMessage);return new module$exports$apps$frames$communication$MessagePortChannel(port)},module$exports$apps$frames$communication$MessagePortChannel$createMessageChannel=function(onMessage){var messageChannel=new MessageChannel;module$contents$apps$frames$communication$MessagePortChannel_attachMessageHandler(messageChannel.port1,
onMessage);return messageChannel},module$contents$apps$frames$communication$MessagePortChannel_attachMessageHandler=function(port,onMessage){onMessage&&(port.onmessage=function(event){onMessage(new module$exports$apps$frames$communication$Message(event.data,module$exports$apps$frames$communication$MessagePortChannel$fromPort(event.ports[0],void 0)))})};var module$exports$apps$frames$communication$channelSetup$requestConnection=function($jscomp$destructuring$var66){var destination=$jscomp$destructuring$var66.destination,origin=$jscomp$destructuring$var66.origin,token=void 0===$jscomp$destructuring$var66.token?void 0:$jscomp$destructuring$var66.token,channelName=void 0===$jscomp$destructuring$var66.channelName?"ZNWN1d":$jscomp$destructuring$var66.channelName,onMessage=void 0===$jscomp$destructuring$var66.onMessage?void 0:$jscomp$destructuring$var66.onMessage;
if("*"===origin)throw Error("Sending to wildcard origin not allowed.");var messageChannel=module$exports$apps$frames$communication$MessagePortChannel$createMessageChannel(onMessage),$jscomp$compprop90={},payload=token?($jscomp$compprop90.n=channelName,$jscomp$compprop90.t=token,$jscomp$compprop90):channelName;destination.postMessage(payload,origin,[messageChannel.port2]);return module$exports$apps$frames$communication$MessagePortChannel$fromPort(messageChannel.port1,onMessage)};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService=function($compile,$injector,$rootScope,$window,activityService,hostedStateService,routerService,toastService,guidedFlowService,guidedFlowDefinitionsFactory){var $jscomp$this=this;this.$compile=$compile;this.$injector=$injector;this.$rootScope=$rootScope;this.activityService=activityService;this.hostedStateService=hostedStateService;this.routerService=routerService;this.toastService=
toastService;this.guidedFlowService=guidedFlowService;this.guidedFlowDefinitionsFactory=guidedFlowDefinitionsFactory;this.isAppLevelComponentsInitialized=!1;this.channel=module$exports$apps$frames$communication$channelSetup$requestConnection({destination:$window.parent,origin:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service_getHostOrigin($window),channelName:"ogt",onMessage:function(message){$jscomp$this.$rootScope.$applyAsync(function(){$jscomp$this.receiveMessage(message)})}})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.startListening=function(){var $jscomp$this=this;this.routerService.onRouteChange().addListener(function(hash){hash=void 0===hash?"":hash;$jscomp$this.sendMessage($jscomp$this.hostedStateService.isEmbeddedMode()?"EMBEDDED_ROUTE_CHANGE":"HISTORY",{hash:hash})});this.hostedStateService.isEmbeddedMode()?this.sendMessage("EMBEDDED_BOOTSTRAPPED"):(this.routerService.addSliderOpeningListener(function(){$jscomp$this.sendMessage("SLIDER_OPENING")}),
this.routerService.onSliderClosing().addListener(function(){$jscomp$this.sendMessage("SLIDER_CLOSING")}),this.routerService.onSliderClosed().addListener(function(){var result={};"GAFE"===$jscomp$this.hostedStateService.getHostApp()&&(result.gaNewEventNames=$jscomp$this.activityService.getAndClearNewlyCreatedEventNames());$jscomp$this.sendMessage("SLIDER_CLOSED",{result:result})}))};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.resize=function(width,height){var $jscomp$this=this;return this.sendMessage("EMBEDDED_RESIZE",{height:height,width:width}).then(function(message){$jscomp$this.$rootScope.$apply();return message})};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.reloadHostPage=function(){return this.sendMessage("RELOAD")};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.receiveMessage=function(channelMessage){var message=channelMessage.data||{};switch(message.messageType){case "OPEN_SLIDER":var $jscomp$optchain$tmpm311550396$0;this.openSlider(null==($jscomp$optchain$tmpm311550396$0=message.data)?void 0:$jscomp$optchain$tmpm311550396$0.options);break;case "OPEN_EMBEDDED_PAGE":var $jscomp$optchain$tmpm311550396$1;this.openEmbeddedPage(null==
($jscomp$optchain$tmpm311550396$1=message.data)?void 0:$jscomp$optchain$tmpm311550396$1.options);break;case "REFRESH_EMBEDDED_PAGE":this.refreshEmbeddedPage()}};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.sendMessage=function(messageType,data){return this.channel.sendPromise({messageType:messageType,data:data})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.openSlider=function(options){options=void 0===options?{}:options;this.hostedStateService.isSliderMode();this.resetAppState();options=this.fixRenamedPropertiesIfNeeded(options);this.init(options);options.routeHash?this.routerService.initFromLocation(options.routeHash):options.activityId?this.routerService.goToActivityList(options.activityId):this.routerService.goToOgtHome()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.openEmbeddedPage=function(options){options=void 0===options?{}:options;this.hostedStateService.isEmbeddedMode();options.activityId&&this.hostedStateService.setEmbeddedActivityId(options.activityId);this.init(this.fixRenamedPropertiesIfNeeded(options))};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.refreshEmbeddedPage=function(){this.hostedStateService.isEmbeddedMode();this.resetAppState()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.resetAppState=function(){this.activityService.resetState()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.init=function(options){this.$injector.get("initService").init(options);options.guidedFlow&&this.guidedFlowService.startFlow(this.guidedFlowDefinitionsFactory(options.guidedFlow));this.setupAppLevelComponents()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.setupAppLevelComponents=function(){var $jscomp$this=this;if(!this.isAppLevelComponentsInitialized){var appElement=this.$compile("\n    <toast-holder></toast-holder>\n")(this.$rootScope.$new()),body=module$exports$google3$third_party$javascript$typings$angular$index.element(document.body);"ADS_AWN"===this.hostedStateService.getHostApp()?body.addClass("ogt-ads-awn-theme"):
"GAFE"===this.hostedStateService.getHostApp()&&body.addClass("ogt-gafe-theme");body.append(appElement);this.routerService.onSliderClosed().addListener(function(){$jscomp$this.toastService.removeAll();$jscomp$this.guidedFlowService.cancelFlowsIfAny()});this.isAppLevelComponentsInitialized=!0}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService.prototype.fixRenamedPropertiesIfNeeded=function(options){if("GAFE"===this.hostedStateService.getHostApp())for(var $jscomp$inline_1027=$jscomp$makeIterator(Object.values(options)),$jscomp$key$value=$jscomp$inline_1027.next();!$jscomp$key$value.done;$jscomp$key$value=$jscomp$inline_1027.next()){var value=$jscomp$key$value.value;!options.collectionId&&"string"===typeof value&&value.startsWith("GA_")?
options.collectionId=value:!options.selectedMeasurementId&&"string"===typeof value&&value.startsWith("G-")?options.selectedMeasurementId=value:!options.activityId&&"string"===typeof value&&value.startsWith("ogt_")?options.activityId=value:!options.containerDetails&&Array.isArray(value)&&(options.containerDetails=value)}return options};
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service_getHostOrigin(win){var url=new URL(win.location.href),$jscomp$nullish$tmp84,originUrl=new URL(null!=($jscomp$nullish$tmp84=url.searchParams.get("origin"))?$jscomp$nullish$tmp84:win.location.origin);return originUrl.hostname.endsWith(".google.com")||originUrl.hostname.endsWith(".googlers.com")?originUrl.origin:win.location.origin};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$init_service$InitService=function($http,$q,hostedStateService,containerService,errorHandlerService,vendorTemplateService){this.$http=$http;this.$q=$q;this.hostedStateService=hostedStateService;this.containerService=containerService;this.errorHandlerService=errorHandlerService;this.vendorTemplateService=vendorTemplateService};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$init_service$InitService.prototype.init=function(options){var $jscomp$this=this;options=void 0===options?{}:options;if(this.isValidCollectionId(options)&&options.selectedMeasurementId){var servingContainers=[];if(options.containerDetails)for(var $jscomp$iter$195=$jscomp$makeIterator(options.containerDetails),$jscomp$key$details=$jscomp$iter$195.next();!$jscomp$key$details.done;$jscomp$key$details=$jscomp$iter$195.next()){var details=
$jscomp$key$details.value;if(details.measurementId){var $jscomp$nullish$tmp85=void 0;servingContainers.push(details.measurementId+":"+(null!=($jscomp$nullish$tmp85=details.containerType)?$jscomp$nullish$tmp85:"WEB"))}}this.hostedStateService.preInit(options.selectedMeasurementId,options.flags);this.vendorTemplateService.preInit();options.containerDetails&&this.containerService.setHostDetails(options.containerDetails);var url="/api/ogt/init/"+options.collectionId+"?id="+servingContainers.map(function(id){return encodeURIComponent(id)}).join("&id=");
this.$http.get(url).then(function(result){var $jscomp$optchain$tmp418636120$1;if(null==result?0:null==($jscomp$optchain$tmp418636120$1=result.data)?0:$jscomp$optchain$tmp418636120$1.default){var initData=result.data.default;return $jscomp$this.$q.all([$jscomp$this.hostedStateService.setInitResult(initData),$jscomp$this.containerService.setInitResult(initData),$jscomp$this.vendorTemplateService.setInitResult(initData)])}$jscomp$this.hostedStateService.setInitFailed()}).catch(function(error){$jscomp$this.hostedStateService.setInitFailed();
$jscomp$this.errorHandlerService.handleError(error)}).finally(function(){$jscomp$this.hostedStateService.postInit()})}else this.fail()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$init_service$InitService.prototype.fail=function(){this.hostedStateService.setInitFailed();this.hostedStateService.postInit()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$init_service$InitService.prototype.isValidCollectionId=function(options){var hostApp=this.hostedStateService.getHostApp();if("GAFE"===hostApp){var $jscomp$optchain$tmp418636120$2;return!(null==($jscomp$optchain$tmp418636120$2=options.collectionId)||!$jscomp$optchain$tmp418636120$2.startsWith("GA_"))}if("ADS_AWN"===hostApp){var $jscomp$optchain$tmp418636120$3;return!(null==($jscomp$optchain$tmp418636120$3=options.collectionId)||
!$jscomp$optchain$tmp418636120$3.startsWith("AW_"))}if("DEVELOPMENT"===hostApp){var $jscomp$optchain$tmp418636120$4;return!(null==($jscomp$optchain$tmp418636120$4=options.collectionId)||!$jscomp$optchain$tmp418636120$4.startsWith("DEVEL_"))}return!1};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$init_service$InitService.$inject="$http $q hostedStateService containerService errorHandlerService vendorTemplateService".split(" ");var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_currentAppVersion,module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_isMessageAlreadyShown=!1;
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_isOutdatedAppVersion(response){var $jscomp$optchain$tmp528133516$1,versionId=null==($jscomp$optchain$tmp528133516$1=response.headers)?void 0:$jscomp$optchain$tmp528133516$1.call(response,"x-gtm-versionid");return versionId?module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_currentAppVersion?module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_currentAppVersion!==
String(versionId):(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_currentAppVersion=String(versionId),!1):!1}
function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_appVersionInterceptor($injector,toastService){var iframeService;return{response:function(response){!module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_isMessageAlreadyShown&&module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_isOutdatedAppVersion(response)&&
(toastService.show({actionText:"Refresh",id:"refresh-page-toast",isClosable:!1,message:"A new version of this page is available",type:"persistent"}).then(function(){iframeService=iframeService||$injector.get("iframeService");iframeService.reloadHostPage()}).catch(function(){}),module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_isMessageAlreadyShown=!0);return response}}}
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_appVersionInterceptor.$inject=["$injector","toastService"];function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$host_ics_header_interceptor_hostIcsHeaderInterceptor(hostedStateService){return{request:function(config){var hostIcs=hostedStateService.getHostIcs();hostIcs&&config.url.startsWith("/api/ogt/")&&config.headers&&(config.headers["Ogt-Host-Ics"]=hostIcs);return config}}}
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$host_ics_header_interceptor_hostIcsHeaderInterceptor.$inject=["hostedStateService"];function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$locale_interceptor_localeInterceptor($injector,$q,hostedStateService){return{request:function(config){var locale=encodeURIComponent(hostedStateService.getLocale()),url=config.url;url.startsWith("/api/ogt/")&&(config.url=0>url.indexOf("?")?url+"?hl="+locale:url+"&hl="+locale);return config}}}
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$locale_interceptor_localeInterceptor.$inject=["$injector","$q","hostedStateService"];function module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$product_header_interceptor_productHeaderInterceptor(hostedStateService){return{request:function(config){config.url.startsWith("/api/ogt/")&&config.headers&&(config.headers["Ogt-Product"]=hostedStateService.getProductContext());return config}}}
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$product_header_interceptor_productHeaderInterceptor.$inject=["hostedStateService"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$interceptors_module$interceptorsModule=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.interceptors",[]).factory("appVersionInterceptor",module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$app_version_interceptor_appVersionInterceptor).factory("hostIcsHeaderInterceptor",module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$host_ics_header_interceptor_hostIcsHeaderInterceptor).factory("localeInterceptor",
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$locale_interceptor_localeInterceptor).factory("multiloginInterceptor",function(){return{request:function(config,currentUrl){if(!module$contents$google3$java$com$google$analytics$containertag$ui$common$interceptors$multilogin_interceptor_API_PATH_PREFIX_REGEX.test(config.url))return config;var uri=null!=currentUrl?currentUrl:window.location.href,hashOrEndIndex=uri.search(goog$uri$utils$hashOrEndRe_);
b:{for(var index=0;0<=(index=uri.indexOf("authuser",index))&&index<hashOrEndIndex;){var precedingChar=uri.charCodeAt(index-1);if(38==precedingChar||63==precedingChar){var followingChar=uri.charCodeAt(index+8);if(!followingChar||61==followingChar||38==followingChar||35==followingChar){var foundIndex=index;break b}}index+=9}foundIndex=-1}if(0>foundIndex)var JSCompiler_inline_result=null;else{var endPosition=uri.indexOf("&",foundIndex);if(0>endPosition||endPosition>hashOrEndIndex)endPosition=hashOrEndIndex;
JSCompiler_inline_result=decodeURIComponent(uri.slice(foundIndex+9,-1!==endPosition?endPosition:0).replace(/\+/g," "))}var authUserIndex=JSCompiler_inline_result;null!=authUserIndex&&(config.url=goog$uri$utils$appendParams(config.url,"authuser",authUserIndex));return config}}}).factory("productHeaderInterceptor",module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$product_header_interceptor_productHeaderInterceptor);var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$noaccess$no_access_directive_NoAccessDirectiveController=function($element,hostedStateService){this.$element=$element;this.hostedStateService=hostedStateService};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$noaccess$no_access_directive_NoAccessDirectiveController.prototype.$onInit=function(){var $jscomp$this=this;this.hostedStateService.waitForInit().catch(module$exports$google3$third_party$javascript$typings$angular$index.noop).finally(function(){$jscomp$this.hostedStateService.isSuccessfullyInitialized()?$jscomp$this.hostedStateService.hasViewPermission()||$jscomp$this.showError("You do not have permission to access these settings"):
$jscomp$this.showError("There was an error loading this page. Try again.")})};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$noaccess$no_access_directive_NoAccessDirectiveController.prototype.showError=function(message){this.$element.empty();this.$element.append('<div class="ogt-no-access-message">'+message+"</div>")};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$noaccess$no_access_directive_NoAccessDirectiveController.$inject=["$element","hostedStateService"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$noaccess$no_access_module$noAccessModule=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.noAccess",[]).directive("ogtNoAccess",function(){return{restrict:"A",controller:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$noaccess$no_access_directive_NoAccessDirectiveController,controllerAs:"noAccessCtrl"}});var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_Mode={ALL:"ALL",SOME:"SOME"},module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PARAMETERS=[{key:"Page Hostname",displayName:"Page hostname"},{key:"Page Path",displayName:"Page path"},{key:"Page URL",displayName:"Page URL"}],module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PARAMETERS_LOOKUP=
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PARAMETERS.reduce(function(lookup,parameter){lookup[parameter.key]=parameter.displayName;return lookup},{}),module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController=function($scope){this.triggers=[];this.parameterOptions=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PARAMETERS;
this.operatorOptions=module$exports$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils$NON_NUMERIC_OPERATORS.filter(function(option){return!option.webOnly});this.canAddConditions=!1;$scope.Mode=module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_Mode};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.$onInit=function(){var $jscomp$this=this;this.ngModelCtrl.$render=function(){$jscomp$this.triggers=$jscomp$this.ngModelCtrl.$viewValue||[];$jscomp$this.filterMode=0===$jscomp$this.triggers.length?"ALL":"SOME";for(var $jscomp$iter$196=$jscomp$makeIterator($jscomp$this.triggers),$jscomp$key$trigger=$jscomp$iter$196.next();!$jscomp$key$trigger.done;$jscomp$key$trigger=
$jscomp$iter$196.next())module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_convertTypeToOperator($jscomp$key$trigger.value.filter[0]);$jscomp$this.updateIfCanAddConditions()}};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.getPredicate=function(trigger){return trigger.filter[0]};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.getOperatorDisplayName=function(operatorKey){return lookupTable$jscomp$inline_523[operatorKey]||""};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.getParameterDisplayName=function(parameterKey){return module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PARAMETERS_LOOKUP[parameterKey]||""};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.addRow=function(){var trigger={filter:[{type:4,arg:[{type:4,macroReference:"Page Hostname"},module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newString()]}],autoEventFilter:[],customEventFilter:[]};module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_convertTypeToOperator(trigger.filter[0]);
this.triggers.push(trigger);this.updateIfCanAddConditions();this.updateModelValue()};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.removeRow=function(index){this.triggers.splice(index,1);this.updateIfCanAddConditions();this.updateModelValue()};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.operatorChanged=function(trigger){var predicate=trigger.filter[0];predicate.negate&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$type_utils_isDefined(predicate.operator)&&module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_INVALID_NEGATED_TYPES[predicate.operator]&&(predicate.operator=
module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_INVALID_NEGATED_TYPES[predicate.operator],predicate.negate=!1);var negativeType=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_NEGATED_TYPES_TO_TYPE[predicate.operator],clientType=negativeType||predicate.operator;"REGEX_IGNORE_CASE"===clientType?(predicate.regexPredicate={ignoreCase:module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$value_utils_newBoolean(!0)},
clientType="REGEX"):delete predicate.regexPredicate;predicate.negate=!!negativeType;predicate.type=module$contents$google3$java$com$google$analytics$containertag$ui$common$lib$predicate_utils_OPERATOR_TO_PREDICATE_TYPE[clientType]};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.filterModeChanged=function(){var hasTriggers=0!==this.triggers.length;this.isSomePagesMode&&!hasTriggers?this.memoizedTriggers?(this.triggers=this.memoizedTriggers,this.memoizedTriggers=void 0):this.addRow():this.isAllPagesMode&&hasTriggers&&(this.memoizedTriggers=this.triggers,this.triggers=[]);this.updateModelValue()};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.updateModelValue=function(){this.ngModelCtrl.$setViewValue(this.triggers);this.ngModelCtrl.$setDirty()};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype.updateIfCanAddConditions=function(){this.canAddConditions=15>this.triggers.length};
$jscomp$global.Object.defineProperties(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.prototype,{isSomePagesMode:{configurable:!0,enumerable:!0,get:function(){return"SOME"===this.filterMode}},isAllPagesMode:{configurable:!0,enumerable:!0,get:function(){return"ALL"===this.filterMode}}});
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController.$inject=["$scope"];
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component$pageFilterComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component_PageFilterController,require:{ngModelCtrl:"ngModel"},controllerAs:"ctrl",templateUrl:"/ogt/components/pagefilter/page_filter_component.html"};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_module$pageFilterModule=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.pagefilter",[]).component("pageFilter",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_component$pageFilterComponent);var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service_ROUTES=[{name:"ogt",template:"<activity-slider-root></activity-slider-root>"},{name:"editor",template:'<activity-editor-slider\n            data-activity-id="activityId"\n            data-collection-id="collectionId"\n            data-public-id="publicId">\n        </activity-editor-slider>'},{name:"group",template:'<activity-group-slider data-group-id="groupId">\n        </activity-group-slider>'},
{name:"list",template:'<activity-list-slider data-public-id="publicId">\n        </activity-list-slider>'}],module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService=function($location,$rootScope,$timeout,hostedStateService,sheetService){var $jscomp$this=this;this.$location=$location;this.$rootScope=$rootScope;this.$timeout=$timeout;this.hostedStateService=hostedStateService;this.sheetService=sheetService;this.history=[];this.routeChangeNotifier=
new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.sliderClosingNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.sliderClosedNotifier=new module$exports$google3$java$com$google$analytics$containertag$ui$common$events$notifier$Notifier;this.routes=new Map(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service_ROUTES.map(function(route){return[route.name,
route]}));this.hostedStateService.isEmbeddedMode()||this.$rootScope.$on("$locationChangeStart",function(event,newUrl){$jscomp$this.locationChangeStarted(event,newUrl)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.initFromLocation=function(location){for(var sheets=[],historyEntry,$jscomp$iter$198=$jscomp$makeIterator(location.split("/")),$jscomp$key$route=$jscomp$iter$198.next();!$jscomp$key$route.done;$jscomp$key$route=$jscomp$iter$198.next()){var $jscomp$destructuring$var78=$jscomp$makeIterator($jscomp$key$route.value.split(":")),name__tsickle_destructured_1=$jscomp$destructuring$var78.next().value,
parts__tsickle_destructured_2=$jscomp$arrayFromIterator($jscomp$destructuring$var78),name=name__tsickle_destructured_1,parts=parts__tsickle_destructured_2;if(name){if(!parts||parts.length%2)var JSCompiler_inline_result=void 0;else{for(var params={},index=0;index<parts.length;index+=2)params[parts[index]]=parts[index+1];JSCompiler_inline_result=params}var JSCompiler_temp=this.createHistoryEntry(name,JSCompiler_inline_result)}else JSCompiler_temp=void 0;if(historyEntry=JSCompiler_temp)this.history.push(historyEntry),
sheets.push(this.createSheetConfig(historyEntry));else{this.history.splice(-sheets.length);this.goToOgtHome();return}}this.setLocation(historyEntry.fullPath);this.sheetService.displayAll(sheets).catch(module$exports$google3$third_party$javascript$typings$angular$index.noop)};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.goToOgtHome=function(){this.open("ogt")};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.goToEditActivity=function(collectionId,activityId){this.open("editor",{collectionId:collectionId,activityId:activityId})};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.goToCreateActivity=function(collectionId,publicId){this.open("editor",{collectionId:collectionId,publicId:publicId})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.goToActivityGroup=function(groupId){this.open("group",{groupId:groupId})};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.goToActivityList=function(publicId){this.open("list",{publicId:publicId})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.back=function(){this.sheetService.reject().catch(module$exports$google3$third_party$javascript$typings$angular$index.noop)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.open=function(routeName,context){context=void 0===context?{}:context;var historyEntry=this.createHistoryEntry(routeName,context);historyEntry&&(this.hostedStateService.isEmbeddedMode()?this.routeChangeNotifier.fire(historyEntry.fullPath):(this.history.push(historyEntry),this.setLocation(historyEntry.fullPath),this.sheetService.display(this.createSheetConfig(historyEntry)).catch(module$exports$google3$third_party$javascript$typings$angular$index.noop)))};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.addCloseListener=function(listener){return this.sheetService.addCloseListener(listener)};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.onRouteChange=function(){return this.routeChangeNotifier};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.addSliderOpeningListener=function(callback){return this.sheetService.onSheetOpening(callback)};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.onSliderClosing=function(){return this.sliderClosingNotifier};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.onSliderClosed=function(){return this.sliderClosedNotifier};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.getCurrentHistoryEntry=function(){if(0!==this.history.length)return this.history[this.history.length-1]};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.locationChangeStarted=function(event,newUrl){var $jscomp$this=this,newHash=(new URL(newUrl)).hash.substr(3);this.routeChangeNotifier.fire(newHash);var $jscomp$optchain$tmpm1551133212$0;if((null==($jscomp$optchain$tmpm1551133212$0=this.getCurrentHistoryEntry())?void 0:$jscomp$optchain$tmpm1551133212$0.fullPath)!==newHash){var depth=""===newHash?0:newHash.split("/").length;
depth<this.history.length&&(this.history.pop(),0===this.history.length&&(this.sliderClosingNotifier.fire(),this.$timeout(function(){$jscomp$this.sliderClosedNotifier.fire()},400)),this.sheetService.getSheetCount()>depth&&this.sheetService.reject())}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.returnToPreviousRoute=function(historyEntry){if(!historyEntry||historyEntry===this.getCurrentHistoryEntry()){var $jscomp$optchain$tmpm1551133212$1,$jscomp$nullish$tmp87;this.setLocation(null!=($jscomp$nullish$tmp87=null==($jscomp$optchain$tmpm1551133212$1=this.history[this.history.length-2])?void 0:$jscomp$optchain$tmpm1551133212$1.fullPath)?$jscomp$nullish$tmp87:"")}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.createHistoryEntry=function(routeName,context){context=void 0===context?{}:context;var config=this.getRoute(routeName);if(config)return{config:config,context:context,fullPath:this.generateNextHash(config,context)}};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.createSheetConfig=function(entry){var $jscomp$this=this;return{template:entry.config.template,context:entry.context,onClose:function(){return void $jscomp$this.returnToPreviousRoute(entry)}}};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.getRoute=function(name){return this.routes.get(name)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.setLocation=function(path){this.$location.url(path)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService.prototype.generateNextHash=function(nextView,params$jscomp$0){params$jscomp$0=void 0===params$jscomp$0?{}:params$jscomp$0;var lastEntry=this.getCurrentHistoryEntry(),params=params$jscomp$0;params=void 0===params?{}:params;for(var urlEntry=nextView.name,$jscomp$inline_1042=$jscomp$makeIterator(Object.keys(params)),$jscomp$key$key=$jscomp$inline_1042.next();!$jscomp$key$key.done;$jscomp$key$key=
$jscomp$inline_1042.next()){var key=$jscomp$key$key.value,$jscomp$inline_1045=void 0,value=null!=($jscomp$inline_1045=params[key])?$jscomp$inline_1045:void 0;void 0!==value&&(urlEntry+=":"+key+":"+value)}var JSCompiler_inline_result=urlEntry;return(null==lastEntry?0:lastEntry.fullPath)?[lastEntry.fullPath,JSCompiler_inline_result].join("/"):JSCompiler_inline_result};var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$sheet$ogt_sheet_service$OgtSheetService=function($compile,$http,$q,$rootScope,$templateCache,$timeout,$window,busyLayerService,ctuiHotkeyService,gtmBackgroundClickService,panelService){module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService.call(this,$rootScope,$window,$q,$http,$compile,$timeout,$templateCache,ctuiHotkeyService,gtmBackgroundClickService,{populateScope:function(){},
errorHandler:$q.reject,closeAllPanels:function(){panelService.collapseAllPanels()},handleBackButton:!1,onSheetAdded:function(){busyLayerService.pushLayer()},onSheetRemoved:function(){busyLayerService.popLayer()}})};$jscomp$inherits(module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$sheet$ogt_sheet_service$OgtSheetService,module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_service$SheetService);
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$sheet$ogt_sheet_service$OgtSheetService.$inject="$compile $http $q $rootScope $templateCache $timeout $window busyLayerService ctuiHotkeyService gtmBackgroundClickService panelService".split(" ");var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$TEMPLATE_FLAGS={ogt_1p_data:"enable1pData",ogt_consent_defaults:"enableConsentDefaults",ogt_cookie_settings:"enableCookieSettings",ogt_em_form:"enableEmFormInteractions",ogt_ga_send:"enableGaSend"},module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$VendorTemplateService=function(hostedStateService,modelLayer){this.hostedStateService=
hostedStateService;this.modelLayer=modelLayer;this.modelConfiguration={allowEmptyLists:!0,listItemEqualsFullItem:!0,modelToModelKey:function(model){return model.data.publicId},modelUrl:"/api/ogt/templates/:publicId",cacheTtlMs:0,collectionUrl:"/api/ogt/templates",collectionResultProperty:"templates"};this.models=this.newModelLayer()};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$VendorTemplateService.prototype.preInit=function(){this.models=this.newModelLayer()};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$VendorTemplateService.prototype.setInitResult=function(initData){return this.models.populateCollectionCache(initData.templates)};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$VendorTemplateService.prototype.get=function(publicId,options){var $jscomp$this=this;return this.hostedStateService.waitForInit().then(function(){return $jscomp$this.models.get(publicId,options)})};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$VendorTemplateService.prototype.getList=function(options){var $jscomp$this=this;return this.hostedStateService.waitForInit().then(function(){return $jscomp$this.models.getList("non-empty-unused",options).then(function(templateList){return templateList.filter(function(template){var flag=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$TEMPLATE_FLAGS[template.data.publicId];
return!flag||$jscomp$this.hostedStateService.isFlagEnabled(flag)})})})};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$VendorTemplateService.prototype.newModelLayer=function(){var $jscomp$this=this,models=this.modelLayer(this.modelConfiguration);models.getCollectionHash=function(){return $jscomp$this.hostedStateService.getMeasurementId()};models.getModelHash=function(publicId){return publicId};return models};
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$VendorTemplateService.$inject=["hostedStateService","modelLayer"];var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$html_templates$templates=module$exports$google3$third_party$javascript$typings$angular$index.module("ogt.templates",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(forceCachedTemplates,forceUncachedTemplates){return function(){return!forceUncachedTemplates&&!0}}]).run(["$templateCache","html2JsTemplatesCached",
function($templateCache,html2JsTemplatesCached){function escapeQuotes(html){return html.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}html2JsTemplatesCached()&&($templateCache.put("/ogt/app.html",'<ng-container data-ng-if="ctrl.isEmbeddedMode"> <ads-awn-root data-ng-if="ctrl.embeddedPageType === EmbeddedPageType.ADS_AWN_ROOT"> </ads-awn-root> <embedded-activity data-ng-if="ctrl.embeddedPageType === EmbeddedPageType.ACTIVITY_ID" data-public-id="ctrl.embeddedActivityId"> </embedded-activity> <ogt-snippet data-ng-if="ctrl.embeddedPageType === EmbeddedPageType.OGT_SNIPPET"> </ogt-snippet> <gafe-em-root data-ng-if="ctrl.embeddedPageType === EmbeddedPageType.GAFE_EM_ROOT"></gafe-em-root> </ng-container> '),
$templateCache.put("/ogt/components/activity/activity_picker_component.html",'<div class="blg-card" data-ng-if="!ctrl.isConfigurationRequired"> <gtm-empty-placeholder data-icon="gtm-settings-icon" class="read-only"> <div> No configuration required </div> </gtm-empty-placeholder> </div> <div data-ng-if="ctrl.initialized && ctrl.activityGroups.length" data-ng-repeat="group in ::ctrl.activityGroups"> <div data-ng-if="group.slats.length"> <div data-ng-if="::group.title" class="blg-subhead2">{{::group.title}}</div> <div class="blg-card"> <div data-ng-repeat="slat in ::group.slats" class="activity"> <div data-ng-if="::!slat.slatStyle" class="ogt-slat activity-slat wd-picker-activity {{::ctrl.getSlatClass(slat)}}" data-ng-click="ctrl.openActivityPage(slat)" data-ng-class="::{\'activity--clickable\': !ctrl.isInline(slat)}"> <div class="activity-icon blg-body blg-really-comfortable"> <img class="template-thumbnail" data-ng-src="{{::slat.thumbnail}}" alt="{{::slat.displayName}}"/> </div> <div class="activity-details"> <div class="activity-details__description blg-body-and-caption"> <div class="activity-details__description-title"> {{::slat.displayName}} <div class="product-badge product-badge--warning" data-ng-if="::ctrl.inBeta(slat.publicId)"> Beta </div> </div> <div>{{::slat.description}}</div> </div> <inline-activity-editor data-public-id="::slat.publicId" data-ng-if="::ctrl.isInline(slat)"> </inline-activity-editor> </div> </div> <enhanced-measurement data-ng-if="::(slat.slatStyle === \'ENHANCED_MEASUREMENT\' && ctrl.isEnhancedMeasurementEnabled)" data-open-activity-page="::ctrl.openActivityPage(slat)" data-slat="slat"> </enhanced-measurement> </div> </div> <div class="blg-spacer2" data-ng-hide="::$last"></div> </div> </div> '),
$templateCache.put("/ogt/components/activity/activity_root_component.html",['<ng-container data-ng-if="ctrl.hostApp === \'ADS_AWN\' && ctrl.isViewReady"> <div class="blg-body"> The <a href="https://support.google.com/google-ads/answer/7548399" rel="noreferrer" target="_blank">global site tag</a> below is associated with this product account. Use this tag to set up new conversions or audiences, connect with other products, and dynamically configure the tag from right here in Ads, without having to touch your site or app\'s code. </div> <div class="blg-spacer2"></div> <div class="blg-subhead2"> Details </div> <div class="blg-card tagging-details"> <div class="snippet-caption blg-overline"> Global site tag </div> <div class="tagging-details__tag-id" data-copy-text>{{ctrl.tagId}}</div> <div class="blg-spacer2"></div> <div class="snippet-card" data-ng-class="{\'snippet-card--collapsed\': ctrl.isSnippetCollapsed}"> <div class="snippet-card__title-bar snippet-caption" data-ng-click="ctrl.toggleSnippetCollapse()" title="'+
escapeQuotes("Hide or show snippet")+'"> <div class="blg-overline"> Code snippet </div> <i class="snippet-collapse-icon"></i> </div> <div class="snippet-card__body"> <div class="blg-body blg-body--lined blg-comfortable"> Copy and paste this code as the first item into the &lt;head&gt; of every webpage you want to measure </div> <ogt-snippet data-tag-id="ctrl.tagId" data-host-app="ctrl.hostApp"></ogt-snippet> </div> </div> </div> <div class="blg-spacer3"></div> </ng-container> <activity-picker></activity-picker> '].join("\n")),
$templateCache.put("/ogt/components/activity/editor/activity_editor_component.html",'<form data-register-form="activityEditor"> <veditor data-ng-if="ctrl.helper" data-read-only="ctrl.isReadOnly" data-create-mode="ctrl.isCreateMode" data-bind-to="ctrl"> <div data-ng-if="ctrl.helper.getText(ctrl.helper.template.activityDetails.help)" class="activity-help"> <div class="blg-body" data-ng-bind-html="ctrl.helper.getText(ctrl.helper.template.activityDetails.help)"> </div> <div class="blg-spacer3"></div> </div> <veditor-section class="blg-card"> <div class="blg-card__header"> <div class="blg-card__header__title"> {{::ctrl.editorHeaderText}} </div> </div> <div class="blg-spacer2 hide-read-only"></div> <div class="blg-card__content"> <vt-instance data-helper="ctrl.helper" data-instance-field-name="ogtActivityProperties.templateInstance"> </vt-instance> </div> <div class="blg-spacer2"></div> </veditor-section> <veditor-section class="blg-card" data-ng-if = "::ctrl.isPageFilteringEnabled"> <div class="blg-card__header"> <div class="blg-card__header__title"> Page filtering </div> </div> <div class="blg-spacer2 hide-read-only"></div> <div class="blg-card__content"> <page-filter data-ng-model="ctrl.activity.properties.triggers"> </page-filter> </div> <div class="blg-spacer2"></div> </veditor-section> </veditor> </form> <div class="ogt-veditor__actions hide-read-only"> <div class="ogt-veditor__save-wrapper" data-ng-class="{\'ogt-veditor__save-wrapper--dirty\': ctrl.isSaveEnabled}"> <button class="btn btn--filled wd-editor-save" data-ng-disabled="!ctrl.isSaveEnabled" data-ng-click="ctrl.saveActivity()"> {{ctrl.saveButtonText}} </button> <button class="btn ogt-veditor__btn-cancel" data-ng-click="ctrl.close()"> Cancel </button> </div> <ctui-bubble-icon-menu data-ng-if="ctrl.isContextActionsAvailable"> <div data-ng-click="ctrl.copyActivity()"> Copy </div> <div data-ng-click="ctrl.deleteActivity()"> Delete </div> </ctui-bubble-icon-menu> </div> '),
$templateCache.put("/ogt/components/activity/editor/delete_activity_dialog.html",['<div class="ctui-dialog-header"> <div class="ctui-dialog-header__title"> <div class="blg-subhead1 blg-subhead1--comfortable"> Delete Configuration? </div> </div> <div class="ctui-dialog-header__close"> <div class="icon icon-close icon--button" role="button" data-ng-click="ctrl.cancel()" title="'+escapeQuotes("Close dialog")+'"> </div> </div> </div> <div class="ctui-dialog-content"> <div class="blg-body2" data-ng-bind-html="ctrl.deleteDialogBody"> </div> </div> <div class="ctui-dialog-footer"> <button class="btn btn--text" data-ng-click="ctrl.cancel()"> Cancel </button> <button class="btn btn--text" data-ng-click="ctrl.delete()"> Delete </button> </div> '].join("\n")),
$templateCache.put("/ogt/components/activity/editor/inline_activity_editor_component.html",'<div class="inline-activity-editor" data-ng-if="ctrl.helper" data-register-form="inlineActivityEditor" data-ng-form> <vt-instance data-helper="ctrl.helper" data-instance-field-name="ogtActivityProperties.{{ctrl.publicId}}.templateInstance"> </vt-instance> </div> '),$templateCache.put("/ogt/components/activity/editor/unsaved_activity_dialog.html",['<div class="ctui-dialog-header"> <div class="ctui-dialog-header__title"> <div class="blg-subhead1 blg-subhead1--comfortable"> Unsaved changes? </div> </div> <div class="ctui-dialog-header__close"> <div class="icon icon-close icon--button" role="button" data-ng-click="ctrl.stayHere()" title="'+
escapeQuotes("Close dialog")+'"> </div> </div> </div> <div class="ctui-dialog-content"> <div class="blg-body2"> Are you sure you want to leave? There are unsaved changes. If you leave, your changes will be lost. </div> </div> <div class="ctui-dialog-footer"> <button class="btn btn--text" data-ng-click="ctrl.stayHere()"> Stay here </button> <button class="btn btn--text" data-ng-click="ctrl.discardChanges()"> Discard changes </button> </div> '].join("\n")),$templateCache.put("/ogt/components/activity/list/activity_list_component.html",
'<unordered-list data-ng-if="ctrl.activityType === Type.LIST" data-activity-list-entries="ctrl.listEntries" data-activity-template="ctrl.activityTemplate.data" data-open-activity-editor="ctrl.openActivityEditor" data-read-only="ctrl.readOnly"> </unordered-list> <ordered-list data-ng-if="ctrl.activityType === Type.ORDERED_LIST" data-activity-list-entries="ctrl.listEntries" data-activity-template="ctrl.activityTemplate.data" data-open-activity-editor="ctrl.openActivityEditor" data-collection-key="ctrl.collectionKey" data-read-only="ctrl.readOnly"> </ordered-list> '),
$templateCache.put("/ogt/components/activity/list/ordered_list_component.html",'<div data-ng-class="{\'reordering\': ctrl.reorderingEnabled}"> <div class="list-title-bar blg-comfortable"> <div class="list-title-bar__header blg-subhead1"> {{ctrl.listTitleText}} </div> <div class="list-title-bar__actions"> <ctui-menu-filter data-ng-if="ctrl.activityListEntries.length && !ctrl.reorderingEnabled" data-filter="ctrl.filter"> </ctui-menu-filter> <span data-ng-if="!ctrl.readOnly && !ctrl.reorderingEnabled"> <button class="btn" data-ng-if="ctrl.activityListEntries.length" data-ng-click="ctrl.toggleReorderMode()"> Reorder </button> <button class="btn btn--filled wd-list-create" data-ng-click="ctrl.openCreateActivity()"> Create </button> </span> <span data-ng-if="!ctrl.readOnly && ctrl.reorderingEnabled"> <button class="btn" data-ng-disabled="ctrl.isSaving" data-ng-click="ctrl.toggleReorderMode()"> Cancel </button> <button class="btn btn--filled" data-ng-disabled="ctrl.isSaving" data-ng-click="ctrl.applyReorder()"> Apply </button> </span> </div> </div> <div data-ng-if="ctrl.activityListEntries && ctrl.activityListEntries.length" class="list-table"> <div class="list-table__hrow" data-ng-class="{\'list-table__hrow--empty\': !ctrl.hasFilteredResults}"> <div class="list-table__order-col"> Order </div> <div data-ng-repeat="column in ctrl.tableColumns" class="list-table__hcol"> {{::ctrl.getHeaderDisplayName(column)}} </div> </div> <div class="list-table__body" data-dnd-list="ctrl.activityListEntries" data-dnd-drop="ctrl.onDrop(event, index, entry)"> <div class="list-table__row navigation-arrow" data-ng-if="!entry.hidden" data-ng-repeat="entry in ctrl.activityListEntries" data-dnd-draggable="entry" data-dnd-dragstart="ctrl.onDragStart($index)" data-dnd-dragend="ctrl.onDragEnd()" data-dnd-moved="ctrl.onMoved()" data-dnd-effect-allowed="move" data-dnd-disable-if="!ctrl.reorderingEnabled" data-ng-click="ctrl.openEditActivity(entry)"> <div class="list-table__order-col"> <div data-ng-if="ctrl.reorderingEnabled" class="list-table__order-icon icon icon-drag-indicator"> </div> <span data-ng-if="!ctrl.reorderingEnabled"> {{$index + 1}} </span> </div> <div class="list-table__col" data-ng-repeat="column in ctrl.tableColumns"> <param-display-value data-param-name="column.paramName" data-helper="entry.helper"> </param-display-value> </div> </div> </div> </div> <div data-ng-if="!ctrl.activityListEntries.length" class="gtm-table__empty-text blg-spacer3" data-ng-bind-html="::ctrl.emptyListText"></div> </div> '),
$templateCache.put("/ogt/components/activity/list/param_display_value_component.html",'<div class="param-value-row" data-ng-if="!ctrl.isMultiRowValue && ctrl.simpleValue"> {{ctrl.simpleValue}} </div> <ng-container data-ng-if="ctrl.isMultiRowValue"> <div class="param-value-row" data-ng-repeat="row in ctrl.multiRowValue | limitTo:2"> <span class="param-value-row__chip" data-ng-repeat="cell in row"> {{cell}} </span> </div> <div class="param-value-row" data-ng-if="ctrl.multiRowValue.length > 2"> <span class="param-value-row__chip" data-ng-if="ctrl.multiRowValue.length === 3" data-ng-repeat="cell in ctrl.multiRowValue[2]"> {{cell}} </span> <span data-ng-if="ctrl.multiRowValue.length > 3"> {{ctrl.getOverflowMessage(ctrl.multiRowValue.length - 2)}} </span> </div> </ng-container> '),
$templateCache.put("/ogt/components/activity/list/unordered_list_component.html",'<div gtm-table data-custom-item-name="entry" data-items="ctrl.activityListEntries" data-filters="::ctrl.tableFilter" data-table-id="activity-unordered-list"> <div class="list-title-bar blg-comfortable"> <div class="list-title-bar__header blg-subhead1"> {{ctrl.listTitleText}} </div> <div class="list-title-bar__actions"> <gtm-table-filter></gtm-table-filter> <button class="btn btn--filled wd-list-create" data-ng-if="!ctrl.readOnly" data-ng-click="ctrl.openCreateActivity()"> Create </button> </div> </div> <table class="gtm-table--hide-empty"> <tr class="no-hover"> <th data-ng-repeat="column in ctrl.tableColumns" data-gtm-sort-column-by="\'data.name\'" data-gtm-default-sort-column="{{$first}}"> {{::ctrl.getHeaderDisplayName(column)}} </th> </tr> <tr data-gtm-table-row> <td data-ng-click="ctrl.openEditActivity(entry)" data-ng-repeat="column in ctrl.tableColumns" data-ng-class="{ \'navigation-arrow\': $index === ctrl.tableColumns.length - 1 }"> <param-display-value data-param-name="column.paramName" data-helper="entry.helper"> </param-display-value> </td> </tr> </table> <gtm-empty-table> <div class="gtm-table__empty-text blg-spacer3" data-ng-bind-html="::ctrl.emptyListText"></div> </gtm-empty-table> </div> '),
$templateCache.put("/ogt/components/activity/sliders/activity_slider_root_component.html",'<div class="gtm-sheet-wrapper gtm-sheet--centered"> <div class="gtm-sheet-header" data-busy-indicator> <i class="gtm-sheet-header__close wd-picker-sheet-close" data-ng-click="ctrl.close()"></i> <div class="gtm-sheet-header__title"> <div class="blg-title"> More tagging settings </div> <header-details></header-details> </div> <div class="gtm-sheet-header__actions"></div> </div> <div class="sheet-scrollpane" data-ogt-no-access> <div class="sheet-content sheet-padding"> <activity-root></activity-root> <div class="blg-spacer3"></div> </div> </div> </div> '),
$templateCache.put("/ogt/components/activity/sliders/editor_slider_component.html",'<div class="gtm-sheet-wrapper gtm-sheet--centered wd-editor-wrapper"> <div class="gtm-sheet-header" data-busy-indicator> <i class="gtm-sheet-header__close" data-ng-click="ctrl.close()"></i> <div class="gtm-sheet-header__title"> <div class="blg-title wd-editor-title"> {{ctrl.editorTitleText}} </div> <header-details class="wd-editor-header-details"></header-details> </div> </div> <div class="sheet-scrollpane" data-ogt-no-access> <div class="sheet-content" data-ng-if="ctrl.template"> <div class="blg-spacer3"></div> <activity-editor class="activity-editor--in-slider" data-ng-class="::{\'activity-editor--bottom-save\': ctrl.useBottomSave}" data-activity-id="::ctrl.activityId" data-collection-id="::ctrl.collectionId" data-public-id="::ctrl.publicId"> </activity-editor> <activity-picker data-ng-if="::ctrl.subgroups.length" data-activity-groups="::ctrl.subgroups"></activity-picker> </div> </div> </div> '),
$templateCache.put("/ogt/components/activity/sliders/group_slider_component.html",'<div class="gtm-sheet-wrapper gtm-sheet--centered"> <div class="gtm-sheet-header" data-busy-indicator> <i class="gtm-sheet-header__close wd-list-sheet-close" data-ng-click="ctrl.close()"></i> <div class="gtm-sheet-header__title"> <div class="blg-title"> <div>{{ctrl.groupSlat.displayName}}</div> </div> <header-details></header-details> </div> <div class="gtm-sheet-header__actions"></div> </div> <div class="sheet-scrollpane" data-ogt-no-access> <div class="sheet-content sheet-padding" data-ng-if="ctrl.groupSlat"> <div class="blg-spacer3"></div> <div data-ng-if="::ctrl.groupSlat.groupHelp" class="activity-help"> <div class="blg-body" data-ng-bind-html="::ctrl.groupSlat.groupHelp"></div> <div class="blg-spacer3"></div> </div> <activity-picker data-activity-groups="::ctrl.groupSlat.subgroups"></activity-picker> </div> </div> </div> '),
$templateCache.put("/ogt/components/activity/sliders/list_slider_component.html",'<div class="gtm-sheet-wrapper gtm-sheet--centered"> <div class="gtm-sheet-header" data-busy-indicator> <i class="gtm-sheet-header__close wd-list-sheet-close" data-ng-click="ctrl.close()"></i> <div class="gtm-sheet-header__title"> <div class="blg-title"> <div>{{ctrl.activityTemplate.data.displayName.text[0].value}}</div> </div> <header-details></header-details> </div> <div class="gtm-sheet-header__actions"></div> </div> <div class="sheet-scrollpane" data-ogt-no-access> <div class="sheet-content sheet-padding" data-ng-show="ctrl.activityTemplate"> <div class="blg-spacer3"></div> <div data-ng-if="ctrl.activityTemplate.data.activityDetails.listHelp.text[0].value" class="activity-help"> <div class="blg-body" data-ng-bind-html="ctrl.activityTemplate.data.activityDetails.listHelp.text[0].value"> </div> <div class="blg-spacer3"></div> </div> <div class="blg-card"> <activity-list data-public-id="::ctrl.publicId"></activity-list> </div> <div data-ng-if="::ctrl.subgroups.length"> <div class="blg-spacer3"></div> <activity-picker data-activity-groups="::ctrl.subgroups"></activity-picker> </div> </div> </div> </div> '),
$templateCache.put("/ogt/components/embedded/ads_awn_root_component.html",'<div class="ads-awn-root wd-embedded-page" data-ogt-no-access data-busy-indicator data-busy-indicator-position="TOP"> <div class="ads-awn-page-content"> <div class="blg-spacer3"></div> <activity-root></activity-root> <div class="blg-spacer3"></div> </div> </div> '),$templateCache.put("/ogt/components/embedded/embedded_activity_component.html",'<div data-busy-indicator data-busy-indicator-position="TOP" data-ogt-no-access> <div data-ng-if="ctrl.activityType === Type.INLINE" class="activity ogt-slat"> <div class="activity-icon blg-body blg-really-comfortable"> <img class="template-thumbnail" data-ng-src="{{::getThumbnailUrl(ctrl.template.data.brand.thumbnail)}}" alt="{{::ctrl.template.data.displayName.text[0].value}}"/> </div> <div class="activity-details"> <div class="activity-details__description blg-body-and-caption"> <div class="activity-details__description-title"> {{::ctrl.template.data.displayName.text[0].value}} </div> <div>{{::ctrl.template.data.description.text[0].value}}</div> </div> <inline-activity-editor data-public-id="ctrl.publicId"></inline-activity-editor> </div> </div> <div data-ng-if="ctrl.activityType === Type.SINGLETON" class="blg-body"> </div> <div data-ng-if="ctrl.activityType === Type.LIST || ctrl.activityType === Type.ORDERED_LIST"> <activity-list data-public-id="ctrl.publicId"></activity-list> </div> </div> '),
$templateCache.put("/ogt/components/embedded/enhanced_measurement_component.html",'<div data-ng-if="ctrl.initialized"> <div class="activity-slat"> <div class="activity-icon blg-body blg-really-comfortable"> <img class="template-thumbnail" alt="Enhanced measurement" src="https://fonts.gstatic.com/s/i/googlematerialicons/magic_button/v9/gm_blue-24dp/2x/gm_magic_button_gm_blue_24dp.png"> </div> <div class="activity-details"> <div class="blg-spacer1"></div> <div class="blg-subtitle2"> Enhanced measurement </div> <div class="blg-caption blg-spacer1"> <b> Automatically measure interactions and content on your sites in addition to standard page view measurement. </b> <br> Data from on-page elements such as links and embedded videos may be collected with relevant events. You must ensure that no personally-identifiable information will be sent to Google. <a href="https://support.google.com/analytics/answer/9216061" target="_blank"> Learn more </a> </div> <md-switch class="em-toggle-switch hide-read-only" aria-label="Enhanced measurement" data-ng-disabled="ctrl.isReadOnly || !ctrl.initialized || ctrl.transactionInProgress" data-ng-model="ctrl.toggleAllState"> </md-switch> </div> </div> <div class="em-measuring"> <div class="blg-subtitle2"> Measuring: </div> <div class="em-chip-list"> <div class="em-chip" data-ng-repeat="chip in ctrl.enabledChips | limitTo:(ctrl.chipsExpanded ? \'Infinity\' : 3)"> <i class="em-chip__icon" data-ng-class="::chip.iconClass"></i> {{::chip.name}} </div> <button class="btn btn--text" data-ng-if="!ctrl.chipsExpanded && ctrl.enabledChips.length > 3" data-ng-click="ctrl.setChipsExpanded(true)"> + {{ctrl.enabledChips.length - 3}} more </button> <button class="btn btn--text" data-ng-if="ctrl.chipsExpanded && ctrl.enabledChips.length > 3" data-ng-click="ctrl.setChipsExpanded(false)"> Show less </button> <div class="blg-body blg-comfortable" style="padding-left: 8px" data-ng-if="ctrl.enabledChips.length == 0"> None </div> </div> <i class="em-gear-btn" data-ng-if="ctrl.initialized" data-ng-click="ctrl.openEmPage()"> </i> </div> </div>'),
$templateCache.put("/ogt/components/embedded/gafe_em_root_component.html",'<div class="gafe-em-root wd-embedded-page" data-ogt-no-access data-busy-indicator data-busy-indicator-position="TOP"> <div class="gafe-em-page-content"> <enhanced-measurement data-open-activity-page="::ctrl.openActivityPage()" data-slat="::ctrl.emSlat"> </enhanced-measurement> </div> </div> '),$templateCache.put("/ogt/components/container/header_details_component.html",'<div data-ng-show="!!ctrl.name" class="blg-body-and-caption"> <div>{{ctrl.name}}</div> <div> <span data-ng-if="!!ctrl.prefix">{{ctrl.prefix}}:</span> {{ctrl.measurementId}} </div> </div> '),
$templateCache.put("/ogt/components/pagefilter/page_filter_component.html",' <div class="blg-caption"> This configuration applies to </div> <md-radio-group ng-model="ctrl.filterMode" data-ng-change="ctrl.filterModeChanged()" class="blg-radio-group hide-read-only"> <md-radio-button value="{{::Mode.ALL}}"> All pages </md-radio-button> <md-radio-button value="{{::Mode.SOME}}"> Some pages </md-radio-button> </md-radio-group> <div class="show-read-only blg-body"> <span data-ng-if="!ctrl.isSomePagesMode">All pages</span> <span data-ng-if="ctrl.isSomePagesMode">Some pages</span> </div> <div data-ng-if="ctrl.isSomePagesMode"> <div class="page-filter__predicate-header-row"> <div class="page-filter__predicate-cell blg-caption">Parameter</div> <div class="page-filter__predicate-cell blg-caption">Operator</div> <div class="page-filter__predicate-cell blg-caption">Value</div> <div class="page-filter__predicate-cell-action"></div> </div> <div data-ng-repeat="trigger in ctrl.triggers track by $index" data-ng-init="errorFieldPrefix = \'ogtActivityProperties.triggers.\' + $index"> <div class="page-filter__predicate-row"> <div class="blg-form-input page-filter__predicate-cell"> <select data-ng-model="ctrl.getPredicate(trigger).arg[0].macroReference" data-ng-options="c.key as c.displayName for c in ctrl.parameterOptions" data-ctui-secure-id="errorFieldPrefix + \'.filter.0.arg.0\'" data-gtm-form-error-field class="blg-select hide-read-only"> </select> <div class="show-read-only blg-body"> {{ctrl.getParameterDisplayName(ctrl.getPredicate(trigger).arg[0].macroReference)}} </div> <div data-gtm-form-error-label class="blg-error" data-field-name="{{errorFieldPrefix}}.filter.0.arg.0"> </div> </div> <div class="blg-form-input page-filter__predicate-cell"> <select data-ng-model="ctrl.getPredicate(trigger).operator" data-ng-options="c.key as c.displayName for c in ctrl.operatorOptions" data-ng-change="ctrl.operatorChanged(trigger)" data-ctui-secure-id="errorFieldPrefix + \'.filter.0.type\'" data-gtm-form-error-field class="blg-select hide-read-only"> </select> <div class="show-read-only blg-body"> {{ctrl.getOperatorDisplayName(ctrl.getPredicate(trigger).operator)}} </div> <div data-gtm-form-error-label class="blg-error" data-field-name="{{errorFieldPrefix}}.filter.0.type"> </div> </div> <div class="blg-form-input page-filter__predicate-cell"> <input type="text" data-ng-model="ctrl.getPredicate(trigger).arg[1].string" data-ctui-secure-id="errorFieldPrefix + \'.filter.0.arg.1\'" class="blg-input hide-read-only"> <div class="show-read-only blg-body"> {{ctrl.getPredicate(trigger).arg[1].string}} </div> <div data-gtm-form-error-label class="blg-error" data-field-name="{{errorFieldPrefix}}.filter.0.arg.1"> </div> </div> <div class="page-filter__predicate-cell-action"> <i class="icon icon-remove-circle-outline icon--button hide-read-only" data-ng-click="ctrl.removeRow($index)"></i> </div> </div> <div class="page-filter__predicate-row blg-error" data-gtm-form-error-label data-field-name="{{errorFieldPrefix}}"> </div> <div class="page-filter__predicate-row blg-error" data-gtm-form-error-label data-field-name="{{errorFieldPrefix}}.filter"> </div> </div> <div class="blg-spacer1"></div> <button class="btn hide-read-only" type="button" data-ng-click="ctrl.addRow()" data-ng-disabled="!ctrl.canAddConditions"> Add condition </button> </div> '),
$templateCache.put("/ogt/components/guidedflowdefinitions/aw_gclidless_flow_failed_dialog.html",'<div class="ctui-dialog-header"> <div class="ctui-dialog-header__title"> <div class="blg-subhead1 blg-subhead1--comfortable"> Your website is not configured for lead measurement </div> </div> </div> <div class="ctui-dialog-content"> <div class="blg-body2"> You are not quite finished. If you exit now, you can finish setup anytime from the <b>Global site tag</b> page, which can be found in the Tools &amp; Settings menu under <b>Setup</b>. </div> </div> <div class="ctui-dialog-footer"> <button class="btn btn--text" data-ng-click="ctrl.confirm()"> OK </button> </div> '),
$templateCache.put("/ogt/components/guidedflowdefinitions/aw_gclidless_flow_succeed_dialog.html",'<div class="ctui-dialog-header"> <div class="ctui-dialog-header__title"> <div class="blg-subhead1 blg-subhead1--comfortable"> Your website is configured for lead measurement </div> </div> </div> <div class="ctui-dialog-content"> <div class="blg-body2"> You can update these settings anytime on the <b>Global site tag</b> page, which can be found in the Tools &amp; Settings menu under <b>Setup</b> </div> </div> <div class="ctui-dialog-footer"> <button class="btn btn--text" data-ng-click="ctrl.confirm()"> OK </button> </div> '))}]);var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_OgtApplicationController=function($element,$scope,hostedStateService,iframeService){this.$element=$element;this.hostedStateService=hostedStateService;this.iframeService=iframeService;iframeService.startListening();$scope.EmbeddedPageType=module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$integration$ogt_integration_types$EmbeddedPageType};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_OgtApplicationController.prototype.$onInit=function(){this.resizeOnHeightChange()};
module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_OgtApplicationController.prototype.resizeOnHeightChange=function(){var $jscomp$this=this;if(!this.hostedStateService.isCoversFullScreen()){var currentHeight=0;(new ResizeObserver(function(){var height=$jscomp$this.$element.get(0).offsetHeight;currentHeight!==height&&(currentHeight=height,$jscomp$this.iframeService.resize(void 0,height))})).observe(this.$element.get(0))}};
$jscomp$global.Object.defineProperties(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_OgtApplicationController.prototype,{isEmbeddedMode:{configurable:!0,enumerable:!0,get:function(){return this.hostedStateService.isEmbeddedMode()}},embeddedActivityId:{configurable:!0,enumerable:!0,get:function(){return this.hostedStateService.getEmbeddedActivityId()}},embeddedPageType:{configurable:!0,enumerable:!0,get:function(){return this.hostedStateService.getEmbeddedPageType()}}});
var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_ogtApplicationComponent={controller:module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_OgtApplicationController,controllerAs:"ctrl",templateUrl:"/ogt/app.html"};module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$html_templates$templates.value("forceCachedTemplates",!0);ctui$templates.value("forceCachedTemplates",!0);
var module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_ogtConfig=function($animateProvider,$compileProvider,$httpProvider,$mdThemingProvider,$provide){$httpProvider.defaults.xsrfCookieName="OGT-XSRF-TOKEN";$httpProvider.interceptors.push("appVersionInterceptor","localeInterceptor","multiloginInterceptor","productHeaderInterceptor","errorHandlerInterceptor","hostIcsHeaderInterceptor");$mdThemingProvider.definePalette("google-blue",$mdThemingProvider.extendPalette("blue",
module$exports$google3$analytics$common$material$palettes$GOOGLE_BLUE));$mdThemingProvider.theme("cte").primaryPalette("google-blue",{default:"600"}).accentPalette("google-blue",{default:"500"}).backgroundPalette("grey",{default:"200","hue-1":"A100"});$mdThemingProvider.setDefaultTheme("cte");$compileProvider.debugInfoEnabled(!1);$compileProvider.cssClassDirectivesEnabled(!1);$compileProvider.commentDirectivesEnabled(!1);$animateProvider.classNameFilter(/ng-animated/);$provide.value("preloadData",
window.preloadData||{})};module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_ogtConfig.$inject=["$animateProvider","$compileProvider","$httpProvider","$mdThemingProvider","$provide"];
var module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$app$ogtAppModule=module$exports$google3$third_party$javascript$typings$angular$index.module("ogtApplication",["ngMaterial",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$editor$activity_editor_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$group_service$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$list$activity_list_module$module.name,
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$activity_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$service$activity_service$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$activity$sliders$activity_slider_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$busy$busy_module$module.name,
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$embedded$embedded_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$collection$collection_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$bubble$bubble$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$dialog$dialog_module$dialogModule.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$input$input_module$module.name,
ctui$templates.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$veditor$veditor_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$container$container_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$copytext$copy_text_module$copyTextModule.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$events$events_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$error$error_module$errorModule.name,
module$exports$google3$java$com$google$analytics$containertag$ui$common$guidedflow$guided_flow_module$guidedFlowModule.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$interceptors$interceptors_module$interceptorsModule.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$modellayer$model_layer$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$noaccess$no_access_module$noAccessModule.name,
module$exports$google3$java$com$google$analytics$containertag$ui$common$ogtsnippet$ogt_snippet_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$pagefilter$page_filter_module$pageFilterModule.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$panel$panel$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$sheet$sheet_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$table$table_module$module.name,
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$html_templates$templates.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$toast$toast_module$module.name,module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$display$vendor_template_module$module.name]).config(module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_ogtConfig).decorator("toastService",["$delegate","hostedStateService","embeddedToastService",
function($delegate,hostedStateService,embeddedToastService){return hostedStateService.isCoversFullScreen()?$delegate:embeddedToastService}]).component("ogtApplication",module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$app_ogtApplicationComponent).service("hostedStateService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$appstate$hosted_state_service$HostedStateService).service("iframeService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$iframe_service$IframeService).service("initService",
module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$iframe$init_service$InitService).service("sheetService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$sheet$ogt_sheet_service$OgtSheetService).service("routerService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$router$router_service$RouterService).service("vendorTemplateService",module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$components$vendortemplate$vendor_template_service$VendorTemplateService).service("vtSuggestionService",
module$exports$google3$java$com$google$analytics$containertag$ui$common$vendortemplate$lib$vendor_template_suggestion_service$VendorTemplateSuggestionService).factory("guidedFlowDefinitionsFactory",module$contents$google3$java$com$google$analytics$containertag$ui$sibelius$components$guidedflowdefinitions$guided_flow_definitions_guidedFlowDefinitionsFactoryProvider);module$exports$google3$third_party$javascript$typings$angular$index.element(document).ready(function(){module$exports$google3$third_party$javascript$typings$angular$index.bootstrap(document,[module$exports$google3$java$com$google$analytics$containertag$ui$sibelius$app$ogtAppModule.name])});
